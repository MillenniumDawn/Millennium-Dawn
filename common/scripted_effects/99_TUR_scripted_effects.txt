TUR_update_military_standing = {
	set_variable = { TUR_military_standing_value = 0 }

	#Social conservatism - government counts as double negative
	set_variable = { TUR_military_standing_conservatism = ROOT.social_conservatism_government }
	multiply_variable = { TUR_military_standing_conservatism = -2 }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_conservatism }

	#Military internal faction opinion counts as positive
	set_variable = { TUR_military_standing_opinion = ROOT.the_military_opinion }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_opinion }

	#Corruption above level 5 is -20 points per level
	set_variable = { TUR_military_standing_corruption = 0 }
	if = {
		limit = { has_idea = systematic_corruption }
		add_to_variable = { TUR_military_standing_corruption = -20 }
	}
	else_if = {
		limit = { has_idea = unrestrained_corruption }
		add_to_variable = { TUR_military_standing_corruption = -40 }
	}
	else_if = {
		limit = { has_idea = rampant_corruption }
		add_to_variable = { TUR_military_standing_corruption = -60 }
	}
	else_if = {
		limit = { has_idea = crippling_corruption }
		add_to_variable = { TUR_military_standing_corruption = -80 }
	}
	else_if = {
		limit = { has_idea = paralyzing_corruption }
		add_to_variable = { TUR_military_standing_corruption = -100 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_corruption }

	#Bad economic cycle is -25 points per level below stable growth
	set_variable = { TUR_military_standing_economy = 0 }
	if = {
		limit = { has_idea = stagnation }
		add_to_variable = { TUR_military_standing_economy = -25 }
	}
	else_if = {
		limit = { has_idea = recession }
		add_to_variable = { TUR_military_standing_economy = -50 }
	}
	else_if = {
		limit = { has_idea = depression }
		add_to_variable = { TUR_military_standing_economy = -75 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_economy }

	#Interest rate multiplied by -5
	set_variable = { TUR_military_standing_interest_rate = ROOT.interest_rate }
	round_variable = TUR_military_standing_interest_rate
	multiply_variable = { TUR_military_standing_interest_rate = -5 }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_interest_rate }

	#Different parties have different base opinions
	set_variable = { TUR_military_standing_party = 0 }
	if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 10 }
				is_in_array = { ruling_party = 11 }
				is_in_array = { ruling_party = 19 }
			}
		}
		set_variable = { TUR_military_standing_party = -250 }
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					NOT = { has_country_flag = TUR_beacon_of_islam }
					is_in_array = { ruling_party = 0 }
				}
				is_in_array = { ruling_party = 6 }
				is_in_array = { ruling_party = 8 }
				is_in_array = { ruling_party = 9 }
				is_in_array = { ruling_party = 12 }
				AND = {
					has_country_flag = TUR_beacon_of_islam
					is_in_array = { ruling_party = 13 }
				}
				is_in_array = { ruling_party = 20 }
				is_in_array = { ruling_party = 21 }
				is_in_array = { ruling_party = 23 }
			}
		}
		set_variable = { TUR_military_standing_party = -50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 5 }
				is_in_array = { ruling_party = 7 }
				is_in_array = { ruling_party = 14 }
				is_in_array = { ruling_party = 17 }
			}
		}
		set_variable = { TUR_military_standing_party = -50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 4 }
				is_in_array = { ruling_party = 15 }
			}
		}
		set_variable = { TUR_military_standing_party = -25 }
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					has_country_flag = TUR_beacon_of_islam
					is_in_array = { ruling_party = 1 }
				}
				is_in_array = { ruling_party = 2 }
				AND = {
					NOT = { has_country_flag = TUR_beacon_of_islam }
					is_in_array = { ruling_party = 13 }
				}
				is_in_array = { ruling_party = 16 }
			}
		}
		set_variable = { TUR_military_standing_party = 50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 1 }
				is_in_array = { ruling_party = 3 }
				is_in_array = { ruling_party = 18 }
			}
		}
		set_variable = { TUR_military_standing_party = 100 }
	}
	else_if = {
		limit = {
			is_in_array = { ruling_party = 22 }
		}
		set_variable = { TUR_military_standing_party = 200 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_party }
}
TUR_mafia_events_random = {
	random_list = {
		60 = {
			add_to_variable = { TUR_event_counter_1_mafia = 1 }
		}
		40 = {
		}
	}
	if = {
		limit = { check_variable = { TUR_event_counter_1_mafia > 7 } }
			set_variable = { TUR_event_counter_1_mafia = 0 }
			random_list = {
				25 = {
					country_event = Turkish_mafia.1
				}
				25 = {
					country_event = Turkish_mafia.2
				}
				25 = {
					country_event = Turkish_mafia.3
				}
				25 = {
					country_event = Turkish_mafia.4
				}
			}
	}
}
TUR_parties_random = {
	random_list = {
		50 = {
			add_to_variable = { TUR_event_counter_1_party = 1 }
		}
		50 = {
		}
	}
	if = {
		limit = { check_variable = { TUR_event_counter_1_party > 5 } }
			set_variable = { TUR_event_counter_1_party = 0 }
			random_list = {
				25 = {
					country_event = Turkish_parties.1
				}
				25 = {
					country_event = Turkish_parties.2
				}
				25 = {
					country_event = Turkish_parties.3
				}
				25 = {
					country_event = Turkish_parties.4
				}
			}
	}
}
TUR_government_change = {
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_NEW_TURKIC_STATE
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_OTTOMAN_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_OTTOMAN_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_PAN_TURKIC
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_TURKIC_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_TURKIC_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_VANGUARD
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_VANGUARD_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_VANGUARD_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_ANATOLIAN_SYNDICATE
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_KURDISH_SYNDICATE
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_KURDISH_SYNDICATE
		}
	}
}
TUR_check_effectiveness_van = {
	if = {
		limit = {
			935 = {
				radar_station > 4
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 40 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				radar_station > 3
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 30 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				radar_station > 2
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 20 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				radar_station > 1
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 10 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				radar_station > 0
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 5 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				radar_station = 0
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 3 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}

	# Checking for Fort level

	if = {
		limit = {
			935 = {
				any_province_building_level = {
					province = {
						id = 864
					}
					building = bunker
					level > 4
				}
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 10 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				any_province_building_level = {
					province = {
						id = 864
					}
					building = bunker
					level > 3
				}
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 8 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				any_province_building_level = {
					province = {
						id = 864
					}
					building = bunker
					level > 2
				}
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 6 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				any_province_building_level = {
					province = {
						id = 864
					}
					building = bunker
					level > 1
				}
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 4 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				any_province_building_level = {
					province = {
						id = 864
					}
					building = bunker
					level < 1
				}
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 2 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}

	# Checking airport level

	if = {
		limit = {
			935 = {
				air_base > 9
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 40 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				air_base > 8
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 30 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				air_base > 7
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 20 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				air_base > 6
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 10 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				air_base > 5
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 5 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
	else_if = {
		limit = {
			935 = {
				air_base < 5
			}
		}
		add_to_variable = { var = TUR_current_effectiveness value = 3 }
		clamp_variable = { var = TUR_current_effectiveness min = 0 max = 100 }
	}
}

TUR_PKK_PRESTRIKE = {
	if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 90 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -800 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_800_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -700 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_700_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 80 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -700 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_700_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -600 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_600_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 70 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -600 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_600_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -500 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_500_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 60 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -500 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_500_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -400 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_400_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 50 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -400 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_400_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -300 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_300_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 40 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -300 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_300_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -200 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_200_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 30 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -200 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_200_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -100 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_100_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 20 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -100 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_100_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -50 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_50_TT
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TUR_current_effectiveness > 10 }
		}
		random_list = {
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -50 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_50_TT
			}
			50 = {
				add_to_variable = { TUR_PKK_BASE_MANPOWER = -25 }
				custom_effect_tooltip = TUR_PKK_DAMAGE_25_TT
			}
		}
	}
}