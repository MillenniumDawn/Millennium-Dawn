# Original Author(s): TheGeneral
### search_filters = {FOCUS_FILTER_CMW}

shared_focus = {
	id = CMW_Aso_Rock_Declaration
	icon = wip

	x = 80
	y = 0

	cost = 10

	# Offsets for Custom Focus Trees
	offset = {
	}

	allow_branch = {
		Is_Commonwealth_Member = yes
	}

	search_filters = { FOCUS_FILTER_CMW FOCUS_FILTER_DIPLOMACY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Aso_Rock_Declaration"
		add_political_power = 150
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}

	ai_will_do = {
		factor = 1
	}
}

focus = {
	id = CMW_Leaving_The_Organisation
	icon = wip

	x = -8
	y = 1
	relative_position_id = CMW_Aso_Rock_Declaration

	cost = 10

	prerequisite = { focus = CMW_Aso_Rock_Declaration }
	search_filters = {
		FOCUS_FILTER_CMW
		FOCUS_FILTER_DIPLOMACY
	}
	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Leaving_The_Organisation"
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = CMW_Leaving_The_Organisation_tt
		hidden_effect = {
			remove_dynamic_modifier = {
				modifier = Commonwealth_member_modifier
			}
		}
	}

	completion_reward_joint_member = {
		every_other_country = {
			limit = {
				Is_Commonwealth_Member = yes
			}
			country_event = { id = CMW_Leaving }
		}
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Charter
	icon = wip

	x = -5
	y = 1
	relative_position_id = CMW_Aso_Rock_Declaration

	cost = 10

	prerequisite = { focus = CMW_Aso_Rock_Declaration }
	search_filters = {
		FOCUS_FILTER_CMW
		FOCUS_FILTER_DIPLOMACY
	}

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Charter"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Stability_Factor = 0.05
		}
		CMW_modify_stability_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Ministerial_Action_Group
	icon = wip

	x = -1
	y = 1
	relative_position_id = CMW_Charter

	cost = 10

	prerequisite = { focus = CMW_Charter }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Ministerial_Action_Group"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Stability_Factor = 0.05
		}
		CMW_modify_stability_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Kampala_Review
	icon = wip

	x = -2
	y = 1
	relative_position_id = CMW_Ministerial_Action_Group

	cost = 10

	prerequisite = { focus = CMW_Ministerial_Action_Group }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Kampala_Review"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Stability_Factor = 0.05
		}
		CMW_modify_stability_factor_effect = yes
	}

	completion_reward_joint_originator = {
		add_political_power = 100
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Anti_Corruption_Centre
	icon = wip

	x = 0
	y = 1
	relative_position_id = CMW_Ministerial_Action_Group

	cost = 10

	prerequisite = { focus = CMW_Ministerial_Action_Group }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		root = {
			NOT = { has_idea = negligible_corruption }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Anti_Corruption_Centre"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_corruption_cost_factor = -0.25
		}
		CMW_modify_corruption_cost_factor_effect = yes
	}

	completion_reward_joint_originator = {
		decrease_corruption = yes
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Association_Legislative_Council
	icon = wip

	x = 0
	y = 2
	relative_position_id = CMW_Ministerial_Action_Group

	cost = 10

	prerequisite = { focus = CMW_Anti_Corruption_Centre }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Association_Legislative_Council"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Expected_Adm_Modifier = 0.5
		}
		CMW_modify_expected_adm_modifier_effect = yes
		set_temp_variable = {
			CMW_Stability_Factor = 0.10
		}
		CMW_modify_stability_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Promoting_Democracy
	dynamic = yes
	#Needs Dynamic naming
	icon = wip
	relative_position_id = CMW_Charter
	x = 1
	y = 1
	cost = 10
	prerequisite = {
		focus = CMW_Charter
	}
	available = {
		Is_Commonwealth_Member = yes
	}
	search_filters = {
		FOCUS_FILTER_CMW
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Promoting_Democracy"
		if = {
			limit = {
				ENG = {
					has_government = democratic
				}
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
				}
			}
		else_if = {
			limit = {
				ENG = {
					has_government = communism
				}
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
				}
			}
		else_if = {
			limit = {
				ENG = {
					has_government = neutrality
				}
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
				}
			}
		else_if = {
			limit = {
				ENG = {
					has_government = nationalist
				}
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
				}
			}
		}
	completion_reward_joint_originator = {
	}
	completion_reward_joint_member = {
	}
}
joint_focus = {
	id = CMW_Connectivity_Agenda
	icon = wip

	x = 1
	y = 2
	relative_position_id = CMW_Charter

	cost = 10

	prerequisite = { focus = CMW_Promoting_Democracy }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Connectivity_Agenda"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Investment_Cost_Modifier = -0.15
		}
		CMW_modify_investment_cost_modifier_effect = yes
		newline = yes
		random_owned_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward_joint_originator = {
		random_owned_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Parliament
	icon = wip

	x = 1
	y = 4
	relative_position_id = CMW_Charter

	cost = 10

	prerequisite = { focus = CMW_Connectivity_Agenda }
	prerequisite = { focus = CMW_Association_Legislative_Council }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Parliament"
		custom_effect_tooltip = CMW_Parliament_tt
		hidden_effect = {
			allow_elections = yes
		}
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_of_Learning
	icon = university

	x = 0
	y = 1
	relative_position_id = CMW_Aso_Rock_Declaration

	cost = 10

	prerequisite = { focus = CMW_Aso_Rock_Declaration }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_of_Learning"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Research_Speed_Factor_Change = 0.02
		}
		CMW_modify_research_speed_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Legal_Education_Association
	icon = wip

	x = -2
	y = 1
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_of_Learning }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Legal_Education_Association"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Fintech_Toolkit
	icon = wip

	x = -2
	y = 3
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Legal_Education_Association }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Fintech_Toolkit"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Education_Framework
	icon = wip

	x = 0
	y = 1
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_of_Learning }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Education_Framework"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_CFTC
	icon = wip

	x = 0
	y = 2
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Education_Framework }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_CFTC"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_School_Leaders
	icon = wip

	x = 0
	y = 3
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_CFTC }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_School_Leaders"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Trade_Association
	icon = wip

	x = 2
	y = 1
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_of_Learning }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Trade_Association"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Joint_Research_Initiative
	icon = wip

	x = 2
	y = 2
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Trade_Association }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Joint_Research_Initiative"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Hub_And_Spokes_Program
	icon = ExpandTrade

	x = 2
	y = 3
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Joint_Research_Initiative }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Hub_And_Spokes_Program"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Trade_Opinion_Factor_change = 0.10
		}
		CMW_modify_trade_opinion_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_New_Petroleum_Group
	icon = oil_companies

	x = 2
	y = 4
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Hub_And_Spokes_Program }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_New_Petroleum_Group"
		custom_effect_tooltip = CMW_Member_Spirit_Change_TT
		set_temp_variable = {
			CMW_Fuel_Gain_Factor_change = 0.05
		}
		CMW_modify_fuel_gain_factor_effect = yes
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Valuta
	icon = wip

	x = 0
	y = 4
	relative_position_id = CMW_of_Learning

	cost = 10

	prerequisite = { focus = CMW_Fintech_Toolkit }
	prerequisite = { focus = CMW_School_Leaders }
	prerequisite = { focus = CMW_Hub_And_Spokes_Program }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Valuta"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Defense_Association
	icon = wip

	x = 6
	y = 1
	relative_position_id = CMW_Aso_Rock_Declaration

	cost = 10

	prerequisite = { focus = CMW_Aso_Rock_Declaration }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Defense_Association"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Counter_Insurgency_Training
	icon = wip

	x = -2
	y = 1
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Defense_Association }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Counter_Insurgency_Training"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Cyber_Declaration
	icon = wip

	x = -2
	y = 2
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Counter_Insurgency_Training }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Cyber_Declaration"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Intelligence_Network
	icon = wip

	x = -2
	y = 3
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Cyber_Declaration }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Intelligence_Network"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Patrol_Boat_Program
	icon = wip

	x = 0
	y = 1
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Defense_Association }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Patrol_Boat_Program"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Chief_Of_Staff
	icon = wip

	x = 0
	y = 2
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Patrol_Boat_Program }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Chief_Of_Staff"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Secretariat_CVE
	icon = wip

	x = 0
	y = 3
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Chief_Of_Staff }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Secretariat_CVE"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
joint_focus = {
	id = CMW_Offices_For_Peace
	icon = wip

	x = 2
	y = 1
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Defense_Association }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Offices_For_Peace"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Academy
	icon = wip

	x = 2
	y = 2
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Offices_For_Peace }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Academy"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Training_Day
	icon = wip

	x = 2
	y = 3
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Academy }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.3
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Training_Day"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_Defense_Treaty
	icon = wip

	x = 0
	y = 5
	relative_position_id = CMW_Defense_Association

	cost = 10

	prerequisite = { focus = CMW_Intelligence_Network }
	prerequisite = { focus = CMW_Secretariat_CVE }
	prerequisite = { focus = CMW_Training_Day }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
		threat > 0.5
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_Defense_Treaty"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}

joint_focus = {
	id = CMW_New_CMW
	icon = wip

	x = 0
	y = 6
	relative_position_id = CMW_Aso_Rock_Declaration

	cost = 10

	prerequisite = { focus = CMW_Parliament }
	prerequisite = { focus = CMW_Valuta }
	search_filters = { FOCUS_FILTER_CMW }

	available = {
		Is_Commonwealth_Member = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CMW_New_CMW"
	}

	completion_reward_joint_originator = {
	}

	completion_reward_joint_member = {
	}

	ai_will_do = {
		factor = 1
	}
}
