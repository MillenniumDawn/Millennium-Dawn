##thanks birdy for the help you chad##
POL_base_lit_chance = {
	set_temp_variable = { temp_idx = -1 }
	any_of = {
		array = influence_array
		value = v
		index = i
		if = {
			limit = { var:v = { tag = POL } }
			set_temp_variable = { temp_idx = i }
			always = yes
		}
		else = { always = no }
	}
	check_variable = { temp_idx > -1 }
	check_variable = { influence_array_calc^temp_idx < 0.25 }
}
POL_more_than_25_less_than_40_trigger = {
	set_temp_variable = { temp_idx = -1 }
	any_of = {
		array = influence_array
		value = v
		index = i
		if = {
			limit = { var:v = { tag = POL } }
			set_temp_variable = { temp_idx = i }
			always = yes
		}
		else = { always = no }
	}
	check_variable = { temp_idx > -1 }
	check_variable = { influence_array_calc^temp_idx > 0.25 }
	check_variable = { influence_array_calc^temp_idx < 0.40 }
}

POL_more_than_40_factor = {
	set_temp_variable = { temp_idx = -1 }
	any_of = {
		array = influence_array
		value = v
		index = i
		if = {
			limit = { var:v = { tag = POL } }
			set_temp_variable = { temp_idx = i }
			always = yes
		}
		else = { always = no }
	}
	check_variable = { temp_idx > -1 }
	check_variable = { influence_array_calc^temp_idx > 0.40 }
}
POL_effect_gain_polish_influence_5 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = 5 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = POL }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = POL.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = POL_polish_influence_5_TT
}
POL_effect_gain_polish_influence_10 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = 10 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = POL }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = POL.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = POL_polish_influence_10_TT
}