# Author(s): Angriest Bird, Kalkalash
# Last Modified: Feb. 4th, 2022 - Angriest Bird
on_actions = {
	on_monthly = {
		effect = {
			if = {
				limit = {
					OR = {
						check_variable = { global.month = 4 }
						check_variable = { global.month = 8 }
						check_variable = { global.month = 12 }
					}
				}
				#Economic Factions
				if = { limit = { has_idea = small_medium_business_owners }
					random_list = {
						5 = { #S&M Demand Tax Cuts
							#More likely with higher tax rate
							modifier = {
								factor = 2.5
								check_variable = { tax_rate > 30 }
							}
							#Less Likely if low tax rate
							modifier = {
								factor = 0.5
								check_variable = { tax_rate < 20 }
							}
							#More likely if low economic cyclce
							modifier = {
								factor = 0.5
								OR = {
									has_idea = depression
									has_idea = recession
									has_idea = stagnation
								}
							}
							#Do not fire in this circumstance
							modifier = {
								factor = 0
								OR = {
									check_variable = { small_medium_business_owners_opinion > 80 }
									check_variable = { corporation_tax_rate < 11 }
									NOT = { has_idea = small_medium_business_owners }
								}
							}
							country_event = { id = small_medium_business_owners_request_events.0 random_days = 10 }
						}
						5 = { #Large Foreign Coumpany purchases domestic small business
							modifier = {
								factor = 0.5
								OR = {
									has_government = communism
									has_government = fascism
									has_government = nationalist
								}
							}
							modifier = {
								factor = 1.5
								OR = {
									has_idea = international_bankers
									has_idea = industrial_conglomerates
								}
							}
							modifier = {
								factor = 0
								NOT = { has_idea = small_medium_business_owners }
							}
							country_event = { id = small_medium_business_owners_request_events.1 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.2 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.3 random_days = 10 }
						 }
						5 = {
							country_event = { id = small_medium_business_owners_request_events.4 random_days = 10 }
						 }
						#25
						5 = {
							country_event = { id = small_medium_business_owners_request_events.5 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.6 random_days = 10 }
						 }
						5 = {
							country_event = { id = small_medium_business_owners_request_events.7 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.8 random_days = 10 }
						}
						#45
						5 = {
							country_event = { id = small_medium_business_owners_bonus_events.0 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_bonus_events.1 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_negative_events.0 random_days = 10 }
						}
						#60
						30 = {
							modifier = {
								factor = 100
								has_war = yes
							}
						}
					}
				}
			}
		}
	}
}