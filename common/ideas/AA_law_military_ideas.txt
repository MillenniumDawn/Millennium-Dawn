ideas = {

	###Military Spending
	Military_Spending = {
		law = yes

		defence_00 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_00" }
			
			removal_cost = -1
			level = 1
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_00_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 1 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 1 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -1.00
				industrial_capacity_factory = 0.00
				industrial_capacity_dockyard = 0.00
				production_speed_arms_factory_factor = -0.5
				production_speed_dockyard_factor = -0.5
			}
			
			ai_will_do = {
   				factor = 0
			}
			
			cancel_if_invalid = no
		}
		defence_01 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_01" }
			
			removal_cost = -1
			level = 2
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
			
				custom_effect_tooltip = defence_01_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 2 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 2 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.95
				industrial_capacity_factory = 0.1
				industrial_capacity_dockyard = 0.05
				production_speed_arms_factory_factor = 0.02
				production_speed_dockyard_factor = 0.02
			}
			
			ai_will_do = {
   				factor = 1
				modifier = {
					#Prio if low on manpower
					factor = 20
					manpower_per_military_factory < 500
					has_idea = defence_00
				}
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_02
							check_variable = { AI_WAR_SPEND_RATIO > 0.2 }
						}
						
						check_variable = { AI_WAR_SPEND_RATIO < 0.1 }
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_02
						check_variable = { AI_WAR_SPEND_RATIO < 0.2 }
					}
				}
								
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_00 }
						NOT = { has_idea = defence_02 }
					}
				}
				

				
				modifier = {
					factor = 100
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.1
						compare = less_than
					}
				}
				
			}
			
			cancel_if_invalid = no
		}
		defence_02 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_02" }
		
			default = yes
			
			removal_cost = -1
			level = 3
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_02_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 3 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 3 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.90
				industrial_capacity_factory = 0.2
				industrial_capacity_dockyard = 0.1
				production_speed_arms_factory_factor = 0.04
				production_speed_dockyard_factor = 0.04
			}
			
			ai_will_do = {
   				factor = 1
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_03
							check_variable = { AI_WAR_SPEND_RATIO > 0.3 }
						}
						AND = {
							has_idea = defence_01
							check_variable = { AI_WAR_SPEND_RATIO < 0.2 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_03
						check_variable = { AI_WAR_SPEND_RATIO < 0.3 }
					}
				}
				
				
				modifier = {
					#Prio if low on manpower
					factor = 21
					manpower_per_military_factory <  450
					has_idea = defence_01
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_01 }
						NOT = { has_idea = defence_03 }
					}
				}
				
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								check_variable = { IS_MAJOR = 0 }
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					#Higher chance if doing badly
					factor = 3
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 1.1
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Lower chance if not at war
					factor = 5
					has_war = no
					or = {
						has_idea = defence_09
						has_idea = defence_08
						has_idea = defence_07
					}
				}
				
				modifier = {
					factor = 200
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.2
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 1000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
					}
				}
			}
			
			cancel_if_invalid = no
		}
		defence_03 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_03" }
			
			removal_cost = -1
			level = 4
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_03_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 4 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 4 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.85
				industrial_capacity_factory = 0.3
				industrial_capacity_dockyard = 0.15
				production_speed_arms_factory_factor = 0.06
				production_speed_dockyard_factor = 0.06
			}
			
			ai_will_do = {
   				factor = 1
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_04
							check_variable = { AI_WAR_SPEND_RATIO > 0.4 }
						}
						AND = {
							has_idea = defence_02
							check_variable = { AI_WAR_SPEND_RATIO < 0.3 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_04
						check_variable = { AI_WAR_SPEND_RATIO < 0.4 }
					}
				}
				
				
				modifier = {
					#Prio if low on manpower
					factor = 22
					manpower_per_military_factory <  400
					has_idea = defence_02
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_02 }
						NOT = { has_idea = defence_04 }
					}
				}
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								check_variable = { IS_MAJOR = 0 }
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					#Higher chance if doing badly
					factor = 4
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 1.3
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Lower chance if not at war
					factor = 5
					has_war = no
					or = {
						has_idea = defence_09
						has_idea = defence_08
						has_idea = defence_07
					}
				}

				modifier = {
					factor = 300
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.3
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 2000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
				
			}
			
			cancel_if_invalid = no
		}
		defence_04 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_04" }
			
			removal_cost = -1
			level = 5
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_04_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 5 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 5 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.775
				industrial_capacity_factory = 0.45
				industrial_capacity_dockyard = 0.225
				production_speed_arms_factory_factor = 0.09
				production_speed_dockyard_factor = 0.09
			}
			
			ai_will_do = {
   				factor = 1
			
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_05
							check_variable = { AI_WAR_SPEND_RATIO > 0.5 }
						}
						AND = {
							has_idea = defence_03
							check_variable = { AI_WAR_SPEND_RATIO < 0.4 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_05
						check_variable = { AI_WAR_SPEND_RATIO < 0.5 }
					}
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_03 }
						NOT = { has_idea = defence_05 }
					}
				}
				modifier = {
					#Prio if low on manpower
					factor = 23
					manpower_per_military_factory <  380
					has_idea = defence_03
				}
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								check_variable = { IS_MAJOR = 0 }
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					factor = 10
					check_variable = { AI_VOLUNTEERS = 1 }
				}
				modifier = {
					#Higher chance if doing badly
					factor = 5
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 1.5
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Lower chance if not at war
					factor = 5
					has_war = no
					or = {
						has_idea = defence_09
						has_idea = defence_08
						has_idea = defence_07
					}
				}
				modifier = {
					factor = 400
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.4
						compare = greater_than
					}
					
				}
				
				modifier = {
					factor = 3000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
				
			}
			
			cancel_if_invalid = no
		}
		defence_05 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_05" }
			
			removal_cost = -1
			level = 6
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_05_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 6 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 6 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.7
				industrial_capacity_factory = 0.6
				industrial_capacity_dockyard = 0.3
				production_speed_arms_factory_factor = 0.12
				production_speed_dockyard_factor = 0.12
			}

			
			ai_will_do = {
   				factor = 1
				modifier = {
					#Prio if low on manpower
					factor = 24
					manpower_per_military_factory <  350
					has_idea = defence_04
				}
				
				modifier = {
					factor = 0
					OR = {
						AND = {
							has_idea = defence_06
							check_variable = { AI_WAR_SPEND_RATIO > 0.6 }
						}
						AND = {
							has_idea = defence_04
							check_variable = { AI_WAR_SPEND_RATIO < 0.5 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_06
						check_variable = { AI_WAR_SPEND_RATIO < 0.6 }
					}
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_04 }
						NOT = { has_idea = defence_06 }
					}
				}
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								check_variable = { IS_MAJOR = 0 }
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				
				modifier = {
					factor = 10
					check_variable = { AI_VOLUNTEERS = 1 }
				}
				modifier = {
					#Lower chance if not at war
					factor = 0.5
					has_war = no
				
				}
				modifier = {
					#Higher chance if doing badly
					factor = 6
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 1.6
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Higher chance if doing badly
					factor = 10
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
				modifier = {
					#Lower chance if not at war
					factor = 4.5
					has_war = no
					or = {
						has_idea = defence_09
						has_idea = defence_08
						has_idea = defence_07
					}
				}
				
				modifier = {
					factor = 500
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.5
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 4000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
					}
				}
			}
			
			cancel_if_invalid = no
		}
		defence_06 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_06" }
			
			removal_cost = -1
			level = 7
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_06_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 7 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 7 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.6
				industrial_capacity_factory = 0.8
				industrial_capacity_dockyard = 0.4
				production_speed_arms_factory_factor = 0.16
				production_speed_dockyard_factor = 0.16
			}
			
			ai_will_do = {
   				factor = 1
				modifier = {
					#Prio if low on manpower
					factor = 25
					manpower_per_military_factory <  330
					has_idea = defence_05
				}
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_07
							check_variable = { AI_WAR_SPEND_RATIO > 0.7 }
						}
						AND = {
							has_idea = defence_05
							check_variable = { AI_WAR_SPEND_RATIO < 0.6 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_07
						check_variable = { AI_WAR_SPEND_RATIO < 0.7 }
					}
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_05 }
						NOT = { has_idea = defence_07 }
					}
				}
			
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								check_variable = { IS_MAJOR = 0 }
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					#Lower chance if not at war
					factor = 0.3
					has_war = no
				
				}
				
				modifier = {
					factor = 10
					check_variable = { AI_VOLUNTEERS = 1 }
				}
				modifier = {
					#Higher chance if doing badly
					factor = 7
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 1.9
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Higher chance if doing badly
					factor = 11
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
				modifier = {
					#Lower chance if not at war
					factor = 4.5
					has_war = no
					or = {
						has_idea = defence_09
						has_idea = defence_08
						has_idea = defence_07
					}
				}
				
				modifier = {
					factor = 600
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.6
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 5000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			cancel_if_invalid = no
		}
		defence_07 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_07" }
			
			removal_cost = -1
			level = 8
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_07_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 8 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 8 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			modifier = {
				conscription_factor = -0.5
				industrial_capacity_factory = 1.0
				industrial_capacity_dockyard = 0.5
				production_speed_arms_factory_factor = 0.2
				production_speed_dockyard_factor = 0.2
			}
			
			
			
			ai_will_do = {
   				factor = 1
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_08
							check_variable = { AI_WAR_SPEND_RATIO > 0.8 }
						}
						AND = {
							has_idea = defence_06
							check_variable = { AI_WAR_SPEND_RATIO < 0.7 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_08
						check_variable = { AI_WAR_SPEND_RATIO < 0.8 }
					}
				}
				
				modifier = {
					#Prio if low on manpower
					factor = 26
					manpower_per_military_factory <  300
					has_idea = defence_06
				}
				

				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_06 }
						NOT = { has_idea = defence_08 }
					}
				}
				
				
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								is_major = no
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					#Lower chance if not at war
					factor = 0.1
					has_war = no
				
				}
				
				modifier = {
					factor = 10
					check_variable = { AI_VOLUNTEERS = 1 }
				}
				modifier = {
					#Higher chance if doing badly
					factor = 8
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 2.1
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Higher chance if doing badly
					factor = 12
					any_enemy_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
				
				modifier = {
					factor = 700
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.7
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 5000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			cancel_if_invalid = no
		}
		defence_08 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_08" }
			
			removal_cost = -1
			level = 9
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_08_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 9 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 9 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			available = {
				or = {
					has_war = yes
					threat > 0.4
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
			}
			
			modifier = {
				conscription_factor = -0.375
				industrial_capacity_factory = 1.25
				industrial_capacity_dockyard = 0.625
				production_speed_arms_factory_factor = 0.25
				production_speed_dockyard_factor = 0.25
			}
			
			ai_will_do = {
   				factor = 1
				
				modifier = {
					factor = 0 
					OR = {
						AND = {
							has_idea = defence_09
							check_variable = { AI_WAR_SPEND_RATIO > 0.9 }
						}
						AND = {
							has_idea = defence_07
							check_variable = { AI_WAR_SPEND_RATIO < 0.75 }
						}
					}
				}
				
				modifier = {
					factor = 100
					AND = {
						has_idea = defence_06
						check_variable = { AI_WAR_SPEND_RATIO < 0.9 }
					}
				}
				
				modifier = {
					#Prio if low on manpower
					factor = 27
					manpower_per_military_factory <  270
					has_idea = defence_07
				}
				
				modifier = {
					factor = 0
					AND = {
						NOT = { has_idea = defence_07 }
						NOT = { has_idea = defence_09 }
					}
				}
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								is_major = no
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
				
				}
				modifier = {
					#Lower chance if not at war
					factor = 0.1
					has_war = no
				}
				modifier = {
					factor = 10
					check_variable = { AI_VOLUNTEERS = 1 }
				}
				modifier = {
					factor = 2
					has_war = yes
				}
				modifier = {
					#Higher chance if doing badly
					factor = 9
					surrender_progress > 0.1
				
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 2.3
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Higher chance if doing badly
					factor = 13
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
				
				modifier = {
					factor = 800
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.75
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 7000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			
			}
			
			cancel_if_invalid = no
		}
		defence_09 = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea defence_09" }
			
			removal_cost = -1
			level = 10
			
			allowed_civil_war = {
				always = yes
			}
			
			on_add = {
				custom_effect_tooltip = defence_09_TT
				custom_effect_tooltip = defence_tooltip_personnel_cost_TT
				set_variable = { law_attitude = 4 }
				set_variable = { law_change = 10 }
				subtract_from_variable = { law_change = Military_Spending }
				law_attitude_change = yes
				set_variable = { Military_Spending = 10 }
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			available = {
				or = {
					has_war = yes
					threat > 0.6
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
			}
			
			modifier = {
				conscription_factor = 0
				industrial_capacity_factory = 2.0
				industrial_capacity_dockyard = 1.0
				production_speed_arms_factory_factor = 0.4
				production_speed_dockyard_factor = 0.4
			}
			
			ai_will_do = {
   				factor = 1

				modifier = {
					#Prio if low on manpower
					factor = 28
					manpower_per_military_factory <  250
					has_idea = defence_08
				}	
				
				modifier = {
					factor = 0
					NOT = { has_idea = defence_08 }
				}
				modifier = {
					#Lower chance if has decent amount
					factor = 0.5
					OR = {
						AND = {
							manpower_per_military_factory >  3000
							has_war = no
						}
						
						AND = {
							manpower_per_military_factory > 5000
							has_war = yes
							all_enemy_country = {
								is_major = no
							}
						}
						
						AND = {
							manpower_per_military_factory > 20000
							has_war = yes
							any_enemy_country = {
								check_variable = { IS_MAJOR = 1 }
							}
						}
					}
					
				
				}
				modifier = {
					#Lower chance if not at war
					factor = 0.1
					has_war = no
				
				}
				modifier = {
					#Higher chance if doing badly
					factor = 1000
					surrender_progress > 0.3
				
				}
				
				modifier = {
				factor = 40000
					AND = {
						has_war = yes
						any_enemy_country = {
							ic_ratio = { 
								tag = ROOT 
								ratio > 0.8
							}
						}
					}
				}
				#modifier = {
					#Higher chance if doing badly
					#factor = 2.5
					#neighbor_has_higher_mil_spending_by_2 = yes
				# }
				modifier = {
					#Higher chance if doing badly
					factor = 2
					any_country = {
						is_justifying_wargoal_against = THIS
						strength_ratio = { tag = THIS ratio > 2.0 } # 2x stronger than THIS
					}
				}
				
				modifier = {
					factor = 100000
					check_variable = {
						var = AI_WAR_SPEND_RATIO
						value = 0.9
						compare = greater_than
					}
				}
				
				modifier = {
					factor = 1000000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			cancel_if_invalid = no
		}
	}
	
	###Conscription Law
	Conscription_Law = {
		law = yes
		
		no_military = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea no_military" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			
			}
			
			on_add = {
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
				
			cost = 300
			removal_cost = -1
			level = 4
			
			modifier = {
				conscription = 0.00
				army_attack_factor = -0.9
				army_defence_factor = -0.9
			}
			
			ai_will_do = {
				factor = 0
				modifier = {
					#If we have no military industry and have someone to protect us, no need for military 
					add = 1
					AND = {
						num_of_military_factories < 1
						is_in_faction = yes
					}
				}
			}
			
			cancel_if_invalid = no
		
		}
		
		volunteer_army = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea volunteer_army" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {

			}
			
			on_add = {
				custom_effect_tooltip = volunteer_army_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 300
			removal_cost = -1
			level = 3
			
			modifier = {
				conscription = 0.025
				army_morale_factor = 0.10
				army_org_factor = 0.10
				special_forces_cap = 0.5
				experience_gain_army = 0.06
			}
			
			ai_will_do = {
				factor = 0
				##When to downgrade to volunteer army
				modifier = {
					#If we are in a faction, we don't need as big of an army
					add = 1
					AND = {
						has_idea = partial_draft_army
						is_in_faction = yes
					}
				}
				modifier = {
					#Major's less likely to downgrade their military
					add = -1
					is_major = yes
				}
				##When to switch to volunteers from having no military
				modifier = {
					#We want to switch to having an army if tensions are high
					add = 1
					AND = {
						has_idea = no_military
						threat > 0.3
					}
				}
				modifier = {
					#Nationalists want an army
					add = 1
					AND = {
						has_idea = no_military
						has_government = nationalist
					}
				}
			}
			
			default = yes
			
			cancel_if_invalid = no
			
		}
		
		partial_draft_army = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea partial_draft_army" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {

			}
			
			on_add = {
				custom_effect_tooltip = partial_draft_army_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 300
			removal_cost = -1
			level = 2
			
			modifier = {
				conscription = 0.0325
				army_attack_factor = -0.05
				army_core_attack_factor = 0.05
				army_defence_factor = -0.05
				army_core_defence_factor = 0.05
				training_time_factor = -0.10
				special_forces_cap = 0.2
				experience_gain_army = 0.04
			}
			
			ai_will_do = {
				factor = 0
				##When to downgrade to partial draft
				modifier = {
					#If we are in a faction, we don't need as big of an army
					add = 1
					AND = {
						has_idea = draft_army
						is_in_faction = yes
					}
				}
				modifier = {
					#Major's less likely to downgrade their military
					add = -1
					is_major = yes
				}
				##When to switch from having volunteers to a limited draft
				modifier = {
					#We want to switch to a limited draft when in a big war
					add = 100
					AND = {
						has_war = yes
						has_manpower < 10000
					}
				}
				modifier = {
					#We might want to consider draft is tension is high
					add = 1
					AND = {
						has_idea = volunteer_army
						threat > 0.5
					}					
				}
				modifier = {
					#These ideologies want bigger armies
					add = 1
					AND = {
						has_idea = volunteer_army
						OR = {
							has_government = nationalist
							has_government = fascism
						}
					}
				}
				
				modifier = {
					add = 20
					all_enemy_country = {
						has_war_with = ROOT
						check_variable = { var = IS_MAJOR value = 0 }
					}
				}
				modifier = {
					add = 10000
					any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
				
			}
			
			cancel_if_invalid = no
			
		}
		
		draft_army = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea draft_army" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				
			}
			
			on_add = {
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 300
			removal_cost = -1
			level = 1
			
			modifier = {
				conscription = 0.04
				army_morale_factor = -0.10
				army_org_factor = -0.10
				army_attack_factor = -0.20
				army_core_attack_factor = 0.20
				army_defence_factor = -0.20
				army_core_defence_factor = 0.20
				training_time_factor = -0.20
				experience_gain_army = 0.02
			}
			
			ai_will_do = {
				factor = 0
				#When to switch from partial draft to full draft
				modifier = {
					#We want to switch to a limited draft when in a big war
					add = 100
					AND = {
						has_war = yes
						has_manpower < 10000
					}
				}
				modifier = {
					#We might want to consider draft is tension is high
					add = 10
					AND = {
						has_idea = partial_draft_army
						threat > 0.7
					}
				}
				modifier = {
					#These ideologies want bigger armies
					add = 1
					AND = {
						has_idea = volunteer_army
						OR = {
							has_government = nationalist
							has_government = fascism
						}
					}
				}
				modifier = {
					#Being next to big scary countries
					add = 10
					any_neighbor_country = {
						NOT = { is_in_faction_with = ROOT }
						strength_ratio = { tag = ROOT ratio > 2 }
					}
				}
				modifier = {
					#Being next to possible war targets
					add = 10
					any_neighbor_country = {
						any_owned_state = {
							OR = {
								is_claimed_by = ROOT
								is_core_of = ROOT
							}
						}
					}
				}
				
				modifier = {
					add = 20000
						any_enemy_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			cancel_if_invalid = no
			
		}
		
	}
	
	###Women's status in the military
	Military_Status_Women = {
		law = yes
			
		no_women_in_military = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea no_women_in_military" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			
			}
			
			cost = 150
			removal_cost = -1
			level = 1
			
			modifier = {
				conscription_factor = 0.00
				production_speed_buildings_factor = 0.15
			}
			
			ai_will_do = {
				factor = 0
				modifier = {
					#Women should be protected
					add = 2
					has_government = nationalist
					NOT = { original_tag = ERI }
				}
				modifier = {
					#Salafists don't want women in the army
					add = 2
					has_government = fascism
				}
			}
			
			
			
			cancel_if_invalid = no
			
		}
			
		volunteer_women = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea volunteer_women" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				
			}
			
			cost = 150
			removal_cost = -1
			level = 1
			
			modifier = {
				conscription = 0.004
				monthly_population = -0.05
				production_speed_buildings_factor = 0.10
				special_forces_cap = -0.05
			}
			
			ai_will_do = {
				factor = 1

				modifier = {
					#We are desperate enought accept this now
					add = 2
					has_war = yes
					has_manpower < 10000

				}
				
				modifier = {
					add = 20000
					any_other_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			default = yes
			
			cancel_if_invalid = no
			
		}
			
		drafted_women = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea drafted_women" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				OR = {
					has_idea = partial_draft_army
					has_idea = draft_army
				}
			}
			
			cost = 150
			removal_cost = -1
			level = 1
			
			modifier = {
				conscription = 0.02
				monthly_population = -0.15
				special_forces_cap = -0.15
			}
			
			ai_will_do = {
				factor = 0

				modifier = {
					#Surrounded by hostile nations (mainly for Israel)
					add = 5
					NOT = { has_government = nationalist }
					NOT = { has_government = fascism }
					all_neighbor_country = {
						has_opinion = { target = ROOT value < 0 }
					}
				}
				modifier = {
					add = 30000
					any_other_country = {
						check_variable = { var = IS_MAJOR value = 1 }
						has_war_with = ROOT
					}
				}
			}
			
			cancel_if_invalid = yes
			
		}
	}
	
	### Foreign Intervention Law
	Foreign_Intervention_Law = {
		law = yes
		
		intervention_isolation = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_isolation" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				NOT = {
					has_idea = the_military
					is_in_faction = yes
				}
			}
			
			cost = 350
			removal_cost = -1
			level = 1
			
			modifier = {
				lend_lease_tension = 0.20
				send_volunteers_tension = 0.50
				guarantee_tension = 0.60
				join_faction_tension = 0.80
				generate_wargoal_tension = 0.95
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
			
		intervention_local_security = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_local_security" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				always = yes
			}

			cost = 350
			removal_cost = -1
			level = 2
			
			modifier = {
				lend_lease_tension = 0.15
				send_volunteers_tension = 0.30
				guarantee_tension = 0.40
				join_faction_tension = 0.60
				generate_wargoal_tension = 0.75
			}
			
			ai_will_do = {
				factor = 0
			}
			
			default = yes
			
			cancel_if_invalid = yes
		}
			
		intervention_limited_interventionism = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_limited_interventionism" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				always = yes
			}
			
			cost = 350
			removal_cost = -1
			level = 3
			
			modifier = {
				lend_lease_tension = 0.10
				send_volunteers_tension = 0.20
				guarantee_tension = 0.30
				join_faction_tension = 0.45
				generate_wargoal_tension = 0.55
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
			
		intervention_regional_interventionism = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_regional_interventionism" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				always = yes
			}
			
			cost = 350
			removal_cost = -1
			level = 4
			
			modifier = {
				lend_lease_tension = 0.05
				send_volunteers_tension = 0.10
				guarantee_tension = 0.20
				join_faction_tension = 0.25
				generate_wargoal_tension = 0.35
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
			
		intervention_global_interventionism = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_global_interventionism" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				always = yes
			}
			
			cost = 350
			removal_cost = -1
			level = 5
			
			modifier = {
				lend_lease_tension = 0.00
				send_volunteers_tension = 0.05
				guarantee_tension = 0.10
				join_faction_tension = 0.15
				generate_wargoal_tension = 0.15
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
			
		intervention_neo_imperialism = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea intervention_neo_imperialism" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				OR = {
					has_government = fascism
					has_government = nationalist
				}
			}
			
			cost = 350
			removal_cost = -1
			level = 6
			
			modifier = {
				lend_lease_tension = 0.00
				send_volunteers_tension = 0.0
				guarantee_tension = 0.0
				join_faction_tension = 0.0
				generate_wargoal_tension = 0.0
			}
			
			ai_will_do = {
				factor = 0
				modifier = {
					factor = 10
					has_government = fascism
				}
				modifier = {
					add = 10
					has_government = nationalist
					any_neighbor_country = {
						any_owned_state = {
							OR = {
								is_claimed_by = ROOT
								is_core_of = ROOT
							}
						}
					}
				}				
			}
			
			cancel_if_invalid = yes
		}
		
	}
	
	Officer_Training_Law = {
		law = yes
		
		officer_baptism_by_fire = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_baptism_by_fire" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			}
			
			on_add = {
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 150
			removal_cost = -1
			level = 1
			
			modifier = {
				military_leader_cost_factor = -0.50
				army_leader_start_level = -1
				experience_gain_army = -0.01
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
		officer_basic_training = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_basic_training" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			}
			
			on_add = {
				custom_effect_tooltip = officer_basic_training_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			default = yes
			
			cost = 150
			removal_cost = -1
			level = 2
			
			modifier = {
				military_leader_cost_factor = -0.25
				army_leader_start_level = 0
				command_power_gain_mult = 0.05
				max_command_power = 10
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
		officer_advanced_training = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_advanced_training" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			}
			
			on_add = {
				custom_effect_tooltip = officer_advanced_training_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 150
			removal_cost = -1
			level = 3
			
			modifier = {
				military_leader_cost_factor = 0
				army_leader_start_level = 1
				command_power_gain_mult = 0.1
				max_command_power = 20
				experience_gain_army = 0.01
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
		officer_military_school = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_military_school" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			}
			
			on_add = {
				custom_effect_tooltip = officer_military_school_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 150
			removal_cost = -1
			level = 4
			
			modifier = {
				military_leader_cost_factor = 0.3
				army_leader_start_level = 2
				command_power_gain_mult = 0.15
				max_command_power = 30
				experience_gain_army = 0.02
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
		officer_military_academy = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_military_academy" }
			
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
			}
			
			on_add = {
				custom_effect_tooltip = officer_military_academy_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 150
			removal_cost = -1
			level = 5
			
			modifier = {
				military_leader_cost_factor = 0.7
				army_leader_start_level = 3
				command_power_gain_mult = 0.20
				max_command_power = 40
				experience_gain_army = 0.03
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
		officer_international_education = {
			on_add = { log = "[GetDateText]: [Root.GetName]: add idea officer_international_education" }
		
			allowed = {
				always = yes
			}
			
			allowed_civil_war = {
				always = yes
			}
			
			available = {
				OR = {
					is_in_faction = yes
					has_idea = NATO_member
				}
			}
			
			on_add = {
				custom_effect_tooltip = officer_international_education_TT
				ingame_calculate_size_modifier = yes
				update_military_rate = yes
			}
			
			cost = 150
			removal_cost = -1
			level = 6
			
			modifier = {
				military_leader_cost_factor = 1.00
				army_leader_start_level = 4
				command_power_gain_mult = 0.25
				max_command_power = 50
				experience_gain_army = 0.04
			}
			
			ai_will_do = {
				factor = 0
			}
			
			cancel_if_invalid = yes
		}
		
	}
}