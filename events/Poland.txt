add_namespace = poland
add_namespace = poland_news

### 2000 Independence March - Nationalism ###
###Jonneh####
country_event = { #Return Of Monarchy
	id = poland.1
	immediate = { }
	title = poland.1.t
	desc = poland.1.d
	picture = GFX_monarch_event

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = poland.1.a
		hidden_effect = { POL = { set_cosmetic_tag = POL_AUTH_S } }
		create_country_leader = {
			name = " Rydygier Książę Saski"
			picture = "rudiger_saski.dds"
			ideology = Monarchist
			traits = {
			nationalist_Monarchist
				likeable
				businessman
			}
		}
	}
}
country_event = { #Offer To Lithuania
	id = poland.2
	immediate = { }
	title = poland.2.t
	desc = poland.2.d
	picture = GFX_plc_proposal

	fire_only_once = yes
	is_triggered_only = yes

	option = { # LIT accepts
	name = poland.2.a
	POL = { add_to_faction = LIT
	puppet = LIT
	country_event = poland.3 }
	LIT = { hidden_effect = {
		clear_array = ruling_party
		clear_array = gov_coalition_array
		add_to_array = { ruling_party = 23 }
		update_government_coalition_strength = yes
		update_party_name = yes
		set_coalition_drift = yes
		meta_effect = {
		text = {
						set_country_flag = [META_SET_RULING_PARTY]
					}
					META_SET_RULING_PARTY = "[meta_set_ruling_leader]"
				}
				set_leader = yes

				set_politics = {
					ruling_party = nationalist
					elections_allowed = no
				} }
				add_popularity = {
					ideology = nationalist
					popularity = 0.05
				}
				add_to_variable = { party_pop_array^23 = 0.70 }
				recalculate_party = yes
	set_cosmetic_tag = LIT_AUTH_S }

		ai_chance = {
	base = 10
	modifier = {
		POL_base_lit_chance = yes
		add = -5
	}
	modifier = {
		add = 40
		POL_more_than_25_less_than_40_trigger = yes
	}
	modifier = {
		add = 90
		POL_more_than_40_factor = yes
		}
	  }
	}
	option = { #LIT rejects
		name = poland.2.b
		log = "[GetDateText]: [This.GetName]: poland.2.b executed"
		POL = { add_political_power = -50 country_event = poland.4 }

		ai_chance = {
			base = 40
		}
	}
}

country_event = { #news of lit accepting
	id = poland.3
	immediate = { }
	title = poland.3.t
	desc = poland.3.d
	picture = GFX_plc_proposal

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = poland.3.a
		log = "[GetDateText]: [This.GetName]: poland.3.a executed"
		add_political_power = 50
		add_political_power = 50
		}
	}

country_event = { #news of lit declining
	id = poland.4
	immediate = { }
	title = poland.4.t
	desc = poland.4.d
	picture = GFX_treaty_rejected

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = poland.4.a
		log = "[GetDateText]: [This.GetName]: poland.4.a executed"
		add_political_power = -50
			}

	option = {
		name = poland.4.b
		log = "[GetDateText]: [This.GetName]: poland.4.b executed"
		create_wargoal = { type = puppet_wargoal_focus target = LIT } 110 = { add_core_of = POL } 109 = { add_core_of = POL }
			}
	}

country_event = { #news of lit declining
	id = poland.5
	immediate = { }
	title = poland.5.t
	desc = poland.5.d
	picture = GFX_anaconda_16_event

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = poland.5.a
		log = "[GetDateText]: [This.GetName]: poland.5.a executed"
		army_experience = 50
		add_political_power = 100
	}
}

# Soicalists on power, corruption scandal
country_event = {
	id = poland.6
	immediate = { }
	title = poland.6.t
	desc = poland.6.d
	picture = GFX_pol_curruption_event

	fire_only_once = yes
	trigger = {
		tag = POL
		POL = {
			is_in_array = { ruling_party = 3 }
		}
		date > 2005.8.1
		date < 2005.11.1
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = poland.6.a
		log = "[GetDateText]: [This.GetName]: poland.6.a executed"
		set_temp_variable = {
			current_soc_popularity = party_pop_array^3
		}

		multiply_temp_variable = { current_soc_popularity = 0.9 }
		# Remove most of support, retrack it to Liberal party
		subtract_from_variable = { party_pop_array^3 = current_soc_popularity }
		add_to_variable = { party_pop_array^2 = current_soc_popularity }
		recalculate_party = yes
	}

	option = {
		name = poland.6.b
		log = "[GetDateText]: [This.GetName]: poland.6.b executed"
		set_temp_variable = {
			current_soc_popularity = party_pop_array^3
		}

		multiply_temp_variable = { current_soc_popularity = 0.9 }
		# Remove most of support, retrack it to Cons party
		subtract_from_variable = { party_pop_array^3 = current_soc_popularity }
		add_to_variable = { party_pop_array^1 = current_soc_popularity }
		recalculate_party = yes
	}
}

# Cons dropping out of popularity
country_event = {
	id = poland.7
	immediate = { }
	title = poland.7.t
	desc = poland.7.d
	picture = GFX_pol_curruption_event

	fire_only_once = yes
	trigger = {
		tag = POL
		POL = {
			is_in_array = { ruling_party = 2 }
		}
		date > 2005.8.1
		date < 2005.11.1
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = poland.7.a
		log = "[GetDateText]: [This.GetName]: poland.7.a executed"
		set_temp_variable = {
			current_cons_popularity = party_pop_array^1
		}

		multiply_temp_variable = { current_cons_popularity = 0.5 }
		# Remove most of support, retrack it to Liberal party
		subtract_from_variable = { party_pop_array^1 = current_cons_popularity }
		add_to_variable = { party_pop_array^2 = current_cons_popularity }
		recalculate_party = yes
	}

	option = {
		name = poland.7.b
		log = "[GetDateText]: [This.GetName]: poland.7.b executed"

		add_political_power = -200

		add_to_variable = { party_pop_array^1 = 0.2 }
		recalculate_party = yes
	}
}

# Question of socialism
country_event = {
	id = poland.8
	immediate = { }
	title = poland.8.t
	desc = poland.8.d
	picture = GFX_pol_socialism_event

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = poland.8.a
		log = "[GetDateText]: [This.GetName]: poland.8.a executed"
		add_political_power = 100
		add_stability = 0.05
	}

	option = {
		name = poland.8.b
		log = "[GetDateText]: [This.GetName]: poland.8.b executed"
		set_temp_variable = {
			current_soc_popularity = party_pop_array^3
		}

		subtract_from_variable = { party_pop_array^3 = current_soc_popularity }
		recalculate_party = yes
		add_timed_idea = {
			idea = POL_political_schism
			days = 365
		}
	}
}

# first elections change
country_event = {
	id = poland.9
	immediate = { }
	title = poland.9.t
	desc = poland.9.d
	picture = GFX_pol_election_event

	fire_only_once = yes

	trigger = {
		tag = POL
		date > 2000.8.1
		date < 2000.11.1
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = poland.9.a
		log = "[GetDateText]: [This.GetName]: poland.9.a executed"
		add_political_power = 100
		add_stability = 0.03
	}

	option = {
		name = poland.9.b
		log = "[GetDateText]: [This.GetName]: poland.9.b executed"
		add_stability = -0.03
		add_political_power = -50
		add_to_variable = {
			party_pop_array^1 = 0.3
		}

		recalculate_party = yes
	}
}

# Smolensk disaster trigger
news_event = {
	id = poland_news.1
	hidden = yes

	fire_only_once = yes

	trigger = {
		tag = POL
		POL = {
			is_in_array = { ruling_party = 2 }
		}
		date > 2010.4.1
		date < 2010.4.20
	}

	mean_time_to_happen = {
		days = 10
	}

	immediate = {
		random_list = {
			70 = {
				POL = { news_event = { id = poland_news.2 } }
			}
			30 = {
				POL = { news_event = { id = poland_news.3 } }
			}
		}
	}
}

news_event = {
	id = poland_news.2
	title = poland_news.2.t
	desc = poland_news.2.d
	picture = GFX_news_smolensk_disaster

	is_triggered_only = yes

	option = {
		name = poland_news.2.a
		trigger = {
			NOT = {
				tag = POL
				tag = SOV
			}
		}
	}
	option = {
		name = poland_news.2.b
		trigger = { tag = POL }
	}
	option = {
		name = poland_news.2.c
		trigger = { tag = SOV }
	}
}

news_event = {
	id = poland_news.3
	title = poland_news.3.t
	desc = poland_news.3.d
	picture = GFX_news_smolensk_incident

	is_triggered_only = yes

	option = {
		name = poland_news.3.a
		trigger = {
			NOT = {
				tag = POL
				tag = SOV
			}
		}
	}
	option = {
		name = poland_news.3.b
		trigger = { tag = POL }
	}
	option = {
		name = poland_news.3.c
		trigger = { tag = SOV }
	}
}