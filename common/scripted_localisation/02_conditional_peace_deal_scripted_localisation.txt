# ACTUAL LOCALISATION
	# ANNEX STATE BUTTON
		defined_text = {
			name = CPD_ANNEX_STATE_TT_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_annex_state_button_TT_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_annex_state_button_TT_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_ANNEX_STATE_TT_LOC\"" }
		}
		defined_text = {
			name = CPD_ANNEX_STATE_TT_DELAYED_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_annex_state_button_TT_DELAYED_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_annex_state_button_TT_DELAYED_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_ANNEX_STATE_TT_DELAYED_LOC\"" }
		}
	# MAKE PUPPET BUTTON
		defined_text = {
			name = CPD_MAKE_PUPPET_TT_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_make_puppet_button_TT_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_make_puppet_button_TT_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_MAKE_PUPPET_TT_LOC\"" }
		}
		defined_text = {
			name = CPD_MAKE_PUPPET_TT_DELAYED_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_make_puppet_button_TT_DELAYED_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_make_puppet_button_TT_DELAYED_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_ANNEX_STATE_TT_DELAYED_LOC\"" }
		}
	# DEMILITARISE STATE BUTTON
		defined_text = {
			name = CPD_DEMILITARISE_TT_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_demilitarise_state_button_TT_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_demilitarise_state_button_TT_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_DEMILITARISE_TT_LOC\"" }
		}
		defined_text = {
			name = CPD_DEMILITARISE_TT_DELAYED_LOC
			text = {
				trigger = { NOT = { ROOT = { has_country_flag = CPD_giving_concessions } } }
				localization_key = "CPD_demilitarise_state_button_TT__DELAYED_DEMAND"
			}
			text = {
				trigger = { ROOT = { has_country_flag = CPD_giving_concessions } }
				localization_key = "CPD_demilitarise_state_button_TT__DELAYED_CONCESSION"
			}
			text = { localization_key = "Error in Scripted Localisation, Fix \"CPD_DEMILITARISE_TT_DELAYED_LOC\"" }
		}
# ICON/BUTTON GFX LOC
	# ANNEX STATE BUTTON
		defined_text = {
			name = CPD_ANNEX_STATE_BUTTON_LOC

			text = { # SELECTED
				trigger = { ROOT = { check_variable = { CPD_state_option_selection = 1 } } }
				localization_key = "GFX_peace_annex_green"
			}
			text = { # UNSELECTED
				trigger = { always = yes }
				localization_key = "GFX_peace_annex"
			}
		}
	# MAKE PUPPET IN STATE BUTTON
		defined_text = {
			name = CPD_MAKE_PUPPET_IN_STATE_BUTTON_LOC

			text = { # SELECTED
				trigger = { ROOT = { check_variable = { CPD_state_option_selection = 2 } } }
				localization_key = "GFX_peace_puppet_green"
			}
			text = { # UNSELECTED
				trigger = { always = yes }
				localization_key = "GFX_peace_puppet"
			}
		}
	# DEMILITARISE STATE BUTTON
		defined_text = {
			name = CPD_DEMILITARISE_STATE_BUTTON_LOC

			text = { # SELECTED
				trigger = { ROOT = { check_variable = { CPD_state_option_selection = 3 } } }
				localization_key = "GFX_peace_demilitarize_selected"
			}
			text = { # UNSELECTED
				trigger = { always = yes }
				localization_key = "GFX_peace_demilitarize"
			}
		}
	# LIBERATE IN STATE BUTTON
		defined_text = {
			name = CPD_LIBERATE_IN_STATE_BUTTON_LOC

			text = { # SELECTED
				trigger = { ROOT = { check_variable = { CPD_state_option_selection = 4 } } }
				localization_key = "GFX_icon_exiled_governments"
			}
			text = { # UNSELECTED
				trigger = { always = yes }
				localization_key = "GFX_icon_exiled_governments"
			}
		}
	# FULL PUPPET BUTTON
		# defined_text = {
		# 	name = CPD_FULL_PUPPET_BUTTON_LOC

		# 	text = { # SELECTED
		# 		trigger = { ROOT = { has_country_flag = CPD_full_puppet_FLAG } }
		# 		localization_key = "GFX_AC_building_nuclear_ON"
		# 	}
		# 	text = { # UNSELECTED
		# 		trigger = { always = yes }
		# 		localization_key = "GFX_AC_building_nuclear"
		# 	}
		# }
	# DEMAND/CONCESSION COST SWITCH
		defined_text = {
			name = CPD_DEMAND_CONCESSION_COST_SWITCH_LOC

			text = { # CONCESSIONS
				trigger = {
					ROOT = { has_country_flag = CPD_giving_concessions }
					CPD_calculate_province_cost_loc = yes
				}
				localization_key = "CPD_concessions_cost_value"
			}
			text = { # DEMANDS
				trigger = {
					ROOT = { NOT = { has_country_flag = CPD_giving_concessions } }
					CPD_calculate_province_cost_loc = yes
				}
				localization_key = "CPD_demand_cost_value"
			}
		}
	# ENACTED ACTIONS ON STATE LIST
		defined_text = {
			name = CPD_enacted_action_on_state

			text = {
				trigger = {
					OR = {
						ROOT = { is_in_array = { CPD_annex_state_DEMANDS = PREV } }
						ROOT = { is_in_array = { CPD_annex_state_CONCESSIONS = PREV } }
					}
				}
				localization_key = "CPD_annexation_of_state"
			}
			text = {
				trigger = {
					OR = {
						ROOT = { is_in_array = { CPD_puppet_in_state_DEMANDS = PREV } }
						ROOT = { is_in_array = { CPD_puppet_in_state_CONCESSIONS = PREV } }
					}
				}
				localization_key = "CPD_puppeting_in_state"
			}
			text = {
				trigger = {
					OR = {
						ROOT = { is_in_array = { CPD_demilitarise_state_DEMANDS = PREV } }
						ROOT = { is_in_array = { CPD_demilitarise_state_CONCESSIONS = PREV } }
					}
				}
				localization_key = "CPD_demilitarisation_of_state"
			}
			text = {
				trigger = {
					OR = {
						ROOT = { is_in_array = { CPD_liberate_state_DEMANDS = PREV } }
						ROOT = { is_in_array = { CPD_liberate_state_CONCESSIONS = PREV } }
					}
				}
				localization_key = "CPD_liberation_of_state"
			}
		}
	# ENACTED ACTIONS ON STATE LIST TOOLTIP
		defined_text = {
			name = CPD_enacted_action_on_state_TT

			# DEMANDS
				text = {
					trigger = { ROOT = { is_in_array = { CPD_annex_state_DEMANDS = PREV } } }
					localization_key = "CPD_demanding_annexation_of_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_puppet_in_state_DEMANDS = PREV } } }
					localization_key = "CPD_demanding_puppeting_in_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_demilitarise_state_DEMANDS = PREV } } }
					localization_key = "CPD_demanding_demilitarisation_of_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_liberate_state_DEMANDS = PREV } } }
					localization_key = "CPD_demanding_liberation_of_state_TT"
				}
			# CONCESSIONS
				text = {
					trigger = { ROOT = { is_in_array = { CPD_annex_state_CONCESSIONS = PREV } } }
					localization_key = "CPD_conceding_annexation_of_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_puppet_in_state_CONCESSIONS = PREV } } }
					localization_key = "CPD_conceding_puppeting_in_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_demilitarise_state_CONCESSIONS = PREV } } }
					localization_key = "CPD_conceding_demilitarisation_of_state_TT"
				}
				text = {
					trigger = { ROOT = { is_in_array = { CPD_liberate_state_CONCESSIONS = PREV } } }
					localization_key = "CPD_conceding_liberation_of_state_TT"
				}
		}
	# COST OF STATE STORED
		# defined_text = {
		# 	name = CPD_COST_OF_STATE_STORED_LOC

		# 	text = {
		# 		trigger = { CPD_cost_of_state_loc = yes }
		# 		localization_key = "CPD_cost_of_state_stored_refund"
		# 	}
		# }
	# AI/PLAYER ACCEPTANCE
		defined_text = {
			name = CPD_AI_WILL_ACCEPT_LOC

			text = {
				trigger = {
					is_ai = yes
					CPD_AI_will_accept = yes
				}
				localization_key = "CPD_AIA_yes"
			}
			text = {
				trigger = { is_ai = no }
				localization_key = "CPD_AIA_player"
			}
			text = { localization_key = "CPD_AIA_no" }
		}
	# RECEIPT FLAVOUR LOC
		defined_text = {
			name = CPD_receive_offer_DESC_WAR_TYPE

			text = {
				trigger = { THIS = { has_offensive_war = yes } }
				localization_key = "CPD_receive_offer_DESC_OFFENSIVE_WAR"
			}
			text = {
				trigger = { THIS = { has_defensive_war = yes } }
				localization_key = "CPD_receive_offer_DESC_DEFENSIVE_WAR"
			}
		}

# AI Acceptance Breakdown Scripted Loc
defined_text = {
	name = CPD_ai_accept_economic_cost

	text = {
		trigger = {
			set_temp_variable = { CPD_IR_temp = var:THIS.interest_rate }
			if = {
				limit = { THIS = { has_active_mission = debt_default_main_mission } }
				add_to_temp_variable = { CPD_econ_temp = 5 }
			}
			if = {
				limit = { check_variable = { CPD_IR_temp > 14.99 } }
				add_to_temp_variable = { CPD_econ_temp = 10 }
			}
			else_if = {
				limit = { check_variable = { CPD_IR_temp > 12.99 } }
				add_to_temp_variable = { CPD_econ_temp = 8 }
			}
			else_if = {
				limit = { check_variable = { CPD_IR_temp > 9.99 } }
				add_to_temp_variable = { CPD_econ_temp = 6 }
			}
			else_if = {
				limit = { check_variable = { CPD_IR_temp > 7.99 } }
				add_to_temp_variable = { CPD_econ_temp = 4 }
			}
			else_if = {
				limit = { check_variable = { CPD_IR_temp > 4.99 } }
				add_to_temp_variable = { CPD_econ_temp = 2 }
			}
		}
		localization_key = "CPD_ai_accept_economic_cost_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_war_support

	text = {
		trigger = {
			set_temp_variable = { CPD_WS_temp = var:THIS.has_war_support }
			multiply_temp_variable = { CPD_WS_temp = -200 }
			round_temp_variable = CPD_WS_temp
			add_to_temp_variable = { CPD_WS_temp = 101 }
		}
		localization_key = "CPD_ai_accept_war_support_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_relative_strength

	text = {
		trigger = {
			set_temp_variable = { CPD_RSB_temp = THIS.enemies_strength_ratio@ROOT }
			multiply_temp_variable = { CPD_RSB_temp = 100 }
			round_temp_variable = CPD_RSB_temp
			subtract_from_temp_variable = { CPD_RSB_temp = 100 }
			clamp_temp_variable = {
				var = CPD_RSB_temp
				max = 1000
			}
		}
		localization_key = "CPD_ai_accept_relative_strength_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_surrender_progress

	text = {
		trigger = {
			set_temp_variable = { CPD_SP_temp = var:THIS.surrender_progress }
			multiply_temp_variable = { CPD_SP_temp = 200 }
			round_temp_variable = CPD_SP_temp
			subtract_from_temp_variable = { CPD_SP_temp = 100 }
			clamp_temp_variable = {
				var = CPD_SP_temp
				min = 0
				max = 100
			}
		}
		localization_key = "CPD_ai_accept_surrender_progress_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_battles_won

	text = {
		trigger = {
			set_temp_variable = { CPD_RBW_temp = ROOT.CPD_VP@PREV }
			set_temp_variable = { CPD_TBW_temp = THIS.CPD_VP@ROOT }
			subtract_from_temp_variable = { CPD_RBW_temp = CPD_TBW_temp }
			round_temp_variable = CPD_RBW_temp
		}
		localization_key = "CPD_ai_accept_battles_won_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_power_ranking

	text = {
		trigger = {
			if = {
				limit = { THIS = { has_idea = superpower } }
				set_temp_variable = { CPD_PR_temp = -60 }
			}
			else_if = {
				limit = { THIS = { has_idea = great_power } }
				set_temp_variable = { CPD_PR_temp = -45 }
			}
			else_if = {
				limit = { THIS = { has_idea = large_power } }
				set_temp_variable = { CPD_PR_temp = -30 }
			}
			else_if = {
				limit = { THIS = { has_idea = regional_power } }
				set_temp_variable = { CPD_PR_temp = -15 }
			}
			else_if = {
				limit = { THIS = { has_idea = non_power } }
				set_temp_variable = { CPD_PR_temp = 15 }
			}
		}
		localization_key = "CPD_ai_accept_power_ranking_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_faction_backing

	text = {
		trigger = {
			if = {
				limit = { THIS = { has_idea = NATO_member } }
				add_to_temp_variable = { CPD_FB_temp = -25 }
			}
			if = {
				limit = { THIS = { has_idea = CSTO_member } }
				add_to_temp_variable = { CPD_FB_temp = -25 }
			}
		}
		localization_key = "CPD_ai_accept_faction_backing_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_months_at_war

	text = {
		trigger = {
			set_temp_variable = { months_at_war_tmp = THIS.months_at_war }
			multiply_temp_variable = { months_at_war_tmp = 2 }
		}
		localization_key = "CPD_ai_accept_months_at_war_tt"
	}
}
defined_text = {
	name = CPD_ai_accept_cost_of_peace

	text = {
		trigger = {
			set_temp_variable = { v = ROOT.CPD_total_cost_of_built_peace_deal }
			multiply_temp_variable = { v = -5 }
		}
		localization_key = "CPD_ai_accept_cost_of_peace_tt"
	}
}
defined_text = {
	name = CPD_ai_acceptance_total

	text = {
		trigger = {
			CPD_AI_will_accept_calculation = yes
		}
		localization_key = "CPD_ai_acceptance_total_tt"
	}
}