add_namespace = Kurdistan
add_namespace = KurdistanNews

### Kurdish Independence Referendum ###

#Initial starter event
country_event = {
	
	id = Kurdistan.1
	
	title = Kurdistan.1.t
	desc = Kurdistan.1.desc
	picture = GFX_kurdistan_referendum
	
	trigger = {
		tag = KUR
		is_subject = no
		NOT = { country_exists = ISI }
		ISI = {
			NOT = {
				controls_state = 166
				controls_state = 557
			}
		}
		country_exists = IRQ
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = Kurdistan.1.a		#Hold referendum	
		ai_chance = {
			factor = 90
		}
		set_global_flag = Hold_Kurdish_Referendum
		country_event = { id = Kurdistan.3 days = 60 }
		hidden_effect = { news_event = { id = KurdistanNews.2 hours = 6 } }
	}
	option = {
		name = Kurdistan.1.b		#Rejoin Iraq
		ai_chance = {
			factor = 10
		}
		IRQ = { country_event = { id = Kurdistan.2 days = 3 } }
    }
}

#Kurdistan Rejoins Iraq
country_event = {

	id = Kurdistan.2
	
	title = Kurdistan.2.t
	desc = Kurdistan.2.desc
	picture = GFX_Rojava
	
	is_triggered_only = yes
	
	option = {
		name = Kurdistan.2.a
		ai_chance = {
			factor = 100
		}
		if = {
			limit = { has_dlc = "Death or Dishonor"	}
			set_autonomy = { target = KUR autonomy_state = autonomy_integrated_puppet }
			else = {
				annex_country = { target = KUR }
			}
		}
		hidden_effect = { news_event = { id = KurdistanNews.1 hours = 6 } }
	}
}

#Independence Referendum is a success
country_event = {

	id = Kurdistan.3
	
	title = Kurdistan.3.t
	desc = Kurdistan.3.d
	picture = GFX_kurdistan_referendum
	
	is_triggered_only = yes
	
	option = {
		name = Kurdistan.3.a		#Declare full independence
		ai_chance = {
			factor = 80
		}
		add_national_unity = 0.05
		set_global_flag = KUR_demand_independence
		IRQ = { country_event = { id = Kurdistan.4 hours = 12 } }
		hidden_effect = {	
			news_event = { id = KurdistanNews.3 hours = 6 }
		}
	}
	option = {
		name = Kurdistan.3.b		#Demand more autonomy
		ai_chance = {
			factor = 20
		}
		add_national_unity = 0.05
		set_global_flag = KUR_demand_more_autonomy
		IRQ = { country_event = { id = Kurdistan.5 hours = 12 } }
		hidden_effect = {
			news_event = { id = KurdistanNews.4 hours = 6 }
		}
	}
}

#Kurdistan demands full independence
country_event = {

	id = Kurdistan.4
	
	title = Kurdistan.4.t
	desc = Kurdistan.4.d
	picture = GFX_kurdistan_referendum
	
	is_triggered_only = yes
	
	option = {
		name = Kurdistan.4.a	#No
		ai_chance = {
			factor = 90
		}
	}
	option = {
		name = Kurdistan.4.b	#In exchange for Kirkuk
		ai_chance = {
			factor = 5
		}
	}
	option = {
		name = Kurdistan.4.c	#Let them go
		ai_chance = {
			factor = 5
		}
	}
}

#Kurdistan demands full independence
country_event = {

	id = Kurdistan.5
	
	title = Kurdistan.5.t
	desc = Kurdistan.5.d
	picture = GFX_kurdistan_referendum
	
	is_triggered_only = yes
	
	option = {
		name = Kurdistan.5.a	#No
		ai_chance = {
			factor = 80
		}
	}
	option = {
		name = Kurdistan.5.b	#In exchange for Kirkuk
		ai_chance = {
			factor = 10
		}
	}
	option = {
		name = Kurdistan.5.c	#Let them go
		ai_chance = {
			factor = 10
		}
	}
}

### News Events About Kurdistan ###

#Kurdistan Rejoins Iraq
news_event = {

	id = KurdistanNews.1
	
	title = KurdistanNews.1.t
	desc = KurdistanNews.1.d
	picture = GFX_news_fate_of_iraq
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = KurdistanNews.1.a
		ai_chance = { factor = 100 }
	}
	
}

#Kurdistan Referendum is Planned
news_event = {

	id = KurdistanNews.2
	
	title = KurdistanNews.2.t
	desc = KurdistanNews.2.d
	picture = GFX_news_fate_of_iraq
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = KurdistanNews.2.a
		trigger = {
			OR = {
				tag = IRQ
				tag = SYR
				tag = TUR
				tag = PER
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		name = KurdistanNews.2.b
		trigger = {
			NOT = {
				OR = {
					tag = IRQ
					tag = SYR
					tag = TUR
					tag = PER
				}
			}
		}
		ai_chance = { factor = 100 }
	}				
	
}

#Kurdistan Referendum Succeeds - Independence
news_event = {
	
	id = KurdistanNews.3
	
	title = KurdistanNews.3.t
	desc = KurdistanNews.3.d
	picture = GFX_news_fate_of_iraq
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = KurdistanNews.3.a
		trigger = {
			OR = {
				tag = IRQ
				tag = SYR
				tag = TUR
				tag = PER
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		name = KurdistanNews.3.b
		trigger = {
			NOT = {
				OR = {
					tag = IRQ
					tag = SYR
					tag = TUR
					tag = PER
				}
			}
		}
		ai_chance = { factor = 100 }
	}				
	
}

#Kurdistan Referendum Succeeds - More autonomy
news_event = {
	
	id = KurdistanNews.4
	
	title = KurdistanNews.4.t
	desc = KurdistanNews.4.d
	picture = GFX_news_fate_of_iraq
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = KurdistanNews.4.a
		trigger = {
			OR = {
				tag = IRQ
				tag = SYR
				tag = TUR
				tag = PER
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		name = KurdistanNews.4.b
		trigger = {
			NOT = {
				OR = {
					tag = IRQ
					tag = SYR
					tag = TUR
					tag = PER
				}
			}
		}
		ai_chance = { factor = 100 }
	}				
	
}
		