###########################
# 	  Canadian Events	  #
###########################

add_namespace = canada

#Hidden event to trigger random events
country_event = {
	id = canada.4
	title = canada.4.t
	desc = canada.4.d
	picture = GFX_Canadian_elections
	
	fire_only_once = yes
	
	hidden = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { #now?
		name = canada.0.a
		hidden_effect = {
			country_event = { id = canada.0 days = 714 } #Prepare for elections event
		}
	}
}


# Prepare for the Elections (2019) 
country_event = {
	id = canada.0
	title = canada.0.t
	desc = canada.0.d
	picture = GFX_Canadian_elections
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { #now?
		name = canada.0.a
		add_political_power = -75
		complete_national_focus = CAN_elections
		hidden_effect = {
			set_country_flag = CAN_campaigning_early
			country_event = { id = canada.3 days = 100 }
		}
	}
	
	option = { #or spring?
		name = canada.0.b
		hidden_effect = {
			country_event = { id = canada.1 days = 100 }
		}
		add_political_power = 25
	}
}

# Prepare for the Elections 2 (2019) 
country_event = {
	id = canada.1
	title = canada.1.t
	desc = canada.1.d
	picture = GFX_Canadian_elections
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { #now!
		name = canada.1.a
		add_political_power = -50
		complete_national_focus = CAN_elections
		hidden_effect = {
			set_country_flag = CAN_campaigning_normal
			country_event = { id = canada.3 days = 50 }
		}
	}
	
	option = { #Maybe even later
		name = canada.1.b
		hidden_effect = {
			country_event = { id = canada.2 days = 50 }
		}
		add_political_power = 15
	}
}

# Prepare for the Elections 3 (2019) 
country_event = {
	id = canada.2
	title = canada.2.t
	desc = canada.2.d
	picture = GFX_Canadian_elections
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { #now!
		name = canada.2.a
		add_political_power = -25
		complete_national_focus = CAN_elections
		hidden_effect = {
			set_country_flag = CAN_campaigning_late
			country_event = { id = canada.3 days = 7 }
		}
	}
}

# Statistics for highest funding
country_event = {
	id = canada.3
	title = canada.3.t
	desc = canada.3.d
	picture = GFX_Canadian_elections
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { # Conservatives
		name = canada.3.a
		trigger = {
			has_country_flag = CAN_helped_conservatives
		}
		add_political_power = 10
		newline = yes
		custom_effect_tooltip = CAN_c_helped_tt
	}
	
	option = { # Liberals
		name = canada.3.b
		trigger = {
			has_country_flag = CAN_helped_liberals
		}
		add_political_power = 15
		newline = yes
		custom_effect_tooltip = CAN_l_helped_tt
	}
	
	option = { # NDP
		name = canada.3.c
		trigger = {
			has_country_flag = CAN_helped_ndp
		}
		add_political_power = 10
		newline = yes
		custom_effect_tooltip = CAN_n_helped_tt
	}
	
	option = { # NDP
		name = canada.3.e
		trigger = {
			NOT = {
				OR = {
					has_country_flag = CAN_helped_conservatives
					has_country_flag = CAN_helped_liberals
					has_country_flag = CAN_helped_ndp
				}
			}
		}
		add_political_power = -20
		set_country_flag = CAN_noonehelped
		newline = yes
		custom_effect_tooltip = CAN_helped_no_one_yet_tt
	}
}

#Very Low French Canadian Happiness
country_event = {
	id = canada.5
	title = canada.5.t
	desc = canada.5.d
	picture = GFX_Canadian_elections
	
	is_triggered_only = yes
	
	trigger = {
		tag = CAN
	}
	
	option = { #try to fix the situation
		name = canada.5.a
		add_political_power = -100
		add_stability = 0.03
		custom_effect_tooltip = CAN_try_fix_happiness_tt
		hidden_effect = {
			set_country_flag = CAN_try_fix_happiness_flag
			random_list = {
					5 = {
						add_to_variable = { french_happiness_var = 2 }
					}
					55 = {
						add_to_variable = { french_happiness_var = 6 }
					}
					35 = {
						add_to_variable = { french_happiness_var = 9 }
					}
					5 = {
						add_to_variable = { french_happiness_var = 12 }
					}
				}
			CAN_update_french_happiness = yes
		}
	}
	
	option = { #do nothing
		name = canada.5.b
		add_political_power = 20
		custom_effect_tooltip = CAN_did_nothing_happiness_tt
		hidden_effect = {
			set_country_flag = CAN_did_nothing_happiness_flag
			random_list = {
					5 = {
						add_to_variable = { french_happiness_var = 0 }
					}
					55 = {
						add_to_variable = { french_happiness_var = -1 }
					}
					35 = {
						add_to_variable = { french_happiness_var = -3 }
					}
					5 = {
						add_to_variable = { french_happiness_var = -6 }
					}
				}
		}
	}
}