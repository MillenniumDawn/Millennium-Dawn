#Medical Brigades
CUB_medical_brigades = {


	# Cooldown vs number of uses, code to add later:
	#visible = {
	# check_variable = { var_name < 3 }
	# NOT = { check_variable = { var_name > 2 }  }
	#}

	#complete_effect = {
	#add_to_variable = { var_name = 1 }
	#}

	#Venezuela Brigade
	CUB_send_ven_brig = {
		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
				has_country_flag = CUB_Ven_Med
				check_variable = { var_venbrigade < 3 }
			}	
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

    	complete_effect = {
			set_temp_variable = { treasury_change = 1.0 }
			modify_treasury_effect = yes
			add_manpower = -1000
			add_to_variable = { var_venbrigade = 1 }	
            VEN = {
				set_temp_variable = { treasury_change = -1.0 }
				modify_treasury_effect = yes
				add_manpower = 1000
			}
	 	}
	}

	#Haiti Brigade
	CUB_send_haiti_brig = {
		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
				has_country_flag = CUB_Haiti_Med
				check_variable = { var_haitibrigade < 1 }
			}
			
		}

	    cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

	  	complete_effect = {
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			add_manpower = -400
			add_to_variable = { var_haitibrigade = 1 }
	        HAI = {
				set_temp_variable = { treasury_change = -0.2 }
				modify_treasury_effect = yes
				add_manpower = 400
	  		}
	 	}
	}

	#Bolivia Brigade
	CUB_send_boliv_brig = {

		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
			has_country_flag = CUB_Bolivia_Brig
			check_variable = { var_boliviabrigade < 2 }
			}
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

      	complete_effect = {
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			add_manpower = -500
			add_to_variable = { var_boliviabrigadebrigade = 1 }
            BOL = {
				set_temp_variable = { treasury_change = -0.5 }
				modify_treasury_effect = yes
				add_manpower = 500			
			}
		}
	}

	#South Africa Brigade
	CUB_send_saf_brig = {
		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
			has_country_flag = CUB_SA_Brig
			check_variable = { var_sabrigade < 2 }
			}
			
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

      complete_effect = {
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			add_manpower = -500
			add_to_variable = { var_sabrigade = 1 }
            SAF = {
			set_temp_variable = { treasury_change = -0.5 }
			modify_treasury_effect = yes
			add_manpower = 500
						
	  }
	 }
	} 

	#Brazil Brigade
	CUB_send_bra_brig = {

		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
			has_country_flag = CUB_BRA_Brig
			check_variable = { var_brazilbrigade < 4 }
			}
			
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

      	complete_effect = {
			set_temp_variable = { treasury_change = 1.0 }
			modify_treasury_effect = yes
			add_manpower = -2000
			add_to_variable = { var_brazilbrigade = 1 }
            BRA = {
				set_temp_variable = { treasury_change = -1.0 }
				modify_treasury_effect = yes
				add_manpower = 2000				
	  		}
	 	}
	}
}

# Support for subversives
CUB_internal_support_category = {

	CUB_arrest_dissidents = {
		icon = GFX_decision_oppression

		cost = 100

		visible = {
			original_tag = CUB
		}

		days_re_enable = 30

		complete_effect = {
			add_to_variable = { var = cub_subv_threat value = -10 }
			custom_effect_tooltip = cub_modify_subv_support_m10_tt
			#CUB_modify_subv_support= yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}
		
	CUB_release_dissidents = {
		icon = GFX_decision_generic_political_discourse
		cost = 100
		visible = {
			original_tag = CUB
		}
		days_re_enable = 30
		complete_effect = {
				add_to_variable = {
					var = cub_subv_threat
					value = 15
				}
				clamp_variable = {
					var = cub_subv_threat
					min = 0
					max = 100
				}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_communist_cadres_opinion = yes
		set_country_flag = dissidents_released
		log = "[GetDateText]: [This.GetName]: decision release_dissidents executed"
	}

	CUB_mobilize_cdrs = {
		icon = GFX_decision_oppression
		cost = 100
		visible = {
			has_country_flag = CUB_CDR_Mobilize
		}
		days_re_enable = 30
		complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}
}