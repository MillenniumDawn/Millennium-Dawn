different_country_flags_category = {
	
	#Generic
	Reset_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_flag
			has_elections = yes
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_trigger = { 
					text = {
						NOT = {
							has_cosmetic_tag = [ROOTTAG]
							AND = {
								has_civil_war = yes
								OR = {
									NOT = {tag = [ROOTTAG]}
									has_cosmetic_tag = [ROOTTAG]_REB
									has_cosmetic_tag = [ROOTTAG]_REB_S
								}
							}
						}
					}
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = { 
					text = {
						NOT = {
							has_cosmetic_tag = [ROOTTAG]
							AND = {
								has_civil_war = yes
								OR = {
									NOT = {tag = [ROOTTAG]}
									has_cosmetic_tag = [ROOTTAG]_REB
									has_cosmetic_tag = [ROOTTAG]_REB_S
								}
							}
						}
					}
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Reset_flag"
			
			if = {
				limit = {has_country_flag = is_civil_war_faction}
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG] }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG] }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}

	Autocracy_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_flag
			has_elections = no
			OR = {
				has_country_leader_with_trait = western_Western_Autocracy
				has_country_leader_with_trait = emerging_Autocracy
				has_country_leader_with_trait = neutrality_Neutral_Autocracy
				has_country_leader_with_trait = nationalist_Nat_Autocracy
			}
			if = {
				limit = {has_country_flag = is_civil_war_faction}
				meta_trigger = { 
					text = {
						NOT = {
							has_cosmetic_tag = [ROOTTAG]_AUTH
							AND = {
								has_civil_war = yes
								OR = {
									has_country_leader_with_trait = nationalist_Nat_Autocracy
									AND = {
										NOT = {tag = [ROOTTAG]}
										[ROOTTAG] = {
											OR = {
												has_country_leader_with_trait = western_Western_Autocracy
												has_country_leader_with_trait = emerging_Autocracy
												has_country_leader_with_trait = neutrality_Neutral_Autocracy
											}
										}
									}
								}
							}
						}
					}
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = { 
					text = {
						NOT = {
							has_cosmetic_tag = [ROOTTAG]_AUTH
							AND = {
								has_civil_war = yes
								OR = {
									has_country_leader_with_trait = nationalist_Nat_Autocracy
									AND = {
										NOT = {tag = [ROOTTAG]}
										[ROOTTAG] = {
											OR = {
												has_country_leader_with_trait = western_Western_Autocracy
												has_country_leader_with_trait = emerging_Autocracy
												has_country_leader_with_trait = neutrality_Neutral_Autocracy
											}
										}
									}
								}
							}
						}
					}
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Autocracy_flag"
			
			if = {
				limit = {has_country_flag = is_civil_war_faction}
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_AUTH }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_AUTH }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}

	Special_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_flag
			has_elections = no
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_trigger = {
					text = {
						NOT = { has_cosmetic_tag = [ROOTTAG]_AUTH_S }
						OR = {
							has_country_leader_with_trait = salafist_Kingdom
							has_country_leader_with_trait = nationalist_Monarchist
							AND = {
								OR = {
									has_country_leader_with_trait = emerging_Communist-State
									has_country_leader_with_trait = neutrality_Neutral_Communism
								}
								OR = {
									has_civil_war = no
									AND = {
										has_civil_war = yes
										tag = [ROOTTAG]
									}
								}
							}
						}
					}
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = {
					text = {
						NOT = { has_cosmetic_tag = [ROOTTAG]_AUTH_S }
						OR = {
							has_country_leader_with_trait = salafist_Kingdom
							has_country_leader_with_trait = nationalist_Monarchist
							AND = {
								OR = {
									has_country_leader_with_trait = emerging_Communist-State
									has_country_leader_with_trait = neutrality_Neutral_Communism
								}
								OR = {
									has_civil_war = no
									AND = {
										has_civil_war = yes
										tag = [ROOTTAG]
									}
								}
							}
						}
					}
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Special_flag"
			
			if = {
				limit = {has_country_flag = is_civil_war_faction}
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_S }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_AUTH_S }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}

	More_Special_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_flag
			has_elections = no
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_trigger = {
					text = { NOT = { has_cosmetic_tag = [ROOTTAG]_AUTH_SS } }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = {
					text = { NOT = { has_cosmetic_tag = [ROOTTAG]_AUTH_SS } }
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
			NOT = { has_cosmetic_tag = [ROOTTAG]_AUTH_SS }
			OR = {
				has_country_leader_with_trait = nationalist_Nat_Fascism
				has_country_leader_with_trait = emerging_Vilayat_e_Faqih
				has_country_leader_with_trait = emerging_Mod_Vilayat_e_Faqih
				has_country_leader_with_trait = salafist_Caliphate
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision More_Special_flag"
			
			if = {
				limit = {has_country_flag = is_civil_war_faction}
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_AUTH_SS }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_AUTH_SS }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}
	
	Rebel_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_rebel_flag
			has_civil_war = yes
			
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_trigger = { 
					text = {
						if = {
							limit = {NOT = {TAG = original_tag}}
							any_country_with_original_tag = {
								original_tag_to_check = ROOT
								has_cosmetic_tag = [ROOTTAG]
							}
						}
						else = { always = no }
						NOT = {
							has_cosmetic_tag = [ROOTTAG]_REB
							tag = [ROOTTAG]
							has_country_leader_with_trait = emerging_Communist-State
							has_country_leader_with_trait = neutrality_Neutral_Communism
							has_country_leader_with_trait = nationalist_Nat_Autocracy
							has_country_leader_with_trait = nationalist_Nat_Fascism
							has_country_leader_with_trait = emerging_Vilayat_e_Faqih
							has_country_leader_with_trait = emerging_Mod_Vilayat_e_Faqih
							has_country_leader_with_trait = salafist_Kingdom
							has_country_leader_with_trait = salafist_Caliphate
							has_country_leader_with_trait = nationalist_Monarchist
							has_country_leader_with_trait = western_Western_Autocracy
							has_country_leader_with_trait = emerging_Autocracy
							has_country_leader_with_trait = neutrality_Neutral_Autocracy
						}

					}
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = { 
					text = {
						if = {
							limit = {NOT = {TAG = original_tag}}
							any_country_with_original_tag = {
								original_tag_to_check = ROOT
								has_cosmetic_tag = [ROOTTAG]
							}
						}
						else = { always = no }
						NOT = {
							has_cosmetic_tag = [ROOTTAG]_REB
							tag = [ROOTTAG]
							has_country_leader_with_trait = emerging_Communist-State
							has_country_leader_with_trait = neutrality_Neutral_Communism
							has_country_leader_with_trait = nationalist_Nat_Autocracy
							has_country_leader_with_trait = nationalist_Nat_Fascism
							has_country_leader_with_trait = emerging_Vilayat_e_Faqih
							has_country_leader_with_trait = emerging_Mod_Vilayat_e_Faqih
							has_country_leader_with_trait = salafist_Kingdom
							has_country_leader_with_trait = salafist_Caliphate
							has_country_leader_with_trait = nationalist_Monarchist
							has_country_leader_with_trait = western_Western_Autocracy
							has_country_leader_with_trait = emerging_Autocracy
							has_country_leader_with_trait = neutrality_Neutral_Autocracy
						}
					}
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Rebel_flag"
			
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_REB }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_REB }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}

	Special_Rebel_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			has_country_flag = dynamic_rebel_flag
			has_civil_war = yes
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_trigger = { 
					text = {
						NOT = { has_cosmetic_tag = [ROOTTAG]_REB_S }
						OR = {
							has_country_leader_with_trait = nationalist_Nat_Autocracy
							AND = {
								OR = {
									has_country_leader_with_trait = emerging_Communist-State
									has_country_leader_with_trait = neutrality_Neutral_Communism
								}
								NOT = {tag = [ROOTTAG]}
							}
						}
					}
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
				
			else = {
				meta_trigger = { 
					text = {
						NOT = { has_cosmetic_tag = [ROOTTAG]_REB_S }
						OR = {
							has_country_leader_with_trait = nationalist_Nat_Autocracy
							AND = {
								OR = {
									has_country_leader_with_trait = emerging_Communist-State
									has_country_leader_with_trait = neutrality_Neutral_Communism
								}
								NOT = {tag = [ROOTTAG]}
							}
						}
					}
					ROOTTAG = "[?original_tag.GetTag]"
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Special_Rebel_flag"
			
			if = {
				limit = { has_country_flag = is_civil_war_faction }
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_REB_S }
					ROOTTAG = "[?civil_war_original_tag.GetTag]"
				}
			}
			else = {
				meta_effect = {
					text = { set_cosmetic_tag = [ROOTTAG]_REB_S }
					ROOTTAG = "[?original_tag.GetTag]"
				}
				custom_effect_tooltip = tooltip_change_flag
			}
		}
	}
	
	add_dynamic_flag = {
		cost = 0
		ai_will_do = { factor = 1}
		visible = {
			NOT = {has_country_flag = dynamic_flag}
			if = {
				limit = {NOT = {TAG = original_tag}}
				any_country_with_original_tag = {
					original_tag_to_check = ROOT
					has_country_flag = dynamic_flag
				}
			}
			else = { always = no }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision Enable_flag_rebel"
			set_country_flag = dynamic_flag
			set_country_flag = dynamic_rebel_flag
		}
	}
	
	### Shitty memes ###
	ISI_SHEEP_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		allowed = { original_tag = ISI }
		visible = {
			original_tag = ISI
			NOT = { has_cosmetic_tag = ISI_SHEEP }
			controls_state = 16
			controls_state = 750
			controls_state = 751
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ISI_SHEEP_flag"
			set_cosmetic_tag = ISI_SHEEP
			custom_effect_tooltip = tooltip_change_flag
		}
	}
	
	GEO_USA_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1}
		allowed = { original_tag = GEO}
		visible = {
			original_tag = GEO
			NOT = { has_cosmetic_tag = GEO_USA }
			owns_state = 792
			NOT = {
				owns_state = 705
				owns_state = 706
				owns_state = 707
				owns_state = 708
				owns_state = 466
			}	
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GEO_USA_flag"
			set_cosmetic_tag = GEO_USA
			add_state_core = 792
			set_capital = 792
			remove_state_core = 705
			remove_state_core = 706
			remove_state_core = 707
			remove_state_core = 708
			remove_state_core = 466
			custom_effect_tooltip = tooltip_change_flag
		}
	}
}

#I hate myself.