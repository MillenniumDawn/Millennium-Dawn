add_namespace = brotherhood

country_event = {   #Muslim Brotherhood
    id = brotherhood.0
    
    hidden = yes
    
    
	trigger = {
			Is_Muslim_Brotherhood = yes
    }
	
	mean_time_to_happen = {
		days = 21
	}
	
	immediate  = {
		remove_ideas = muslim_brotherhood_crackdown
	}
	
    option = {
        if = {
            limit = {
                JOR = { Is_Muslim_Brotherhood = yes }
            }
            JOR = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                TUR = { Is_Muslim_Brotherhood = yes }
            }
            TUR = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                SYR = { Is_Muslim_Brotherhood = yes }
            }
            SYR = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                FSA = { Is_Muslim_Brotherhood = yes }
            }
            FSA = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                NUS = { Is_Muslim_Brotherhood = yes }
            }
            NUS = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                AFG = { Is_Muslim_Brotherhood = yes }
            }
            AFG = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                TAL = { Is_Muslim_Brotherhood = yes }
            }
            TAL = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                HAM = { Is_Muslim_Brotherhood = yes }
            }
            HAM = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                SAU = { Is_Muslim_Brotherhood = yes }
            }
            SAU = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                BHR = { Is_Muslim_Brotherhood = yes }
            }
            BHR = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                UAE = { Is_Muslim_Brotherhood = yes }
            }
            UAE = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                YEM = { Is_Muslim_Brotherhood = yes }
            }
            YEM = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                EGY = { Is_Muslim_Brotherhood = yes }
            }
            EGY = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                SUD = { Is_Muslim_Brotherhood = yes }
            }
            SUD = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                LBY = { Is_Muslim_Brotherhood = yes }
            }
            LBY = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                ALG = { Is_Muslim_Brotherhood = yes }
            }
            ALG = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                MOR = { Is_Muslim_Brotherhood = yes }
            }
            MOR = { country_event = {id = brotherhood.1} }
        }
		if = {
            limit = {
                QAT = { Is_Muslim_Brotherhood = yes }
            }
            QAT = { country_event = {id = brotherhood.1} }
        }
    }
}
country_event = {   # APPLY
    id = brotherhood.1
    
    hidden = yes
    
    is_triggered_only = yes
    
    option = {
        PREV = { add_opinion_modifier = { target = FROM modifier = Muslim_Brotherhood_Relations } }
		#PREV = { reverse_add_opinion_modifier = { target = FROM modifier = Muslim_Brotherhood_Relations } }
    }
}

country_event = {   #Has crackdown
    id = brotherhood.2
    
    hidden = yes
    
    
	trigger = {
			has_idea = muslim_brotherhood_crackdown
    }
	
	mean_time_to_happen = {
		days = 21
	}
	
    option = {
        if = {
            limit = {
                JOR = { Is_Muslim_Brotherhood = yes }
            }
            JOR = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                TUR = { Is_Muslim_Brotherhood = yes }
            }
            TUR = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                SYR = { Is_Muslim_Brotherhood = yes }
            }
            SYR = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                FSA = { Is_Muslim_Brotherhood = yes }
            }
            FSA = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                NUS = { Is_Muslim_Brotherhood = yes }
            }
            NUS = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                AFG = { Is_Muslim_Brotherhood = yes }
            }
            AFG = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                TAL = { Is_Muslim_Brotherhood = yes }
            }
            TAL = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                HAM = { Is_Muslim_Brotherhood = yes }
            }
            HAM = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                SAU = { Is_Muslim_Brotherhood = yes }
            }
            SAU = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                BHR = { Is_Muslim_Brotherhood = yes }
            }
            BHR = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                UAE = { Is_Muslim_Brotherhood = yes }
            }
            UAE = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                YEM = { Is_Muslim_Brotherhood = yes }
            }
            YEM = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                EGY = { Is_Muslim_Brotherhood = yes }
            }
            EGY = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                SUD = { Is_Muslim_Brotherhood = yes }
            }
            SUD = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                LBY = { Is_Muslim_Brotherhood = yes }
            }
            LBY = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                ALG = { Is_Muslim_Brotherhood = yes }
            }
            ALG = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                MOR = { Is_Muslim_Brotherhood = yes }
            }
            MOR = { country_event = {id = brotherhood.3} }
        }
		if = {
            limit = {
                QAT = { Is_Muslim_Brotherhood = yes }
            }
            QAT = { country_event = {id = brotherhood.3} }
        }
    }
}

country_event = {   # APPLY
    id = brotherhood.3
    
    hidden = yes
    
    is_triggered_only = yes
    
    option = {
        PREV = { add_opinion_modifier = { target = FROM modifier = Is_cracking_down_on_Muslim_Brotherhood } }
		PREV = { reverse_add_opinion_modifier = { target = FROM modifier = Is_Muslim_Brotherhood_negative } }
    }
}

#Change allignment to Emerging if enough support
country_event = {   
    id = brotherhood.4
    
    hidden = yes
    
    
	trigger = {
			Is_Muslim_Brotherhood = yes
			has_government = neutrality #sanity check
			communism > 0.6
			NOT = {
				count_triggers = { #If Sunni Brotherhood powers are strong, Iran can't sway them
				amount = 2
				TUR = { Is_Muslim_Brotherhood = yes }
				SAU = { Is_Muslim_Brotherhood = yes }
				EGY = { Is_Muslim_Brotherhood = yes }
			}
		}
    }
	
	mean_time_to_happen = {
		days = 21
	}
	
    option = {
            set_country_leader_ideology = Muslim_Brotherhood
			remove_country_leader_trait = neutrality_Neutral_Muslim_Brotherhood
			add_country_leader_trait = emerging_Muslim_Brotherhood
			set_country_flag = emerging_muslim_brotherhood
			set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			
    }
}

#Change allignment to Emerging if enough support
country_event = {   
    id = brotherhood.5
    
    hidden = yes
    
    
	trigger = {
			Is_Muslim_Brotherhood = yes
			has_government = communism #sanity check
			neutrality > 0.6
    }
	
	mean_time_to_happen = {
		days = 21
	}
	
    option = {
            set_country_leader_ideology = Neutral_Muslim_Brotherhood
			remove_country_leader_trait = emerging_Muslim_Brotherhood
			add_country_leader_trait = neutrality_Neutral_Muslim_Brotherhood 
			clr_country_flag = emerging_muslim_brotherhood
			set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			
    }
}

