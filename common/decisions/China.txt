one_china_category = {
	
	show_countries_that_recognize_the_ROC = {
		
		icon = GFX_decision_generic_nationalism
		
		visible = {
			OR = {
				original_tag = TAI
				original_tag = CHI
			}
			NOT = {
				TAI = {
					is_puppet = yes
				}
				TAI = {
					has_idea = Lacks_International_Recognition
				}
			}
		}
		
		complete_effect = {
			statehood_show_recognised_ROC = yes
		}
	}
	
	anti_DPP_media_campaign = {
		
		icon = eng_propaganda_campaigns
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
		}
		
		custom_cost_trigger = {
			check_variable = { treasury > 1.25 }
		}
		
		custom_cost_text = cost_1_5
		
		available = {
			custom_trigger_tooltip = {	
				tooltip = CHI_TAI_influence_higher_10_tt
				TAI = {
					set_temp_variable = { temp_idx = -1 }
					any_of = {
						array = influence_array
						value = v
						index = i
						if = {
							limit = { var:v = { tag = CHI } }
							set_temp_variable = { temp_idx = i }
							always = yes
						}
						else = { always = no }
					}
					check_variable = { temp_idx > -1 }
					check_variable = { influence_array_calc^temp_idx > 0.1 }
				}
			}
		}
		
		days_remove = 30
		
		complete_effect = {
			subtract_from_variable = { treasury = 1.5 }
		}
		
		remove_effect = {
			custom_effect_tooltip = CHI_DPP_tt
			hidden_effect = {
				TAI = {
					add_to_variable = {
						var = conservatism
						value = 0.05
					}
					subtract_from_variable = {
						var = liberalism
						value = 0.05
					}
					recalculate_party = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = liberalism
						value = 0.55
						compare = greater_than
					}
				}
			}
		}
	}
	
	ban_solo_travel_to_taiwan = {
	
		icon = GFX_decision_border_war
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
			NOT = {
				TAI = { has_idea = china_travel_ban }
			}
		}
		
		cost = 100
		
		available = {
			custom_trigger_tooltip = {	
				tooltip = CHI_TAI_influence_higher_10_tt
				TAI = {
					set_temp_variable = { temp_idx = -1 }
					any_of = {
						array = influence_array
						value = v
						index = i
						if = {
							limit = { var:v = { tag = CHI } }
							set_temp_variable = { temp_idx = i }
							always = yes
						}
						else = { always = no }
					}
					check_variable = { temp_idx > -1 }
					check_variable = { influence_array_calc^temp_idx > 0.1 }
				}
			}
		}
		
		complete_effect = {
			TAI = {
				add_ideas = china_travel_ban
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = liberalism
						value = 0.55
						compare = greater_than
					}
				}
			}
		}
	}
	
	rescind_travel_ban = {
	
		icon = GFX_decision_border_war
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
			TAI = { has_idea = china_travel_ban }
		}
		
		cost = 100
		
		available = {
		}
		
		complete_effect = {
			TAI = {
				remove_ideas = china_travel_ban
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = liberalism
						value = 0.55
						compare = less_than_or_equals
					}
				}
			}
		}
	}
	
	reunification_ROC = {
	
		icon = GFX_decision_generic_nationalism
		
		visible = {
			OR = {
				original_tag = CHI
				original_tag = TAI
			}	
			country_exists = TAI
			TAI = {
				is_puppet = no
			}
		}
		
		available = {
			OR = {
				AND = {
					TAI = { has_government = democratic }
					CHI = { has_government = democratic }
				}
				AND = {
					TAI = { has_government = communism }
					CHI = { has_government = communism }
				}
				AND = {
					TAI = { has_government = neutrality }
					CHI = { has_government = neutrality }
				}
			}
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_not_ruling_tt
				NOT = { TAI = { is_in_array = { ruling_party = 2 } } }
			}
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_25_tt
				check_variable = {
					var = liberalism
					value = 0.25
					compare = less_than
				}
			}
		}
		
		cost = 300
		
		complete_effect = {
			CHI = {
				annex_country = {
					target = TAI
					transfer_troops = yes
				}
			}
		}
	
	}
	
	declare_independence_taiwan = {
	
		icon = GFX_decision_generic_nationalism
		
		allowed = { 
			original_tag = TAI
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_ruling_tt
				is_in_array = { ruling_party = 2 }
			}
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_75_tt
				check_variable = {
					var = liberalism
					value = 0.75
					compare = greater_than
				}
			}
		}
		
		fire_only_once = yes
		
		cost = 300
		
		complete_effect = {
			add_ideas = Lacks_International_Recognition
			add_to_array = {
				global.Unrecognised_States = THIS
			}
			set_variable = {
				var = Granted_Recognition
				value = 0
			}
			CHI = {
				add_opinion_modifier = {
					modifier = declared_independence
					target = ROOT
				}
				remove_opinion_modifier = {
					modifier = one_china_policy
					target = ROOT
				}
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
			set_cosmetic_tag = TAI_independent
			custom_effect_tooltip = TAI_loses_cores_tt
			hidden_effect = {
				remove_state_core = 434
				remove_state_core = 435
				remove_state_core = 475
				remove_state_core = 526
				remove_state_core = 531
				remove_state_core = 532
				remove_state_core = 534
				remove_state_core = 536
				remove_state_core = 537
				remove_state_core = 538
				remove_state_core = 540
				remove_state_core = 541
				remove_state_core = 544
				remove_state_core = 547
				remove_state_core = 548
				remove_state_core = 549
				remove_state_core = 552
				remove_state_core = 554
				remove_state_core = 555
				remove_state_core = 556
				remove_state_core = 558
				remove_state_core = 559
				remove_state_core = 560
				remove_state_core = 562
				remove_state_core = 564
				remove_state_core = 567
				remove_state_core = 570
				remove_state_core = 572
				remove_state_core = 574
				remove_state_core = 578
				remove_state_core = 582
				remove_state_core = 583
				remove_state_core = 585
				remove_state_core = 586
				remove_state_core = 588
				remove_state_core = 589
				remove_state_core = 592
				remove_state_core = 595
				remove_state_core = 596
				remove_state_core = 597
				remove_state_core = 801
				remove_state_core = 802
				remove_state_core = 813
				remove_state_core = 816
			}
		}
	}	
	
	show_recognised_countries_taiwan = {
		
		icon = GFX_decision_generic_nationalism
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		complete_effect = {
			statehood_show_recognised_countries = yes
		}
	}
	
	show_non_recognised_countries_taiwan = {
		
		icon = GFX_decision_generic_nationalism
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		complete_effect = {
			statehood_show_non_recognised_countries = yes
		}
		
	}
	
	campaign_for_recognition_USA_taiwan = {
	
		icon = GFX_decision_usa
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			USA = {
				has_opinion = {
					target = ROOT
					value > 49
				}
			}
			custom_trigger_tooltip = {
				tooltip = USA_recognition_CHI_tt
				USA = {
					if = {
						limit = {
							CHI = {
								has_opinion_modifier = declared_independence
							}
						}
						check_variable = { opinion@ROOT > opinion@CHI }					
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = CHI_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = CHI } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = CHI
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = SOV } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = SOV
						}
					}
				}
			}
			has_elections = yes
		}
		
		days_remove = 30
		
		cost = 300
		
		complete_effect = {
			set_country_flag = USA_recognition_campaign
			USA = {	
				add_opinion_modifier = {
					target = ROOT
					modifier = is_trying_to_win_our_favour
				}
			}
		}
		
	}
	
	campaign_for_recognition_ENG_taiwan = {
	
		icon = GFX_decision_uk
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			ENG = {
				has_opinion = {
					target = ROOT
					value > 49
				}
			}
			custom_trigger_tooltip = {
				tooltip = ENG_recognition_CHI_tt
				ENG = {
					if = {
						limit = {
							CHI = {
								has_opinion_modifier = declared_independence
							}
						}
						check_variable = { opinion@ROOT > opinion@CHI }					
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = CHI_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = CHI } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = CHI
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = SOV } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = SOV
						}
					}
				}
			}
			has_elections = yes
		}
		
		days_remove = 30
		
		cost = 300
		
		complete_effect = {
			set_country_flag = ENG_recognition_campaign
			ENG = {	
				add_opinion_modifier = {
					target = ROOT
					modifier = is_trying_to_win_our_favour
				}
			}
		}
	}
	campaign_for_recognition_FRA_taiwan = {
	
		icon = GFX_decision_france
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			FRA = {
				has_opinion = {
					target = ROOT
					value > 49
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_recognition_CHI_tt
				FRA = {
					if = {
						limit = {
							CHI = {
								has_opinion_modifier = declared_independence
							}
						}
						check_variable = { opinion@ROOT > opinion@CHI }					
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = CHI_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = CHI } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = CHI
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = SOV } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = SOV
						}
					}
				}
			}
			has_elections = yes
		}
		
		days_remove = 30
		
		cost = 300
		
		complete_effect = {
			set_country_flag = FRA_recognition_campaign
			FRA = {	
				add_opinion_modifier = {
					target = ROOT
					modifier = is_trying_to_win_our_favour
				}
			}
		}
	}
	
	campaign_for_recognition_SOV_taiwan = {
	
		icon = GFX_decision_russia
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			SOV = {
				has_opinion = {
					target = ROOT
					value > 49
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_recognition_CHI_tt
				SOV = {
					if = {
						limit = {
							BRM = {
								has_opinion_modifier = declared_independence
							}
						}
						check_variable = { opinion@ROOT > opinion@CHI }					
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = USA_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = USA } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = USA
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ENG_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = ENG } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = ENG
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = FRA } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = FRA
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = GER_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = GER } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = GER
						}
					}
				}
			}
		}
		
		days_remove = 30
		
		cost = 300
		
		complete_effect = {
			set_country_flag = SOV_recognition_campaign
			SOV = {	
				add_opinion_modifier = {
					target = ROOT
					modifier = is_trying_to_win_our_favour
				}
			}
		}
	}
	
	campaign_for_recognition_CHI_taiwan = {
	
		icon = GFX_decision_china
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			CHI = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				NOT = {
					has_opinion_modifier = declared_independence
				}
			}
			custom_trigger_tooltip = {
				tooltip = USA_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = USA } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = USA
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = JAP_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = JAP } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = JAP
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = RAJ_influence_below_10_tt
				OR = {
					ROOT = {
							set_temp_variable = { temp_idx = -1 }
							any_of = {
								array = influence_array
								value = v
								index = i
								if = {
									limit = { var:v = { tag = RAJ } }
									set_temp_variable = { temp_idx = i }
									always = yes
								}
								else = { always = no }
							}
						check_variable = { temp_idx > -1 }
						check_variable = { influence_array_calc^temp_idx < 0.1 }
					}
					NOT = {
						is_in_array = {
							array = influence_array
							value = RAJ
						}
					}
				}
			}
		}
		
		days_remove = 30
		
		cost = 300
		
		complete_effect = {
			set_country_flag = CHI_recognition_campaign
			CHI = {	
				add_opinion_modifier = {
					target = ROOT
					modifier = is_trying_to_win_our_favour
				}
			}
		}
	}
	
	become_a_UN_member_state_taiwan = {
	
		icon = GFX_decision_generic_UN
		
		visible = {
			has_idea = Lacks_International_Recognition
			original_tag = TAI
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = two_thirds_tt
				check_variable = {
					var = Granted_Recognition
					value = 120
					compare = greater_than
				}
			}
			custom_trigger_tooltip = {
				tooltip = security_council_support_tt
				USA = {
					has_country_flag = Recognised_@ROOT
				}
				ENG = {
					has_country_flag = Recognised_@ROOT
				}
				FRA = {
					has_country_flag = Recognised_@ROOT
				}
				SOV = {
					has_country_flag = Recognised_@ROOT
				}
				CHI = {
					has_country_flag = Recognised_@ROOT
				}
			}
		}
		
		cost = 100
		
		complete_effect = {
			remove_ideas = Lacks_International_Recognition
		}
		
	}
}