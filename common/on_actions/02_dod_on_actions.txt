on_actions = {

	#ROOT is new controller #FROM is old controller #FROM.FROM is state ID
	on_state_control_changed = {
		effect = {
			if = { #Alleppo
				limit = {
					not = { has_global_flag = captured_allepo_global }
					FROM.FROM = { state = 566 }
				}
				set_global_flag = captured_allepo_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.0 }
			}
			if = { #Damascus
				limit = {
					not = { has_global_flag = captured_damascus_global }
					FROM.FROM = { state = 186 }
				}
				set_global_flag = captured_damascus_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.1 }
			}
			if = { #Idlib
				limit = {
					not = { has_global_flag = captured_Idlib_global }
					FROM.FROM = { state = 190 }
				}
				set_global_flag = captured_Idlib_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.2 }
			}
			if = { #Daraa
				limit = {
					not = { has_global_flag = captured_Daraa_global }
					FROM.FROM = { state = 184 }
				}
				set_global_flag = captured_Daraa_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.3 }
			}
			if = { #Raqqa
				limit = {
					not = { has_global_flag = captured_Raqqa_global }
					FROM.FROM = { state = 191 }
				}
				set_global_flag = captured_Raqqa_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.4 }
			}
			if = { #Mosul
				limit = {
					not = { has_global_flag = captured_Mosul_global }
					FROM.FROM = { state = 166 }
				}
				set_global_flag = captured_Mosul_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.5 }
			}
			if = { #Fallujah
				limit = {
					not = { has_global_flag = captured_Fallujah_global }
					FROM.FROM = { state = 168 }
				}
				set_global_flag = captured_Fallujah_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.6 }
			}
			if = { #Baghdad
				limit = {
					not = { has_global_flag = captured_Baghdad_global }
					FROM.FROM = { state = 557 }
				}
				set_global_flag = captured_Baghdad_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.7 }
			}
			if = { #Erbil
				limit = {
					not = { has_global_flag = captured_Erbil_global }
					FROM.FROM = { state = 164 }
				}
				set_global_flag = captured_Erbil_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.8 }
			}
			if = { #AL-Hasakah
				limit = {
					not = { has_global_flag = Hasakah_global }
					FROM.FROM = { state = 193 }
				}
				set_global_flag = Hasakah_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.9 }
			}
			if = { #AL-Hasakah
				limit = {
					not = { has_global_flag = captured_sanaa_global }
					FROM.FROM = { state = 195 }
				}
				set_global_flag = captured_sanaa_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.10 }
			}
			if = { #Aden
				limit = {
					not = { has_global_flag = captured_aden_global }
					FROM.FROM = { state = 198 }
				}
				set_global_flag = captured_aden_global
				ROOT = { add_timed_idea = { idea = Strategic_city_captured1 days = 60 } }
				news_event = { id = city_captured.11 }
			}
			
		}	
	}

}