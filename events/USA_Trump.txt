add_namespace = donald_trump
add_namespace = donald_trump_news

#The Travel Ban
country_event = {
	id = donald_trump.0
	title = donald_trump.0.t
	desc = donald_trump.0.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Keep the ban limited
		name = donald_trump.0.o1 #Iraq, Syria, Iran, Sudan, Libya, Yemen, Somalia
		log = "[GetDateText]: [This.GetName]: donald_trump.0.o1 executed"
		set_country_flag = original_travel_ban
		add_popularity = { ideology = nationalist popularity = 0.01 }
		add_to_variable = {
			var = Nat_Populism_pop
			value = 0.01
		}
		custom_effect_tooltip = add_Nat_Populism_pop_0.01_tt
		recalculate_party = yes
		custom_effect_tooltip = travel_ban_challenge_possibility_tt
		hidden_effect = {
			random_list = {
				80 = { #Bad Effect
					country_event = { id = donald_trump.1 days = 2 }
					set_country_flag = challenged_travel_ban
				}
				20 = { #Good Effect
					country_event = { id = donald_trump.7 days = 5 }
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = { #Expand the ban to other countries around the globe
		name = donald_trump.0.o2 #Adds Venezuela, Chad, and North Korea
		log = "[GetDateText]: [This.GetName]: donald_trump.0.o2 executed"
		set_country_flag = expanded_travel_ban
		add_political_power = -10
		add_stability = -0.01
		custom_effect_tooltip = travel_ban_small_challenge_possibility_tt
		hidden_effect = {
			random_list = {
				60 = { #Bad Effect
					country_event = { id = donald_trump.1 days = 12 }
					set_country_flag = challenged_travel_ban
				}
				40 = { #Good Effect
					country_event = { id = donald_trump.7 days = 15 }
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
}

#Travel Ban Challenged by Federal Courts
country_event = {
	id = donald_trump.1
	title = donald_trump.1.t
	desc = {
		text = donald_trump.1.d1
		trigger = {
			has_country_flag = original_travel_ban
		}
	}
	desc = {
		text = donald_trump.1.d2
		trigger = {
			has_country_flag = expanded_travel_ban
		}
	}
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Revise the ban
		name = donald_trump.1.o1 #Iraq, Syria, Iran, Libya, Yemen, Somalia, Chad, Venezuela, North Korea
		log = "[GetDateText]: [This.GetName]: donald_trump.1.o1 executed"
		trigger = {
			has_country_flag = original_travel_ban
		}
		clr_country_flag = original_travel_ban
		set_country_flag = revised_travel_ban
		add_political_power = -15
		add_stability = -0.01
		custom_effect_tooltip = travel_ban_small_challenge_possibility_tt
		hidden_effect = {
			random_list = {
				67 = { #Bad Effect
					country_event = { id = donald_trump.3 days = 10 }
				}
				33 = { #Good Effect
					country_event = { id = donald_trump.7 days = 15 }
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = { #Push the ban through!
		name = donald_trump.1.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.1.o2 executed"
		add_political_power = -10
		add_stability = -0.02
		custom_effect_tooltip = travel_ban_failure_possibility_tt
		hidden_effect = {
			random_list = {
				80 = { #Bad Effect
					country_event = { id = donald_trump.3 days = 35 }
					set_country_flag = rejected_travel_ban
					modifier = {
						add = -20
						has_country_flag = expanded_travel_ban
					}
				}
				20 = { #Good Effect
					country_event = { id = donald_trump.7 days = 28 }
					modifier = {
						add = 20
						has_country_flag = expanded_travel_ban
					}
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = { #We can't afford to be entangled in legal battles
		name = donald_trump.1.o3
		log = "[GetDateText]: [This.GetName]: donald_trump.1.o3 executed"
		add_stability = 0.01
		custom_effect_tooltip = travel_ban_drop_tt
		ai_chance = {
			factor = 25
		}
	}
}

#Travel Ban Rejected in Federal Courts
country_event = {
	id = donald_trump.2
	title = donald_trump.2.t
	desc = {
		text = donald_trump.2.d1
		trigger = {
			has_country_flag = original_travel_ban
		}
	}
	desc = {
		text = donald_trump.2.d2
		trigger = {
			has_country_flag = expanded_travel_ban
			NOT = {
				has_country_flag = rejected_travel_ban
			}
		}
	}
	desc = {
		text = donald_trump.2.d3
		trigger = {
			has_country_flag = rejected_travel_ban
			NOT = {
				has_country_flag = expanded_travel_ban
			}
		}
	}	
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Bring it to the Supreme Court!
		name = donald_trump.2.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.2.o1 executed"
		add_political_power = -15
		add_stability = -0.02
		country_event = { id = donald_trump.4 days = 30 }
		custom_effect_tooltip = travel_ban_supreme_courte_tt
		ai_chance = {
			factor = 25
		}
	}
	option = { #Revise the ban
		name = donald_trump.1.o1 #Iraq, Syria, Iran, Libya, Yemen, Somalia, Chad, Venezuela, North Korea
		log = "[GetDateText]: [This.GetName]: donald_trump.2.o2 executed"
		trigger = {
			has_country_flag = original_travel_ban
		}
		clr_country_flag = original_travel_ban
		set_country_flag = revised_travel_ban
		add_political_power = -10
		add_stability = -0.01
		custom_effect_tooltip = travel_ban_failure_possibility_tt
		hidden_effect = {
			random_list = {
				75 = { #Bad Effect
					country_event = { id = donald_trump.3 days = 10 }
				}
				25 = { #Good Effect
					country_event = { id = donald_trump.7 days = 15 }
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = { #We can't afford to be entangled in legal battles
		name = donald_trump.2.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.2.o3 executed"
		add_stability = 0.01
		custom_effect_tooltip = travel_ban_drop_tt
		ai_chance = {
			factor = 25
		}
	}
}

#Travel Ban Challenged by Federal Courts Again
country_event = {
	id = donald_trump.3
	title = donald_trump.3.t
	desc = donald_trump.3.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Push the ban through!
		name = donald_trump.3.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.3.o1 executed"
		add_political_power = -15
		add_stability = -0.01
		custom_effect_tooltip = travel_ban_small_failure_possibility_tt
		hidden_effect = {
			random_list = {
				67 = { #Bad Effect
					country_event = { id = donald_trump.2 days = 35 }
				}
				33 = { #Good Effect
					country_event = { id = donald_trump.7 days = 28 }
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = { #We can't afford to be entangled in legal battles
		name = donald_trump.3.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.3.o2 executed"
		add_stability = 0.01
		custom_effect_tooltip = travel_ban_drop_tt
		ai_chance = {
			factor = 25
		}
	}
}

#The Ban is Brought Before the Supreme Court
country_event = {
	id = donald_trump.4
	title = donald_trump.4.t
	desc = donald_trump.4.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Let the process begin
		name = donald_trump.4.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.4.o1 executed"
		custom_effect_tooltip = travel_ban_supreme_courte_tt
		hidden_effect = {
			random_list = {
				50 = { #Bad Effect
					country_event = { id = donald_trump.5 days = 15 }
				}
				50 = { #Good Effect
					country_event = { id = donald_trump.6 days = 15 }
				}
			}
		}
	}
}

#The Court Votes Against the Ban
country_event = {
	id = donald_trump.5
	title = donald_trump.5.t
	desc = donald_trump.5.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #This was a waste of time
		name = donald_trump.5.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.5.o1 executed"
		add_political_power = -15
		add_stability = -0.02
		custom_effect_tooltip = travel_ban_drop_tt
	}
}

#The Court Upholds the Ban
country_event = {
	id = donald_trump.6
	title = donald_trump.6.t
	desc = donald_trump.6.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #We finally have an end to this madness
		name = donald_trump.6.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.6.o1 executed"
		add_political_power = 50
		add_stability = 0.02
		add_popularity = { ideology = nationalist popularity = 0.01 }
		add_to_variable = {
			var = Nat_Populism_pop
			value = 0.01
		}
		custom_effect_tooltip = add_Nat_Populism_pop_0.01_tt
		recalculate_party = yes
		custom_effect_tooltip = travel_ban_drop_tt
	}
}

#Travel Ban Succeeds
country_event = {
	id = donald_trump.7
	title = donald_trump.7.t
	desc = {
		text = donald_trump.7.d1
		trigger = {
			NOT = {
				has_country_flag = challenged_travel_ban
			}
		}
	}
	desc = {
		text = donald_trump.7.d2
		trigger = {
			has_country_flag = challenged_travel_ban
			NOT = {
				has_country_flag = rejected_travel_ban
			}
		}
	}
	desc = {
		text = donald_trump.7.d3
		trigger = {
			has_country_flag = rejected_travel_ban
			NOT = {
				has_country_flag = expanded_travel_ban
			}
		}
	}		
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Huzzah!
		name = donald_trump.7.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.7.o1 executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = challenged_travel_ban
				}
			}
			add_political_power = 50
			add_stability = 0.03
			add_popularity = { ideology = nationalist popularity = 0.02 }
			add_to_variable = {
				var = Nat_Populism_pop
				value = 0.02
			}
			custom_effect_tooltip = add_Nat_Populism_pop_0.02_tt
			recalculate_party = yes
		}
		else = {
			add_political_power = 25
			add_stability = 0.01
			add_popularity = { ideology = nationalist popularity = 0.01 }
			add_to_variable = {
				var = Nat_Populism_pop
				value = 0.01
			}
			custom_effect_tooltip = add_Nat_Populism_pop_0.01_tt
			recalculate_party = yes
		}
		custom_effect_tooltip = travel_ban_drop_tt
	}
}

########################## Asteroid Mining Event Chain ##########################

#Launching the Asteroid Mining Initiative
country_event = {
	id = donald_trump.8
	title = donald_trump.8.t
	desc = donald_trump.8.d
	picture = GFX_trump_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Just need to wait for an asteroid...
		name = donald_trump.8.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.8.o1 executed"
		hidden_effect = {
			country_event = {
				id = donald_trump.9
				days = 10
				random = 4800
			}
		}
		news_event = donald_trump_news.2
		custom_effect_tooltip = asteroid_mining_wait_period_tt
	}
}
#Asteroid Spotted
country_event = {
	id = donald_trump.9
	title = donald_trump.9.t
	desc = donald_trump.9.d
	picture = GFX_asteroid

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Let's get that baby into orbit
		name = donald_trump.9.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.9.o1 executed"
		hidden_effect = {
			country_event = {
				id = donald_trump.10
				days = 50
				random = 1200
			}
		}
		custom_effect_tooltip = asteroid_mining_spotted_tt
	}
}
#Asteroid in Orbit
country_event = {
	id = donald_trump.10
	title = donald_trump.10.t
	desc = donald_trump.10.d
	picture = GFX_asteroid_in_orbit

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Mining shall begin
		name = donald_trump.10.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.10.o1 executed"
		hidden_effect = {
			country_event = {
				id = donald_trump.11
				days = 100
				random = 2400
			}
		}
		custom_effect_tooltip = asteroid_mining_orbit_tt
		set_variable = { asteroid_mining_rate = 2 } #It's set here so the next event's localization isn't screwed up
		set_variable = { global.asteroid_mining_rate = 2 }
	}
}
#Profits from Mining Start Pouring in
country_event = {
	id = donald_trump.11
	title = donald_trump.11.t
	desc = donald_trump.11.d
	picture = GFX_asteroid_in_orbit

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Huzzah!
		name = donald_trump.11.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.11.o1 executed"
		add_resource = {
			type = tungsten
			amount = 2
			state = capital_scope
		}
		add_resource = {
			type = steel
			amount = 2
			state = capital_scope
		}
		set_variable = { global.asteroid_mineral_count = 100 }
		custom_effect_tooltip = asteroid_mining_mined_tt
		add_to_variable = { treasury = asteroid_mining_rate }
		custom_effect_tooltip = asteroid_mining_revenue_tt
		set_country_flag = asteroid_mining
		news_event = donald_trump_news.3
	}
}
#Profits from Asteroid Mining
country_event = {
	id = donald_trump.12
	title = donald_trump.12.t
	desc = donald_trump.12.d
	picture = GFX_asteroid_in_orbit

	is_triggered_only = yes

	option = { #Excellent!
		name = donald_trump.12.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.12.o1 executed"
		custom_effect_tooltip = asteroid_mining_mined_tt
		add_to_variable = { treasury = asteroid_mining_rate }
		subtract_from_variable = { global.asteroid_mineral_count = asteroid_mining_rate }
		custom_effect_tooltip = asteroid_mining_revenue_tt
		hidden_effect = {
			every_country = {
				limit = {
					num_of_factories > 40
				}
				country_event = { days = 20 id = donald_trump.13 }
			}
		}
	}
}
#Potential for Asteroid Mining
country_event = {
	id = donald_trump.13
	title = donald_trump.13.t
	desc = donald_trump.13.d
	picture = GFX_asteroid_in_orbit

	is_triggered_only = yes

	option = { #Invest in Asteroid Mining
		name = donald_trump.13.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.13.o1 executed"
		add_political_power = -50
		subtract_from_variable = { treasury = 25 }
		set_variable = { asteroid_mining_rate = 1 }
		set_variable = { global.asteroid_mining_rate = 1 }		
		add_resource = {
			type = tungsten
			amount = 1
			state = capital_scope
		}
		add_resource = {
			type = steel
			amount = 1
			state = capital_scope
		}
		custom_effect_tooltip = 25_billion_expense_tt
		custom_effect_tooltip = asteroid_mining_opportunity_tt
		set_country_flag = asteroid_mining
		set_global_flag = asteroid_mining
	}
	option = { #Too expensive and a waste of our time!
		name = donald_trump.13.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.13.o2 executed"
	}
}

########################## Mission to Mars Event Chain ##########################


#Mission to Mars
country_event = {
	id = donald_trump.23
	title = donald_trump.23.t
	desc = donald_trump.23.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Preparations shall begin
		name = donald_trump.23.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.23.o1 executed"
		add_political_power = -10
		hidden_effect = {
			country_event = {
				id = donald_trump.14
				days = 180
			}
		}
	}
}
#Mission to Mars Ready
country_event = {
	id = donald_trump.14
	title = donald_trump.14.t
	desc = donald_trump.14.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #30 days until launch!
		name = donald_trump.14.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.14.o1 executed"
		add_political_power = -10
		hidden_effect = {
			country_event = {
				id = donald_trump.15
				days = 30
			}
		}
	}
}
#On the Launch Pad
country_event = {
	id = donald_trump.15
	title = donald_trump.15.t
	desc = donald_trump.15.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #3, 2, 1...
		name = donald_trump.15.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.15.o1 executed"
		hidden_effect = {
			random_list = {
				90 = {
					country_event = donald_trump.16			
				}
				10 = {
					country_event = donald_trump.17
				}
			}
		}
	}
}
#Lift off!
country_event = {
	id = donald_trump.16
	title = donald_trump.16.t
	desc = donald_trump.16.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Off to Mars they go!
		name = donald_trump.16.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.16.o1 executed"
		add_political_power = 50
		add_stability = 0.03
		hidden_effect = {
			random_list = {
				75 = {
					country_event = {
						id = donald_trump.21
						days = 210
					}
				}
				25 = {
					country_event = {
						id = donald_trump.18
						days = 180
					}
				}
			}
		}
	}
}
#Disaster Strikes!
country_event = {
	id = donald_trump.17
	title = donald_trump.17.t
	desc = donald_trump.17.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #A fatal accident
		name = donald_trump.17.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.17.o1 executed"
		add_political_power = -75
		add_stability = -0.02
		custom_effect_tooltip = mission_to_mars_chain_end_tt
	}
}
#Collision in Space
country_event = {
	id = donald_trump.18
	title = donald_trump.18.t
	desc = donald_trump.18.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #If the astronauts are ready for it, then let them go
		name = donald_trump.18.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.18.o1 executed"
		add_political_power = -75
		country_event = {
			id = donald_trump.20
			days = 70
		}
	}
	option = { #Let's get our men home
		name = donald_trump.18.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.18.o2 executed"
		add_political_power = -25
		country_event = {
			id = donald_trump.19
			days = 360
		}
	}
}
#Shamed Return
country_event = {
	id = donald_trump.19
	title = donald_trump.19.t
	desc = donald_trump.19.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Unfortunate, but at least they're alive
		name = donald_trump.19.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.19.o1 executed"
		add_political_power = 50
		custom_effect_tooltip = mission_to_mars_chain_end_tt
	}
}
#Sacrifice on Mars
country_event = {
	id = donald_trump.20
	title = donald_trump.20.t
	desc = donald_trump.20.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Martyrs on Mars
		name = donald_trump.20.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.20.o1 executed"
		add_political_power = 100
		custom_effect_tooltip = mission_to_mars_chain_end_tt
	}
}
#The Eagle has Landed
country_event = {
	id = donald_trump.21
	title = donald_trump.21.t
	desc = donald_trump.21.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Hip Hip Hurray for the USA!
		name = donald_trump.21.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.21.o1 executed"
		add_political_power = 100
		country_event = {
			id = donald_trump.22
			days = 400
		}
	}
}
#Heroic Return
country_event = {
	id = donald_trump.22
	title = donald_trump.22.t
	desc = donald_trump.22.d
	picture = GFX_USA_Election_2020

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Our heroes are home
		name = donald_trump.22.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.22.o1 executed"
		add_political_power = 150
		custom_effect_tooltip = mission_to_mars_chain_end_tt
	}
}



####################################################################################################################################################################################################################
################################################################################ FOREIGN POLICY (Huge separation for quicker navigation) ###########################################################################
####################################################################################################################################################################################################################

#Dealing with ISIS
country_event = {
	id = donald_trump.500
	title = donald_trump.500.t
	desc = donald_trump.500.d
	picture = GFX_SYR_tahir_al_sham

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Suspend US Intevention
		name = donald_trump.500.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.500.o1 executed"
		ISI = {
			add_ideas = free_operations
			every_neighbor_country = {
				limit = {
					AND = {
						original_tag = SYR
						has_government = communism
					}
				}
				USA = {
					reverse_add_opinion_modifier = {
						target = PREV
						modifier = USA_withdrew_from_region
					}
				}
			}
		}
		add_stability = 0.06
		set_country_flag = dealing_with_isis_suspend_us_intervention
		news_event = donald_trump_news.0
		hidden_effect = {
			ISI = {
				country_event = donald_trump.503
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 2
				ISI = {
					is_ai = yes
				}
			}
			modifier = {
				factor = 5
				ISI = {
					surrender_progress > 0.5
				}
			}
		}
	}
	option = { #Continue Operations
		name = donald_trump.500.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.500.o2 executed"
		custom_effect_tooltip = 10_billion_expense_tt
		subtract_from_variable = {
			var = treasury
			value = 10
		}
		add_political_power = 100
		set_country_flag = dealing_with_isis_continue_operations
		hidden_effect = {
			ISI = {
				every_neighbor_country = {
					country_event = { id = donald_trump.501 days = 5 }
				}
			}
			country_event = { id = donald_trump.502 days = 30 }
		}
		#TODO -- news_event = flavor news event for US player only
		ai_chance = {
			factor = 55
		}
	}
	option = { #Escalate the Campaign
		name = donald_trump.500.o3
		log = "[GetDateText]: [This.GetName]: donald_trump.500.o3 executed"
		custom_effect_tooltip = 20_billion_expense_tt
		subtract_from_variable = {
			var = treasury
			value = 20
		}
		ISI = {
			add_ideas = us_extensive_bombing_campaign
			every_neighbor_country = {
				limit = {
					NOT = {
						AND = {
							original_tag = SYR
							has_government = communism
						}
					}
				}
				USA = {
					reverse_add_opinion_modifier = {
						target = PREV
						modifier = USA_intervention_into_our_region
					}
				}
			}
		}
		add_stability = -0.06
		set_country_flag = dealing_with_isis_escalate_the_campaign
		news_event = donald_trump_news.1
		hidden_effect = {
			ISI = {
				country_event = donald_trump.504
				every_neighbor_country = {
					country_event = { id = donald_trump.501 days = 5 }
				}
			}
		}
		ai_chance = {
			factor = 12
			modifier = {
				factor = 3
				ISI = {
					is_ai = no
				}
			}
			modifier = {
				factor = 5
				ISI = {
					surrender_progress < 0.05
				}
			}
			modifier = {
				factor = 0
				ISI = {
					surrender_progress > 0.5
				}
			}
		}
	}
}

#Subsidies to the US for fighting ISIS
country_event = {
	id = donald_trump.501
	title = donald_trump.501.t
	desc = donald_trump.501.d
	picture = GFX_us_flag

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Subsidize their efforts
		name = donald_trump.501.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.501.o1 executed"
		if = {
			limit = {
				num_of_factories < 4
			}
			add_to_variable = {
				var = USA.isis_subsidies
				value = 0.5
			}
			subtract_from_variable = {
				var = treasury
				value = 0.5
			}
			custom_effect_tooltip = 0.5_billion_expense_tt
		}
		if = {
			limit = {
				num_of_factories > 3
				num_of_factories < 8
			}
			add_to_variable = {
				var = USA.isis_subsidies
				value = 1
			}
			subtract_from_variable = {
				var = treasury
				value = 1
			}
			custom_effect_tooltip = 1_billion_expense_tt
		}
		if = {
			limit = {
				num_of_factories > 7
			}
			add_to_variable = {
				var = USA.isis_subsidies
				value = 2
			}
			subtract_from_variable = {
				var = treasury
				value = 2
			}
			custom_effect_tooltip = 2_billion_expense_tt
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = USA_given_subsidies
		}
		add_popularity = { ideology = democratic popularity = 0.02 }
		recalculate_party = yes
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				USA = {
					is_ai = no
				}
			}
			modifier = {
				factor = 2
				USA = {
					has_country_flag = dealing_with_isis_escalate_the_campaign
				}
			}
			modifier = {
				factor = 0
				AND = {
					original_tag = SYR
					has_government = communism
				}
			}
		}
	}
	option = { #We can't afford it
		name = donald_trump.501.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.501.o2 executed"
		ai_chance = {
			factor = 60
		}
	}
}

#Subsidies for the War on ISIS
country_event = {
	id = donald_trump.502
	title = donald_trump.502.t
	desc = donald_trump.502.d
	picture = GFX_us_flag

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Excellent!
		name = donald_trump.502.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.502.o1 executed"
		trigger = {
			check_variable = {
				var = isis_subsidies
				value = 0
				compare = not_equals
			}
		}
		custom_effect_tooltip = isis_subsidies_tt
		add_to_variable = {
			var = treasury
			value = isis_subsidies
		}
	}
	option = { #This is... Unfortunate
		name = donald_trump.502.o2
		log = "[GetDateText]: [This.GetName]: donald_trump.502.o2 executed"
		trigger = {
			check_variable = {
				var = isis_subsidies
				value = 0
				compare = equals
			}
		}
		add_political_power = -10
	}
}

#US Retracts from War Against Us!
country_event = {
	id = donald_trump.503
	title = donald_trump.503.t
	desc = donald_trump.503.d
	picture = GFX_us_flag

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Allah has blessed us
		name = donald_trump.503.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.503.o1 executed"
		add_ideas = free_operations
	}
}

#US Steps Up War Against Us!
country_event = {
	id = donald_trump.504
	title = donald_trump.504.t
	desc = donald_trump.504.d
	picture = GFX_us_flag

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Allah will reign down terror upon our enemies!
		name = donald_trump.504.o1
		log = "[GetDateText]: [This.GetName]: donald_trump.504.o1 executed"
		add_ideas = us_extensive_bombing_campaign
	}
}
####################################################################################################################
####################################################### NEWS #######################################################
####################################################################################################################

#US Suspends War Against ISIS
news_event = {
	id = donald_trump_news.0
	title = donald_trump_news.0.t
	desc = donald_trump_news.0.d
	picture = GFX_news_trump_announcement
	
	major = yes

	fire_only_once = yes

	option = { #The job has been done
		trigger = {
			original_tag = USA
		}
		name = donald_trump_news.0.o1
		log = "[GetDateText]: [This.GetName]: donald_trump_news.0.o1 executed"
	}
	option = { #Are we supposed to fight terror on our own now?
		trigger = {
			OR = {
				original_tag = SOV
				original_tag = IRQ
				original_tag = SYR
				original_tag = TUR
				original_tag = SYR
			}
		}
		name = donald_trump_news.0.o2
		log = "[GetDateText]: [This.GetName]: donald_trump_news.0.o2 executed"
	}
	option = { #This is a relief
		trigger = {
			original_tag = ISI
		}
		name = donald_trump_news.0.o3
		log = "[GetDateText]: [This.GetName]: donald_trump_news.0.o3 executed"
	}
	option = { #Interesting
		trigger = {
			NOT = {
				OR = {
					original_tag = USA
					original_tag = SOV
					original_tag = IRQ
					original_tag = SYR
					original_tag = TUR
					original_tag = SYR
				}
			}
		}
		name = donald_trump_news.0.o4
		log = "[GetDateText]: [This.GetName]: donald_trump_news.0.o4 executed"
	}
}

#US Expands War Against ISIS
news_event = {
	id = donald_trump_news.1
	title = donald_trump_news.1.t
	desc = donald_trump_news.1.d
	picture = GFX_report_event_united_states_air_force	
	
	major = yes

	fire_only_once = yes

	option = { #We are strong in the face of evil
		trigger = {
			original_tag = USA
		}
		name = donald_trump_news.1.o1
		log = "[GetDateText]: [This.GetName]: donald_trump_news.1.o1 executed"
	}
	option = { #This is a relief
		trigger = {
			OR = {
				original_tag = SOV
				original_tag = IRQ
				original_tag = SYR
				original_tag = TUR
				original_tag = SYR
			}
		}
		name = donald_trump_news.1.o2
		log = "[GetDateText]: [This.GetName]: donald_trump_news.1.o2 executed"
	}
	option = { #Uh Oh...
		trigger = {
			original_tag = ISI
		}
		name = donald_trump_news.1.o3
		log = "[GetDateText]: [This.GetName]: donald_trump_news.1.o3 executed"
	}
	option = { #Interesting
		trigger = {
			NOT = {
				OR = {
					original_tag = USA
					original_tag = SOV
					original_tag = IRQ
					original_tag = SYR
					original_tag = TUR
					original_tag = SYR
				}
			}
		}
		name = donald_trump_news.1.o4
		log = "[GetDateText]: [This.GetName]: donald_trump_news.1.o4 executed"
	}
}

#US Launches Asteroid Mining Initiative
news_event = {
	id = donald_trump_news.2
	title = donald_trump_news.2.t
	desc = donald_trump_news.2.d
	picture = GFX_news_trump_announcement
	
	major = yes

	fire_only_once = yes

	option = { #Space!
		trigger = {
			original_tag = USA
		}
		name = donald_trump_news.2.o1
		log = "[GetDateText]: [This.GetName]: donald_trump_news.2.o1 executed"
	}
	option = { #Maybe we could expand into this...
		trigger = {
			num_of_factories > 25
			NOT = { original_tag = USA }
		}
		name = donald_trump_news.2.o2
		log = "[GetDateText]: [This.GetName]: donald_trump_news.2.o2 executed"
	}
	option = { #Interesting
		trigger = {
			NOT = {
				num_of_factories > 25
				original_tag = USA 
			}
		}
		name = donald_trump_news.2.o3
		log = "[GetDateText]: [This.GetName]: donald_trump_news.2.o3 executed"
	}
}

#US Sets up Asteroid Mining Operations
news_event = {
	id = donald_trump_news.3
	title = donald_trump_news.3.t
	desc = donald_trump_news.3.d
	picture = GFX_news_asteroid_in_orbit
	
	major = yes

	fire_only_once = yes

	option = { #Space!
		trigger = {
			original_tag = USA
		}
		name = donald_trump_news.3.o1
		log = "[GetDateText]: [This.GetName]: donald_trump_news.3.o1 executed"
	}
	option = { #We really should expand into this
		trigger = {
			num_of_factories > 25
			NOT = { original_tag = USA }
		}
		name = donald_trump_news.3.o2
		log = "[GetDateText]: [This.GetName]: donald_trump_news.3.o2 executed"
	}
	option = { #Interesting
		trigger = {
			NOT = {
				num_of_factories > 25
				original_tag = USA 
			}
		}
		name = donald_trump_news.3.o3
		log = "[GetDateText]: [This.GetName]: donald_trump_news.3.o3 executed"
	}
}