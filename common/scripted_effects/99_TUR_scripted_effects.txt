TUR_update_military_standing = {
	set_variable = { TUR_military_standing_value = 0 }

	#Social conservatism - government counts as double negative
	set_variable = { TUR_military_standing_conservatism = ROOT.social_conservatism_government }
	multiply_variable = { TUR_military_standing_conservatism = -2 }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_conservatism }

	#Military internal faction opinion counts as positive
	set_variable = { TUR_military_standing_opinion = ROOT.the_military_opinion }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_opinion }

	#Corruption above level 5 is -20 points per level
	set_variable = { TUR_military_standing_corruption = 0 }
	if = {
		limit = { has_idea = systematic_corruption }
		add_to_variable = { TUR_military_standing_corruption = -20 }
	}
	else_if = {
		limit = { has_idea = unrestrained_corruption }
		add_to_variable = { TUR_military_standing_corruption = -40 }
	}
	else_if = {
		limit = { has_idea = rampant_corruption }
		add_to_variable = { TUR_military_standing_corruption = -60 }
	}
	else_if = {
		limit = { has_idea = crippling_corruption }
		add_to_variable = { TUR_military_standing_corruption = -80 }
	}
	else_if = {
		limit = { has_idea = paralyzing_corruption }
		add_to_variable = { TUR_military_standing_corruption = -100 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_corruption }

	#Bad economic cycle is -25 points per level below stable growth
	set_variable = { TUR_military_standing_economy = 0 }
	if = {
		limit = { has_idea = stagnation }
		add_to_variable = { TUR_military_standing_economy = -25 }
	}
	else_if = {
		limit = { has_idea = recession }
		add_to_variable = { TUR_military_standing_economy = -50 }
	}
	else_if = {
		limit = { has_idea = depression }
		add_to_variable = { TUR_military_standing_economy = -75 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_economy }

	#Interest rate multiplied by -5
	set_variable = { TUR_military_standing_interest_rate = ROOT.interest_rate }
	round_variable = TUR_military_standing_interest_rate
	multiply_variable = { TUR_military_standing_interest_rate = -5 }
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_interest_rate }

	#Different parties have different base opinions
	set_variable = { TUR_military_standing_party = 0 }
	if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 10 }
				is_in_array = { ruling_party = 11 }
				is_in_array = { ruling_party = 19 }
			}
		}
		set_variable = { TUR_military_standing_party = -250 }
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					NOT = { has_country_flag = TUR_beacon_of_islam }
					is_in_array = { ruling_party = 0 }
				}
				is_in_array = { ruling_party = 6 }
				is_in_array = { ruling_party = 8 }
				is_in_array = { ruling_party = 9 }
				is_in_array = { ruling_party = 12 }
				AND = {
					has_country_flag = TUR_beacon_of_islam
					is_in_array = { ruling_party = 13 }
				}
				is_in_array = { ruling_party = 20 }
				is_in_array = { ruling_party = 21 }
				is_in_array = { ruling_party = 23 }
			}
		}
		set_variable = { TUR_military_standing_party = -50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 5 }
				is_in_array = { ruling_party = 7 }
				is_in_array = { ruling_party = 14 }
				is_in_array = { ruling_party = 17 }
			}
		}
		set_variable = { TUR_military_standing_party = -50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 4 }
				is_in_array = { ruling_party = 15 }
			}
		}
		set_variable = { TUR_military_standing_party = -25 }
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					has_country_flag = TUR_beacon_of_islam
					is_in_array = { ruling_party = 1 }
				}
				is_in_array = { ruling_party = 2 }
				AND = {
					NOT = { has_country_flag = TUR_beacon_of_islam }
					is_in_array = { ruling_party = 13 }
				}
				is_in_array = { ruling_party = 16 }
			}
		}
		set_variable = { TUR_military_standing_party = 50 }
	}
	else_if = {
		limit = {
			OR = {
				is_in_array = { ruling_party = 1 }
				is_in_array = { ruling_party = 3 }
				is_in_array = { ruling_party = 18 }
			}
		}
		set_variable = { TUR_military_standing_party = 100 }
	}
	else_if = {
		limit = {
			is_in_array = { ruling_party = 22 }
		}
		set_variable = { TUR_military_standing_party = 200 }
	}
	add_to_variable = { TUR_military_standing_value = TUR_military_standing_party }
}
TUR_mafia_events_random = {
	random_list = {
		60 = {
			add_to_variable = { TUR_event_counter_1_mafia = 1 }
		}
		40 = {
		}
	}
	if = {
		limit = { check_variable = { TUR_event_counter_1_mafia > 7 } }
			set_variable = { TUR_event_counter_1_mafia = 0 }
			random_list = {
				25 = {
					country_event = Turkish_mafia.1
				}
				25 = {
					country_event = Turkish_mafia.2
				}
				25 = {
					country_event = Turkish_mafia.3
				}
				25 = {
					country_event = Turkish_mafia.4
				}
			}
	}
}
TUR_parties_random = {
	random_list = {
		30 = {
			add_to_variable = { TUR_event_counter_1_party = 1 }
		}
		70 = {
		}
	}
	if = {
		limit = { check_variable = { TUR_event_counter_1_party > 5 } }
			set_variable = { TUR_event_counter_1_party = 0 }
			random_list = {
				25 = {
					country_event = Turkish_parties.1
				}
				25 = {
					country_event = Turkish_parties.2
				}
				25 = {
					country_event = Turkish_parties.3
				}
				25 = {
					country_event = Turkish_parties.4
				}
			}
	}
}
TUR_government_change = {
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_NEW_TURKIC_STATE
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_OTTOMAN_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_OTTOMAN_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_PAN_TURKIC
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_TURKIC_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_TURKIC_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_VANGUARD
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_VANGUARD_subject
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_VANGUARD_subject
		}
	}
	if = {
		limit = {
			PKK = {
				is_subject_of = TUR
			}
			TUR = {
				has_cosmetic_tag = TUR_ANATOLIAN_SYNDICATE
				PKK = {
					NOT = {
						has_cosmetic_tag = PKK_KURDISH_SYNDICATE
					}
				}
			}
		}
		PKK = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = PKK_KURDISH_SYNDICATE
		}
	}
}

# PKK Random Events

TUR_pkk_events = {
	random_list = {
		50 = {
			add_to_variable = { TUR_event_counter_1_kurds = 1 }
		}
		50 = {
		}
	}
	if = {
		limit = { check_variable = { TUR_event_counter_1_kurds > 3 } }
		set_variable = { TUR_event_counter_1_kurds = 0 }
		random_list = {
			10 = { country_event = TUR_pkk.200 }
			10 = { country_event = TUR_pkk.201 }
			10 = { country_event = TUR_pkk.202 }
			10 = { country_event = TUR_pkk.203 }
			10 = { country_event = TUR_pkk.204 }
			10 = { country_event = TUR_pkk.205 }
			10 = { country_event = TUR_pkk.209 }
			10 = { country_event = TUR_pkk.210 }
		}
	}
}

TUR_PKK_attack = {
	custom_effect_tooltip = TUR_assault_this_base_TT
	newline = yes
	custom_effect_tooltip = TUR_spend_equipment_TT
	hidden_effect = {
		random_list = {
			25 = {
				add_equipment_to_stockpile = { type = infantry_weapons amount = -150 producer = TUR }
				add_equipment_to_stockpile = { type = util_vehicle_equipment amount = -25 producer = TUR }
			}
			25 = {
				add_equipment_to_stockpile = { type = infantry_weapons amount = -200 producer = TUR }
				add_equipment_to_stockpile = { type = util_vehicle_equipment amount = -90 producer = TUR }
			}
			25 = {
				add_equipment_to_stockpile = { type = infantry_weapons amount = -380 producer = TUR }
				add_equipment_to_stockpile = { type = util_vehicle_equipment amount = -135 producer = TUR }
			}
			25 = {
				add_equipment_to_stockpile = { type = infantry_weapons amount = -460 producer = TUR }
				add_equipment_to_stockpile = { type = util_vehicle_equipment amount = -190 producer = TUR }
			}
		}
	}
	hidden_effect = {
		# Euphrates
		if = {
			limit = {
				has_country_flag = TUR_targeting_euphrates
			}
			random_list = {
				10 = {
					add_to_variable = { var_pkk_euphrates = -150 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -120 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -110 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -100 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -90 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -80 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -70 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -60 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -50 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_euphrates = -40 }
					clamp_variable = { var = var_pkk_euphrates min = 0 max = 5000 }
				}
			}
		}
		# Diyarbakir
		if = {
			limit = {
				has_country_flag = TUR_targeting_diyarbakir
			}
			random_list = {
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -150 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -120 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -110 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -100 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -90 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -80 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -70 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -60 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -50 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_diyarbakir = -40 }
					clamp_variable = { var = var_pkk_diyarbakir min = 0 max = 5000 }
				}
			}
		}
		# Van
		if = {
			limit = {
				has_country_flag = TUR_targeting_van
			}
			random_list = {
				10 = {
					add_to_variable = { var_pkk_van = -150 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -120 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -110 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -100 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -90 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -80 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -70 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -60 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -50 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
				10 = {
					add_to_variable = { var_pkk_van = -40 }
					clamp_variable = { var = var_pkk_van min = 0 max = 5000 }
				}
			}
		}
	}
}


# QUICK CHANGES TO THE MECHANIC
# Instead of having effectiveness, etc, the mechanic will have 3 things to do
# 1. Attacking bases. Basically, you spend man power to take out PKK manpower
# 2. Launches operations. This basically kills more PKK but requires a new variable, readiness
# 3. You gain readiness overtime by killing PKK
# 4. You can use readiness to activate an operation