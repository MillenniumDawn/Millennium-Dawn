GRN_update_alcohol_abuse = {
	# Clear the Ideas first
	if = {
		limit = {
			OR = {
				has_idea = GRN_Subsidized_Mass_Alcoholism
				has_idea = GRN_extremely_high_alcohol_abuse
				has_idea = GRN_very_high_alcohol_abuse
				has_idea = GRN_high_alcohol_abuse
				has_idea = GRN_medium_alcohol_abuse
				has_idea = GRN_low_alcohol_abuse
				has_idea = GRN_very_low_alcohol_abuse
				has_idea = GRN_extremely_low_alcohol_abuse
				has_idea = GRN_Sober_Populace
			}
		}
		custom_effect_tooltip = GRN_remove_alcohol_abuse_tt
		hidden_effect = {
			remove_ideas = {
				GRN_Subsidized_Mass_Alcoholism
				GRN_extremely_high_alcohol_abuse
				GRN_very_high_alcohol_abuse
				GRN_high_alcohol_abuse
				GRN_medium_alcohol_abuse
				GRN_low_alcohol_abuse
				GRN_very_low_alcohol_abuse
				GRN_extremely_low_alcohol_abuse
				GRN_Sober_Populace
			}
		}
	}

	# Add Alcohol Abuse Idea
	if = { 
		limit = { 
			check_variable = { alcohol_abuse_var > 95 }
		}
		add_ideas = GRN_Subsidized_Mass_Alcoholism
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 96 }
			check_variable = { alcohol_abuse_var > 75 }
		}
		add_ideas = GRN_extremely_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 76 }
			check_variable = { alcohol_abuse_var > 50 }
		}
		add_ideas = GRN_very_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 51 }
			check_variable = { alcohol_abuse_var > 25 }
		}
		add_ideas = GRN_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 26 }
			check_variable = { alcohol_abuse_var > -25 }
		}
		add_ideas = GRN_medium_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -26 }
			check_variable = { alcohol_abuse_var > -50 }
		}
		add_ideas = GRN_low_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -51 }
			check_variable = { alcohol_abuse_var > -75 }
		}
		add_ideas = GRN_very_low_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -76 }
			check_variable = { alcohol_abuse_var > -95 }
		}
		add_ideas = GRN_extremely_low_alcohol_abuse
	}
	else = {
		add_ideas = GRN_Sober_Populace
	}

	clamp_variable = { var = alcohol_abuse_var min = -100 max = 100 }
}

# set_temp_variable = { modify_alcohol_abuse = +- }

GRN_modify_alcohol_abuse = {
	add_to_variable = { alcohol_abuse_var = modify_alcohol_abuse }
	custom_effect_tooltip = GRN_modify_alcohol_abuse_tt
	GRN_update_alcohol_abuse = yes
}

GRN_update_unalive = {
	# Clear the Ideas first
	if = {
		limit = {
			OR = {
				has_idea = GRN_Returning_to_Ancestors
				has_idea = GRN_High_Unalive
				has_idea = GRN_Medium_Unalive
				has_idea = GRN_Low_Unalive
				has_idea = GRN_Happy_Populace
			}
		}
		custom_effect_tooltip = GRN_remove_unalive_tt
		hidden_effect = {
			remove_ideas = {
				GRN_Returning_to_Ancestors
				GRN_High_Unalive
				GRN_Medium_Unalive
				GRN_Low_Unalive
				GRN_Happy_Populace
			}
		}
	}

	# Add Unalive Idea
	if = { 
		limit = { 
			check_variable = { unalive_var > 90 }
		}
		add_ideas = GRN_Returning_to_Ancestors
	}
	else_if = {
		limit = {
			check_variable = { unalive_var < 91 }
			check_variable = { unalive_var > 30 }
		}
		add_ideas = GRN_High_Unalive
	}
	else_if = {
		limit = {
			check_variable = { unalive_var < 31 }
			check_variable = { unalive_var > -30 }
		}
		add_ideas = GRN_Medium_Unalive
	}
	else_if = {
		limit = {
			check_variable = { unalive_var < -29 }
			check_variable = { unalive_var > 90 }
		}
		add_ideas = GRN_Low_Unalive
	}
	else = {
		add_ideas = GRN_Happy_Populace
	}

	clamp_variable = { var = unalive_var min = -100 max = 100 }
}

# set_temp_variable = { modify_unalive = +- }

GRN_modify_unalive = {
	add_to_variable = { unalive_var = modify_unalive }
	custom_effect_tooltip = GRN_modify_unalive_tt
	GRN_update_unalive = yes
}