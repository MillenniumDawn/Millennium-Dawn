EH_electric_traps_category = {
	EH_set_up_electric_trap = {
		icon = GFX_decision_boost # This probably needs own icon
		days_remove = 7

		state_target = yes

		on_map_mode = map_only

		target_trigger = {
            FROM = {
                is_controlled_by = ROOT
                has_state_flag = EH_electric_trap_enabled_flag
            }
        }

		visible = {
			FROM = {
				NOT = { has_state_flag = EH_electric_trap_set_up_flag }
			}
		}

		remove_effect = {
			FROM = {
				set_state_flag = EH_electric_trap_set_up_flag
			}
		}
	}
    EH_remove_electric_trap = {
		icon = GFX_decision_boost # This probably needs own icon
		days_remove = 7

		state_target = yes

		on_map_mode = map_only

		target_trigger = {
            FROM = {
                is_controlled_by = ROOT
                has_state_flag = EH_electric_trap_enabled_flag
            }
        }

		visible = {
			FROM = {
				has_state_flag = EH_electric_trap_set_up_flag
			}
		}

        available = {
            FROM = {
                NOT = {
                    has_state_flag = EH_electric_trap_active_flag
                }
            }
        }

        complete_effect = {
            FROM = {
                set_state_flag = EH_electric_trap_removing_flag
            }
        }

		remove_effect = {
			FROM = {
				clr_state_flag = EH_electric_trap_set_up_flag
                clr_state_flag = EH_electric_trap_removing_flag
			}
		}
	}
    EH_activate_electric_trap = {
        icon = GFX_decision_boost # This probably needs own icon
        days_remove = 10

        state_target = yes

        on_map_mode = map_only

        target_trigger = {
            FROM = {
                is_controlled_by = ROOT
                has_state_flag = EH_electric_trap_enabled_flag
            }
        }

		visible = {
			FROM = {
				has_state_flag = EH_electric_trap_set_up_flag
			}
		}

        available = {
            FROM = {
                NOT = {
                    has_state_flag = EH_electric_trap_cooldown
                    has_state_flag = EH_electric_trap_removing_flag
                }
            }
        }

        complete_effect = {
            # Effects for nation
            FROM = {
                set_state_flag = EH_electric_trap_active_flag
            }
        }

        remove_effect = {
            FROM = {
                # Effects for state
                set_state_flag = {
                    flag = EH_electric_trap_cooldown
                    days = 15
                    value = 1
                }
                clr_country_flag = EH_electric_trap_active_flag
            }
        }
    }
}