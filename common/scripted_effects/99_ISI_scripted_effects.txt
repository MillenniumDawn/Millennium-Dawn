# Author(s): Angriest Bird
# Last modified by 18/10/2022

# ISI_increase_faction_approval
# Parameters:
# faction_index -- 0, Lone Wolves 1, Caliph Loyalists 2, The Ummah 3, The Ulema
# value_change -- Clamped from 0 - 100, Negative values reduce the faction approval
ISI_increase_faction_approval = {
	custom_effect_tooltip = ISI_increase_faction_approval_tt
	add_to_variable = { faction_approval^faction_index = value_change }
	clamp_variable = {
		var = faction_approval^faction_index
		min = 0
		max = 100
	}
}


# ISI_increase_faction_strength
# Parameters:
# faction_index -- 0, Lone Wolves 1, Caliph Loyalists 2, The Ummah 3, The Ulema
# value_change -- Clamped from 0 - 100, Negative values reduce the faction approval
ISI_increase_faction_strength = {
	custom_effect_tooltip = ISI_increase_faction_strength_tt
	add_to_variable = { faction_strength^faction_index = value_change }
	clamp_variable = {
		var = faction_strength^faction_index
		min = 0
		max = 100
	}
}

# ISI_find_highest_faction_strongest
# No parameters. This is called in the ISI_increase_faction_strength call
# to ensure that the proper country leader trait is assigned to the nation
ISI_find_highest_faction_strongest = {
	find_highest_in_array = {
		array = ISI.faction_strength
		value = temp_strongest_faction
		index = temp_strongest_faction_index
	}
}