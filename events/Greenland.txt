###############################
# 	  Greenlandic Events	  #
###############################

# Author(s): Citillan
# Based off of work by: Captain Gen, Angriest Bird, Amtoj

add_namespace = greenland
add_namespace = greenland_wellbeing
add_namespace = greenland_agri
add_namespace = greenland_nuclear

#######################
#    NATIONAL NEWS    #
#######################

## Death of Johnathan Motzfeldt
country_event = {
	id = greenland.1
	title = greenland.1.t
	desc = greenland.1.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	trigger = {
		tag = GRN
	}

	fire_only_once = yes

	option = {
		name = greenland.1.a
		GRN_jonathan_motzfeldt = { kill_country_leader = yes }
	}
}

############################
#    NATIONAL WELLBEING    #
############################

## Alcohol Abuse Change

country_event = {
	id = greenland_wellbeing.1
	title = greenland_wellbeing.1.t
	desc = greenland_wellbeing.1.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	trigger = {
		tag = GRN
	}

	option = {
		name = greenland_wellbeing.1.a
		custom_effect_tooltip = GRN_modify_substance_abuse_tt
	}
}

## Cultural_integrity Change
country_event = {
	id = greenland_wellbeing.2
	title = greenland_wellbeing.2.t
	desc = greenland_wellbeing.2.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	trigger = {
		tag = GRN
	}

	option = {
		name = greenland_wellbeing.2.a
		custom_effect_tooltip = native_modify_cultural_integrity_tt
	}
}

## General Wellness Change
country_event = {
	id = greenland_wellbeing.3
	title = greenland_wellbeing.3.t
	desc = greenland_wellbeing.3.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	trigger = {
		tag = GRN
	}

	option = {
		name = greenland_wellbeing.3.a
		custom_effect_tooltip = GRN_modify_substance_abuse_tt
		custom_effect_tooltip = GRN_modify_cultural_integrity_tt
	}
}

#####################
#    AGRICULTURE    #
#####################

country_event = {
	id = greenland_agri.1
	title = greenland_agri.1.t
	desc = greenland_agri.1.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	option = {
		name = greenland_agri.1.a
		swap_ideas = {
			remove_idea = GRN_Local_Production_Advancements
			add_idea = GRN_Local_Production_Advancements_2L
		}
	}

	option = {
		name = greenland_agri.1.b
		swap_ideas = {
			remove_idea = GRN_Local_Production_Advancements
			add_idea = GRN_Local_Production_Advancements_3L
		}
	}

	option = {
		name = greenland_agri.1.c
		swap_ideas = {
			remove_idea = GRN_Local_Production_Advancements
			add_idea = GRN_Local_Production_Advancements_3H
		}
	}
}

country_event = {
	id = greenland_agri.2
	title = greenland_agri.2.t
	desc = greenland_agri.2.d
	picture = GFX_politics_protest
	is_triggered_only = yes

	option = {
		name = greenland_agri.2.a
		log = "[GetDateText]: [This.GetName]: greenland_agri.2.a executed"
		
	}

	option = {
		name = greenland_agri.2.b
		log = "[GetDateText]: [This.GetName]: greenland_agri.2.b executed"
		
	}

	option = {
		name = greenland_agri.2.c
		log = "[GetDateText]: [This.GetName]: greenland_agri.2.c executed"

	}
}

#################
#    NUCLEAR    #
#################

country_event = {
	id = greenland_nuclear.1
	title = greenland_nuclear.1.t
	desc = greenland_nuclear.1.d
	picture = GFX_politics_negotiations
	is_triggered_only = yes

	## Recreate a George Washington Class Nuclear Powered Ballistic Submarine
	option = {
		name = greenland_nuclear.1.a
		log = "[GetDateText]: [This.GetName]: greenland_nuclear.1.a executed"

		GRN = {
			set_temp_variable = { treasury_change = -50.0 }
			modify_treasury_effect = yes
		}
		USA = {
			set_temp_variable = { treasury_change = 50.0 }
			modify_treasury_effect = yes
		}
	}

	## Buy from Italy the Vittorio Veneto (Available after 2003)
	option = {
		name = greenland_nuclear.1.b
		log = "[GetDateText]: [This.GetName]: greenland_nuclear.1.b executed"
		add_manpower = 500
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			transfer_ship = {
				prefer_name = "Vittorio Veneto (C550)"
				type = cruiser_hull_1
				target = GRN
				exclude_refitting = no
			}
			else = {
				GRN = {
					create_ship = {
						type = cruiser_1
						equipment_variant = "Vittorio Veneto Class"
						creator = ITA
					}
				}
			}
		}

		#

		GRN = {
			set_temp_variable = { treasury_change = -12.0 }
			modify_treasury_effect = yes
		}
		ITA = {
			set_temp_variable = { treasury_change = 12.0 }
			modify_treasury_effect = yes
		}
	}
}
