scripted_gui = {
	
	show_ruling_party_addon_info = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "ruling_party_addon_info"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	
	show_approval_rating_container = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "approval_rating_container"
		
		visible = {
		  always = yes
		}

		effects = { 
			
		}
	}
	
	tha_list_of_parties = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "list_of_parties_politics_tab"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	
	subideologies_open_button = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "subideologiesview_open_button_window"
		
		visible = {
		  #not = { has_country_flag = subideologies_opened }
		}
		
		effects = {
			subideologies_open_button_click = {
				if = {
					limit = { NOT = { has_country_flag = subideologies_opened } }
					set_country_flag = subideologies_opened
					recalculate_party = yes
				}
				else = {
					clr_country_flag = subideologies_opened
				}
			}
		}
	}
	subideologiesview_main = {
		context_type = player_context
		parent_window_token = "subideologiesview_open_button_window"
		window_name = "subideologiesview_main"
		#clipping = no
		
		visible = {
			has_country_flag = subideologies_opened
		}
		
		properties = {
			opt_party1_boost_button = {
				image = "[select_party1_boost_button]"
			}
			opt_party1_attack_button = {
				image = "[select_party1_attack_button]"
			}
		}
		
		triggers = {
		
			opt_party1_boost_button_click_enabled = {
				check_variable = { party_pop_array^0 < election_threshold }
				check_variable = { party_popularity@democratic > 0 }
			}
			opt_party1_attack_button_click_enabled = {
				check_variable = { party_pop_array^0 > election_threshold }
				#can't attack yourself or allies
				NOT = {
					OR = {
						is_in_array = { ruling_party = 0 }
						is_in_array = { gov_coalition_array = 0 }
					}
				}
			}
		}
		
		effects = {
			subideologies_close_button_click = {
				clr_country_flag = subideologies_opened
			}
			opt_party1_boost_button_click = {
				add_to_variable = { party_pop_array^0 = 0.02 }
				add_political_power = -100
				#recalculate_party = yes
			}
			opt_party1_attack_button_click = {
				subtract_from_variable = { party_pop_array^0 = 0.02 }
				add_political_power = -75
				#recalculate_party = yes
			}
		}
	}
}
