one_china_category = {
	
	recalculate_coalition_support_taiwan = {
	
		icon = GFX_decision_generic_nationalism
		
		complete_effect = {
			set_variable = {
				var = pan_green_coalition_support
				value = party_pop_array^2
			}
			add_to_variable = {
				var = pan_green_coalition_support
				value = party_pop_array^18
			
			}
			set_variable = {
				var = pan_blue_coalition_support
				value = party_pop_array^1
			}
			add_to_variable = {
				var = pan_blue_coalition_support
				value = party_pop_array^6
			}
			add_to_variable = {
				var = pan_blue_coalition_support
				value = party_pop_array^14
			}
		}
	}
	
	show_countries_that_recognize_the_ROC = {
		
		icon = GFX_decision_generic_nationalism
		
		visible = {
			OR = {
				original_tag = TAI
				original_tag = CHI
			}
			NOT = {
				TAI = {
					is_puppet = yes
				}
				TAI = {
					has_idea = Lacks_International_Recognition
				}
			}
		}
		
		complete_effect = {
			statehood_show_recognised_ROC = yes
		}
	}
	
	anti_DPP_media_campaign = {
		
		icon = eng_propaganda_campaigns
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
		}
		
		custom_cost_trigger = {
			check_variable = { treasury > 0.25 }
		}
		
		custom_cost_text = cost_0_5
		
		available = {
			custom_trigger_tooltip = {	
				tooltip = CHI_TAI_influence_higher_10_tt
				TAI = {
					set_temp_variable = { temp_idx = -1 }
					any_of = {
						array = influence_array
						value = v
						index = i
						if = {
							limit = { var:v = { tag = CHI } }
							set_temp_variable = { temp_idx = i }
							always = yes
						}
						else = { always = no }
					}
					check_variable = { temp_idx > -1 }
					check_variable = { influence_array_calc^temp_idx > 0.1 }
				}
			}
		}
		
		days_remove = 30
		
		days_re_enable = 100
		
		highlight_states = { state = 598 }
		
		complete_effect = {
			subtract_from_variable = { treasury = 0.5 }
			log = "[GetDateText]: [This.GetName]: decision anti_DPP_media_campaign executed"
		}
		
		remove_effect = {
			custom_effect_tooltip = CHI_DPP_tt
			hidden_effect = {
				TAI = {
					add_to_variable = {
						var = party_pop_array^1
						value = 0.05
					}
					subtract_from_variable = {
						var = party_pop_array^2
						value = 0.05
					}
					recalculate_party = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = party_pop_array^2
						value = 0.55
						compare = greater_than
					}
				}
			}
		}
	}
	
	ban_solo_travel_to_taiwan = {
	
		icon = GFX_decision_border_war
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
			NOT = {
				TAI = { has_idea = china_travel_ban }
			}
		}
		
		cost = 50
		
		highlight_states = { state = 598 }
		
		available = {
			custom_trigger_tooltip = {	
				tooltip = CHI_TAI_influence_higher_10_tt
				TAI = {
					set_temp_variable = { temp_idx = -1 }
					any_of = {
						array = influence_array
						value = v
						index = i
						if = {
							limit = { var:v = { tag = CHI } }
							set_temp_variable = { temp_idx = i }
							always = yes
						}
						else = { always = no }
					}
					check_variable = { temp_idx > -1 }
					check_variable = { influence_array_calc^temp_idx > 0.1 }
				}
			}
		}
		
		complete_effect = {
			TAI = {
				add_ideas = china_travel_ban
			}
			log = "[GetDateText]: [This.GetName]: decision ban_solo_travel_to_taiwan executed"
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = party_pop_array^2
						value = 0.55
						compare = greater_than
					}
				}
			}
		}
	}
	
	rescind_travel_ban = {
	
		icon = GFX_decision_border_war
		
		visible = {
			original_tag = CHI
			TAI = {
				is_puppet = no
			}
			TAI = { has_idea = china_travel_ban }
		}
		
		cost = 50
		
		available = {
		}
		
		highlight_states = { state = 598 }
		
		complete_effect = {
			TAI = {
				remove_ideas = china_travel_ban
			}
			log = "[GetDateText]: [This.GetName]: decision rescind_travel_ban executed"
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = party_pop_array^2
						value = 0.55
						compare = less_than_or_equals
					}
				}
			}
		}
	}
	
	bribe_military_officials = {
	
		icon = GFX_decision_generic_army_support
		
		visible = {
			original_tag = CHI
			has_completed_focus = CHI_Gain_Support_of_Military_Elements
			NOT = { has_completed_focus = CHI_The_Fifth_Column }
		}
		
		custom_cost_trigger = {
			check_variable = { treasury > 4.9 }
		}
		
		custom_cost_text = cost_5_0
		
		available = {
		}
		
		highlight_states = { state = 598 }
		
		complete_effect = {
			subtract_from_variable = { treasury = 5 }
			log = "[GetDateText]: [This.GetName]: decision bribe_military_officials executed"
		}
		
		days_remove = 7
		
		remove_effect = {
			custom_effect_tooltip = CHI_increase_coup_support_tt
			add_to_variable = {
				var = CHI_preparations
				value = 1
			}
		}
	}
	
	declare_independence_taiwan = {
	
		icon = GFX_decision_generic_nationalism
		
		allowed = { 
			original_tag = TAI
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_ruling_tt
				OR = {
					is_in_array = { ruling_party = 2 }
					is_in_array = { ruling_party = 18 }
				}
			}
			custom_trigger_tooltip = {
				tooltip = TAI_DPP_75_tt
				TAI = {
					check_variable = {
						var = pan_green_coalition_support
						value = 0.75
						compare = greater_than_or_equals
					}
				}
			}
			custom_trigger_tooltip = {	
				tooltip = CHI_TAI_influence_lower_20_tt
				TAI = {
					set_temp_variable = { temp_idx = -1 }
					any_of = {
						array = influence_array
						value = v
						index = i
						if = {
							limit = { var:v = { tag = CHI } }
							set_temp_variable = { temp_idx = i }
							always = yes
						}
						else = { always = no }
					}
					check_variable = { temp_idx > -1 }
					check_variable = { influence_array_calc^temp_idx < 0.2 }
				}
			}
		}
		
		fire_only_once = yes
		
		highlight_states = { state = 598 }
		
		cost = 300
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				TAI = {
					check_variable = {
						var = party_pop_array^2
						value = 0.6
						compare = greater_than
					}
				}
			}
			modifier = {
				add = 100
				CHI = {
					has_completed_focus = CHI_Drop_Opposition_to_Taiwanese_Independence
				}
			}
		}
		
		complete_effect = {
			add_ideas = Lacks_International_Recognition
			add_to_array = {
				global.Unrecognised_States = THIS
			}
			set_variable = {
				var = Granted_Recognition
				value = 0
			}
			if = {
				limit = { 
					CHI = {
						NOT = { 
							has_completed_focus = CHI_Drop_Opposition_to_Taiwanese_Independence 
						}
					}
				}
					
				CHI = {
					add_opinion_modifier = {
						modifier = declared_independence
						target = ROOT
					}
					remove_opinion_modifier = {
						modifier = one_china_policy
						target = ROOT
					}
					create_wargoal = {
						type = annex_everything
						target = ROOT
					}
				}
				TAI = {
					remove_opinion_modifier = {
						modifier = one_china_policy
						target = CHI
					}
				}
			}
			set_cosmetic_tag = TAI_TAIWAN
			custom_effect_tooltip = TAI_loses_cores_tt
			hidden_effect = {
				remove_state_core = 434
				remove_state_core = 435
				remove_state_core = 475
				remove_state_core = 526
				remove_state_core = 531
				remove_state_core = 532
				remove_state_core = 534
				remove_state_core = 536
				remove_state_core = 537
				remove_state_core = 538
				remove_state_core = 540
				remove_state_core = 541
				remove_state_core = 544
				remove_state_core = 547
				remove_state_core = 548
				remove_state_core = 549
				remove_state_core = 552
				remove_state_core = 554
				remove_state_core = 555
				remove_state_core = 556
				remove_state_core = 558
				remove_state_core = 559
				remove_state_core = 560
				remove_state_core = 562
				remove_state_core = 564
				remove_state_core = 567
				remove_state_core = 570
				remove_state_core = 572
				remove_state_core = 574
				remove_state_core = 578
				remove_state_core = 582
				remove_state_core = 583
				remove_state_core = 585
				remove_state_core = 586
				remove_state_core = 588
				remove_state_core = 589
				remove_state_core = 592
				remove_state_core = 592
				remove_state_core = 595
				remove_state_core = 596
				remove_state_core = 597
				remove_state_core = 801
				remove_state_core = 802
				remove_state_core = 813
				remove_state_core = 816
			}
			log = "[GetDateText]: [This.GetName]: decision declare_independence_taiwan executed"
		}
	}
	
	fortify_kinmen = {
	
		icon = GFX_decision_generic_construction
		
		visible = {
			original_tag = TAI
		}
		
		available = {
			threat > 0.1
		}
		
		custom_cost_trigger = {
			check_variable = { treasury > 1.9 }
		}
		
		custom_cost_text = cost_2_0
		
		highlight_states = { state = 430 }
		
		complete_effect = {
			subtract_from_variable = { treasury = 2 }
			log = "[GetDateText]: [This.GetName]: decision rally_support_taiwan executed"
		}
		
		days_remove = 14
		
		modifier = {
			civilian_factory_use = 2
		}
		
		remove_effect = {
			430 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}	
		}
	}
}

xinjiang_category = {
	
	raid_militant_hideouts = {
		icon = GFX_decision_generic_prepare_civil_war_new
				
		custom_cost_trigger = {
			command_power > 40
		}
		
		custom_cost_text = command_power_more_than_40
		
		highlight_states = { state = 592 }
		
		complete_effect = {
			add_command_power = -40
			log = "[GetDateText]: [This.GetName]: decision raid_TIP_hideouts executed"		
		}
		
		days_remove = 15
		days_re_enable = 60
		
		remove_effect = {
			custom_effect_tooltip = CHI_uighur_threat_decrease_10_tt
			custom_effect_tooltip = CHI_uighur_opinion_decrease_10_tt
			hidden_effect = {
				subtract_from_variable = {
					var = uighur_threat
					value = 10
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				subtract_from_variable = {
					var = uighur_opinion
					value = 10
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
		}
	}
	
	increase_restrictions_on_the_uighur_language = {
		icon = eng_propaganda_campaigns
		
		visible = {
			NOT = { has_country_flag = restricted_uighur_language }
		}
		
		cost = 200
		
		highlight_states = { state = 592 }
		
		complete_effect = {
			set_country_flag = restricted_uighur_language
			custom_effect_tooltip = CHI_uighur_threat_decrease_5_tt
			custom_effect_tooltip = CHI_uighur_opinion_decrease_5_tt
			hidden_effect = {
				subtract_from_variable = {
					var = uighur_threat
					value = 5
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				subtract_from_variable = {
					var = uighur_opinion
					value = 5
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
			log = "[GetDateText]: [This.GetName]: decision increase_restrictions_on_the_uighur_language executed"		
		}
	}
	
	reduce_restrictions_on_the_uighur_language = {
		icon = eng_propaganda_campaigns
		
		visible = {
			has_country_flag = restricted_uighur_language
		}
		
		cost = 200
		
		highlight_states = { state = 592 }
		
		complete_effect = {
			custom_effect_tooltip = CHI_uighur_threat_increase_5_tt
			custom_effect_tooltip = CHI_uighur_opinion_increase_5_tt
			hidden_effect = {
				add_to_variable = {
					var = uighur_threat
					value = 5
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				add_to_variable = {
					var = uighur_opinion
					value = 5
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
			clr_country_flag = restricted_uighur_language
			log = "[GetDateText]: [This.GetName]: decision reduce_restrictions_on_the_uighur_language executed"		
		}
	}
	
	arrest_dissidents = {
		icon = GFX_decision_oppression
		
		cost = 100
		
		highlight_states = { state = 592 }
		
		fire_only_once = yes
		
		days_re_enable = 30
		
		complete_effect = {
			custom_effect_tooltip = CHI_uighur_threat_decrease_2_tt
			custom_effect_tooltip = CHI_uighur_opinion_decrease_2_tt
			hidden_effect = {
				subtract_from_variable = {
					var = uighur_threat
					value = 2
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				subtract_from_variable = {
					var = uighur_opinion
					value = 2
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"		
		}
	}
	
	release_dissidents = {
		icon = GFX_decision_generic_political_discourse
		
		cost = 100
		
		highlight_states = { state = 592 }
		
		fire_only_once = yes
		
		days_re_enable = 30
		
		complete_effect = {
			custom_effect_tooltip = CHI_uighur_threat_increase_2_tt
			custom_effect_tooltip = CHI_uighur_opinion_increase_2_tt
			hidden_effect = {
				add_to_variable = {
					var = uighur_threat
					value = 2
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				add_to_variable = {
					var = uighur_opinion
					value = 2
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
			log = "[GetDateText]: [This.GetName]: decision release_dissidents executed"		
		}
	}
	
	promote_immigration = {
		icon = GFX_decision_infiltrate_state
		
		cost = 50
		
		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision promote_immigration executed"		
		}
		
		days_remove = 30
		
		days_re_enable = 60
		
		highlight_states = { state = 592 }
		
		remove_effect = {
			random_owned_state = {
				add_manpower = -1000
			}
			592 = {
				add_manpower = 1000
			}
			custom_effect_tooltip = CHI_uighur_threat_decrease_2_tt
			custom_effect_tooltip = CHI_uighur_opinion_decrease_1_tt
			hidden_effect = {
				subtract_from_variable = {
					var = uighur_threat
					value = 2
				}
				clamp_variable = {
					var = uighur_threat
					min = 0
					max = 100
				}
				subtract_from_variable = {
					variable = uighur_opinion
					value = 1
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
		}
	}
	
	build_mosques = {
		icon = GFX_decision_generic_construction
		
		custom_cost_trigger = {
			check_variable = { treasury > 0.74 }
		}
		
		custom_cost_text = cost_0_75
		
		highlight_states = { state = 592 }
		
		complete_effect = {
			subtract_from_variable = { treasury = 0.75 }
			log = "[GetDateText]: [This.GetName]: decision build_mosques executed"		
		}
		
		days_remove = 30
				
		remove_effect = {
			custom_effect_tooltip = CHI_uighur_opinion_increase_1_tt
			hidden_effect = {
				add_to_variable = {
					var = uighur_opinion
					value = 1
				}
				clamp_variable = {
					var = uighur_opinion
					min = 0
					max = 100
				}
			}
		}
	}
}

taiwan_coup_category = {
	rally_support_taiwan = {
	
		icon = GFX_decision_generic_civil_support
		
		allowed = {
			original_tag = TAI
		}
		
		cost = 50
		
		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision rally_support_taiwan executed"
		}
		
		days_remove = 3
		
		remove_effect = {
			custom_effect_tooltip = TAI_decrease_coup_support_tt
			if = {
				limit = {
					OR = {
						AND = {
							is_in_array = { array = ruling_party value = 1 }
							check_variable = {
								var = party_pop_array^2
								value = 0.5
								compare = greater_than
							}
						}
						AND = {
							is_in_array = { array = ruling_party value = 2 }
							check_variable = {
								var = party_pop_array^2
								value = 0.5
								compare = greater_than
							}
						}
						AND = {
							is_in_array = { array = ruling_party value = 14 }
							check_variable = {
								var = party_pop_array^14
								value = 0.5
								compare = greater_than
							}
						}
						AND = {
							is_in_array = { array = ruling_party value = 18 }
							check_variable = {
								var = party_pop_array^19
								value = 0.5
								compare = greater_than
							}
						}
					}
				}
				add_to_variable = {
					var = TAI_preparations
					value = 2
				}
			}
			else_if = {
				add_to_variable = {
					var = TAI_preparations
					value = 1
				}
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	send_civilian_support_taiwan = {
	
		icon = GFX_decision_generic_civil_support
		
		allowed = {
			NOT = { original_tag = TAI }
		}
		
		cost = 50
		
		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision send_political_support_taiwan executed"
		}
		
		days_remove = 2
		
		remove_effect = {
			TAI = {
				add_political_power = 50
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	rally_support_military_taiwan = {
	
		icon = GFX_decision_generic_army_support_new
		
		allowed = {
			original_tag = TAI
		}
		
		custom_cost_trigger = {
			command_power > 49
		}
		
		custom_cost_text = command_power_more_than_50
		
		complete_effect = {
			add_command_power = -50
			log = "[GetDateText]: [This.GetName]: decision rally_support_taiwan executed"
		}
		
		days_remove = 3
		
		remove_effect = {
			custom_effect_tooltip = TAI_decrease_coup_support_tt
			add_to_variable = {
				var = TAI_preparations
				value = 1
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	send_military_support_taiwan = {
	
		icon = GFX_decision_generic_army_support_new
		
		allowed = {
			NOT = { original_tag = TAI }
		}
		
		custom_cost_trigger = {
			command_power > 49
		}
		
		custom_cost_text = command_power_more_than_50
		
		days_remove = 2
		
		complete_effect = {
			add_command_power = -50
			log = "[GetDateText]: [This.GetName]: decision send_military_support_taiwan executed"
		}
		
		remove_effect = {
			TAI = { add_command_power = 50 }
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	
	prevent_coup_taiwan = {
	
		allowed = { original_tag = TAI }
		
		icon = GFX_decision_generic_prepare_civil_war
		
		available = {
			custom_trigger_tooltip = {
				tooltip = TAI_relative_support_tt
				check_variable = {
					TAI_preparations > CHI_preparations
				}
			}
		}
		
		activation = { CHI = { has_completed_focus = CHI_The_Fifth_Column } }
		
		is_good = no
		
		days_mission_timeout = 14
		
		timeout_effect = {
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			hidden_effect = {
				set_popularities = {
					democratic = 59.0
					communism = 37.0
					fascism = 0.0
					neutrality = 4.0
					nationalist = 0.0
				}
				set_variable = { party_pop_array^1 = 0.320 } #conservatism
				set_variable = { party_pop_array^2 = 0.270 } #liberalism
				set_variable = { party_pop_array^7 = 0.370 } #Autocracy
				set_variable = { party_pop_array^14 = 0.03 } #Neutral_conservatism
				set_variable = { party_pop_array^18 = 0.01 } #neutral_Social
				clear_array = ruling_party
				clear_array = gov_coalition_array
				add_to_array = { ruling_party = 7 }
				update_government_coalition_strength = yes
				update_party_name = yes
				set_coalition_drift = yes
				recalculate_party = yes
			}
			every_country = {
				news_event = { id = taiwan.13 }
			}
			remove_ideas = taiwanese_coup
			set_country_flag = TAI_coup_success
		}
		
		complete_effect = {
			add_political_power = 100
			remove_ideas = taiwanese_coup
			every_country = {
				news_event = { id = taiwan.14 }
			}
		}
	}
}

hongkong_category = {

	HKG_declare_independence = {
	
		allowed = { original_tag = HKG }
		
		icon = GFX_decision_generic_nationalism
		
		available = {
			has_government = nationalist
			nationalist > 0.5
		}
		
		cost = 300
		
		complete_effect = {
			add_ideas = Lacks_International_Recognition
			add_to_array = {
				global.Unrecognised_States = THIS
			}
			set_variable = {
				var = Granted_Recognition
				value = 0
			}
			CHI = {
				add_opinion_modifier = {
					modifier = declared_independence
					target = ROOT
				}
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
			595 = {
				add_core_of = CHI
			}
			log = "[GetDateText]: [This.GetName]: decision HKG_declare_independence executed"
		}
		
	}
	
	reconsider_the_NPCSC_decision = {
	
		allowed = { original_tag = CHI }
		
		icon = GFX_decision_generic_political_discourse
		
		visible = { 
			has_completed_focus = CHI_The_NPCSC_Decision_on_Hong_Kong 
			HKG = {
				OR = { has_idea = Lacks_Universal_Suffrage has_idea = Limited_Universal_Suffrage }
			}
		}
		
		cost = 50
		
		days_remove = 7
		
		remove_effect = {
			country_event = { id = china.27 }
			log = "[GetDateText]: [This.GetName]: decision reconsider_the_NPCSC_decision executed"
		}
		
	}
	
	reconsider_the_future_of_hongkong = {
	
		allowed = { original_tag = CHI }
		
		icon = GFX_decision_generic_political_discourse
		
		visible = { 
			has_completed_focus = CHI_Hong_Kong_Future 
		}
		
		cost = 50
		
		days_remove = 7
		
		remove_effect = {
			country_event = { id = china.28 }
			log = "[GetDateText]: [This.GetName]: decision reconsider_the_future_of_hongkong executed"
		}
		
	}
	
	deploy_troops = {
	
		allowed = { original_tag = CHI }
		
		icon = GFX_decision_generic_army_support_new
		
		visible = {
			OR = {
				has_idea = CHI_Hong_Kong_Protests_01
				has_idea = CHI_Hong_Kong_Protests_02
				has_idea = CHI_Hong_Kong_Protests_03
			}
		}
		
		available = {
			divisions_in_state = {
				size > 1
				state = 595
			}
			has_political_power > 500
		}
		
		custom_cost_trigger = {
			command_power > 39
		}
		
		custom_cost_text = command_power_more_than_40
		
		complete_effect = {
			add_command_power = -40
			log = "[GetDateText]: [This.GetName]: decision deploy_troops executed"
		}
		
		days_remove = 7
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				has_idea = CHI_Hong_Kong_Protests_03
			}
		}
		
		remove_effect = {
			if = {
				limit = { CHI = { has_idea = CHI_Hong_Kong_Protests_01 } }
				HKG = { remove_ideas = Hong_Kong_Protests_01 }
				CHI = { remove_ideas = CHI_Hong_Kong_Protests_01 }
			}
			else_if = {
				limit = { CHI = { has_idea = CHI_Hong_Kong_Protests_02 } }
				HKG = { remove_ideas = Hong_Kong_Protests_02 }
				CHI = { remove_ideas = CHI_Hong_Kong_Protests_02 }
			}
			else_if = {
				limit = { CHI = { has_idea = CHI_Hong_Kong_Protests_03 } }
				HKG = { remove_ideas = Hong_Kong_Protests_03 }
				CHI = { remove_ideas = CHI_Hong_Kong_Protests_03 }
			}
			add_political_power = -500
			HKG = { 
				add_stability = -0.1 
				set_country_flag = troops_deployed
			}
			every_other_country = {
				country_event = { id = hongkong.2 }
			}
		}
		
	}
	
	stop_the_protests_01 = {
	
		allowed = { 
			OR = { original_tag = CHI }
		}
		
		icon = GFX_decision_generic_civil_support
		
		is_good = no
		
		days_mission_timeout = 60
		
		activation = { 
			OR = {
				has_idea = CHI_Hong_Kong_Protests_01
				has_idea = Hong_Kong_Protests_01
			}
		}
		
		available = {
			OR = {
				AND = {
					country_exists = HKG
					HKG = { 
						has_idea = Universal_Suffrage
					}
					custom_trigger_tooltip = {
						tooltip = HKG_continuation_tt
						HKG = { NOT = { has_country_flag = reunification } }
					}
					
				}
				HKG = { 
					custom_trigger_tooltip = {
						tooltip = HKG_chinese_troops_deployed_tt
						has_country_flag = troops_deployed 
					}
				}
			}
		}
		
		timeout_effect = {
			HKG = {
				add_popularity = {
					ideology = nationalist
					popularity = 0.05
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.05
				}
				recalculate_party = yes
			}
			random_list = {	
				75 = {
					CHI = {
						swap_ideas = {
							remove_idea = CHI_Hong_Kong_Protests_01
							add_idea = CHI_Hong_Kong_Protests_02
						}
					}
					HKG = {
						swap_ideas = {
							remove_idea = Hong_Kong_Protests_01
							add_idea = Hong_Kong_Protests_02
						}
					}
				}
				25 = {
					CHI = {
						remove_ideas = CHI_Hong_Kong_Protests_01
					}
					HKG = {
						remove_ideas = Hong_Kong_Protests_01
					}
				}
			}
		}
		
		complete_effect = {
			CHI = {
				remove_ideas = CHI_Hong_Kong_Protests_01
			}
			HKG = {
				remove_ideas = Hong_Kong_Protests_01
			}
			HKG = { clr_country_flag = troops_deployed }
		}
	}
	
	stop_the_protests_02 = {
	
		allowed = { original_tag = CHI }
		
		icon = GFX_decision_generic_civil_support
		
		is_good = no
		
		days_mission_timeout = 60
		
		activation = { 
			OR = {
				has_idea = CHI_Hong_Kong_Protests_02
				has_idea = Hong_Kong_Protests_02
			}
		}
		
		available = {
			OR = {
				AND = {
					country_exists = HKG
					HKG = { 
						has_idea = Universal_Suffrage 
					}
					custom_trigger_tooltip = {
						tooltip = HKG_continuation_tt
						HKG = { NOT = { has_country_flag = reunification } }
					}
				}
				HKG = { 
					custom_trigger_tooltip = {
						tooltip = HKG_chinese_troops_deployed_tt
						has_country_flag = troops_deployed 
					}
				}
			}
		}
		
		timeout_effect = {
			HKG = {
				add_popularity = {
					ideology = nationalist
					popularity = 0.05
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.05
				}
				recalculate_party = yes
			}
			
			random_list = {	
				50 = {
					CHI = {
						swap_ideas = {
							remove_idea = CHI_Hong_Kong_Protests_02
							add_idea = CHI_Hong_Kong_Protests_03
						}
					}
					HKG = {
						swap_ideas = {
							remove_idea = Hong_Kong_Protests_02
							add_idea = Hong_Kong_Protests_03
						}
					}
				}
				50 = {
					CHI = {
						swap_ideas = {
							remove_idea = CHI_Hong_Kong_Protests_02
							add_idea = CHI_Hong_Kong_Protests_01
						}
					}
					HKG = {
						swap_ideas = {
							remove_idea = Hong_Kong_Protests_02
							add_idea = Hong_Kong_Protests_01
						}
					}
				}
			}
		}
		
		complete_effect = {
			CHI = {
				remove_ideas = CHI_Hong_Kong_Protests_02
			}
			HKG = {
				remove_ideas = Hong_Kong_Protests_02
			}
			HKG = { clr_country_flag = troops_deployed }
		}
	}
	
	stop_the_protests_03 = {
	
		allowed = { original_tag = CHI }
		
		icon = GFX_decision_generic_civil_support
		
		is_good = no
		
		days_mission_timeout = 60
		
		activation = { 
			OR = {
				has_idea = CHI_Hong_Kong_Protests_03
				has_idea = Hong_Kong_Protests_03
			}
		}
		
		available = {
			OR = {
				AND = {
					country_exists = HKG
					HKG = { 
						has_idea = Universal_Suffrage 
					}
					custom_trigger_tooltip = {
						tooltip = HKG_continuation_tt
						HKG = { NOT = { has_country_flag = reunification } }
					}
				}
				HKG = { 
					custom_trigger_tooltip = {
						tooltip = HKG_chinese_troops_deployed_tt
						has_country_flag = troops_deployed 
					}
				}
			}
		}
		
		timeout_effect = {
			HKG = {
				add_popularity = {
					ideology = nationalist
					popularity = 0.05
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.05
				}
				recalculate_party = yes
			}
			
			CHI = {
				swap_ideas = {
					remove_idea = CHI_Hong_Kong_Protests_03
					add_idea = CHI_Hong_Kong_Protests_02
				}
			}
			HKG = {
				swap_ideas = {
					remove_idea = Hong_Kong_Protests_03
					add_idea = Hong_Kong_Protests_02
				}
			}
		}
		
		complete_effect = {
			CHI = {
				remove_ideas = CHI_Hong_Kong_Protests_03
			}
			HKG = {
				remove_ideas = Hong_Kong_Protests_03
			}
			HKG = { clr_country_flag = troops_deployed }
		}
	}
}