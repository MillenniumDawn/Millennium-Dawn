USA_alliant_techsystems_materiel_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Alliant_Techsystems
	name = USA_alliant_techsystems_materiel_manufacturer
	include = generic_aa_at_equipment_organization
}

USA_colt_defense_materiel_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Colt-Defense
	name = USA_colt_defense_materiel_manufacturer
	include = generic_infantry_equipment_organization
}

USA_raytheon_materiel_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Raytheon
	name = USA_raytheon_materiel_manufacturer
	include = generic_aa_at_equipment_organization
}

USA_bell_helicopter_textron_tank_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Bell_Textron
	name = USA_bell_helicopter_textron_tank_manufacturer
	include = generic_specialized_helicopter_organization
}

USA_bell_helicopter_textron_tank_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Bell_Textron
	name = USA_bell_helicopter_textron_tank_manufacturer
	include = generic_specialized_helicopter_organization
}

USA_sikorsky_aircraft_tank_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Sikorsky_Aircraft_Logo
	name = USA_sikorsky_aircraft_tank_manufacturer
	include = generic_specialized_helicopter_organization
}

USA_boeing_aircraft_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Boeing
	name = USA_boeing_aircraft_manufacturer
	include = generic_fixed_wing_equipment_organization
}

USA_lockheed_martin_aircraft_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Lockheed_Martin
	name = USA_lockheed_martin_aircraft_manufacturer
	include = generic_air_equipment_organization
}

USA_northrop_grumman_aircraft_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Northrop_Grumman
	name = USA_northrop_grumman_aircraft_manufacturer
	# TODO: Replace with heavy plane MIO
	include = generic_air_equipment_organization
}

USA_textron_aviation_defense_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_textron
	name = USA_textron_aviation_defense_manufacturer
	include = generic_light_aircraft_equipment_organization
}

USA_general_dynamics_electric_boat_naval_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_General_Dynamics_Electric_Boat
	name = USA_general_dynamics_electric_boat_naval_manufacturer
	include = generic_sub_equipment_organization
}

USA_northrop_grumman_newport_news_naval_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_NNS
	name = USA_northrop_grumman_newport_news_naval_manufacturer
	include = generic_sub_equipment_organization
}

USA_bath_iron_works_naval_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_Bath_Iron_Works
	name = USA_bath_iron_works_naval_manufacturer
	include = generic_naval_equipment_organization
}

USA_national_steel_and_shipbuilding_company_naval_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_General_Dynamics
	name = USA_national_steel_and_shipbuilding_company_naval_manufacturer
	include = generic_naval_equipment_organization
}

USA_ingalls_shipbuilding_naval_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_ingalls-logo
	name = USA_ingalls_shipbuilding_naval_manufacturer
	include = generic_naval_light_equipment_organization
}

###
USA_northrop_grumman_newport_news_naval_manufacturer2 = {
	allowed = { original_tag = USA }
	icon = GFX_idea_NNS
	name = USA_northrop_grumman_newport_news_naval_manufacturer2
	include = generic_naval_light_equipment_organization
}
## TEXTRON
USA_textron_systems_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_textron
	name = USA_textron_systems_manufacturer_org
	include = generic_cnc_equipment_organization
}

# UNITED DEFENSE TANK
USA_united_defense_tank_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_united_defense
	name = USA_united_defense_tank_manufacturer
}

USA_general_dynamics_tank_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_General_Dynamics
	name = USA_general_dynamics_tank_manufacturer_org
	ai_will_do = {
		base = 10
		modifier = {
			factor = 0
			check_variable = { FROM.interest_rate > 8 }
		}
	}
	equipment_type = {
		medium_tank_destroyer_chassis
		medium_tank_chassis
	}
	tree_header_text = {
		text = USA_general_dynamics_tank_header1
		x = 2
	}
	tree_header_text = {
		text = USA_general_dynamics_tank_header2
		x = 6
	}
	tree_header_text = {
		text = USA_general_dynamics_tank_header3
		x = 9
	}
	research_categories = { CAT_armor }
	research_bonus = 0.15
	
	initial_trait = {
		name = USA_general_dynamics_tank_initial_trait
		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_resource_penalty_factor = -0.05
		}
		equipment_bonus = {
			armor_value = 0.05
			maximum_speed = -0.05
			}
	}
	trait = {
		token = USA_general_dynamics_tank_manufacturingplants
		name = USA_general_dynamics_tank_manufacturingplants
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 9 y = 2 }

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		production_bonus = {
			production_efficiency_gain_factor = 0.05
			production_efficiency_cap_factor = 0.05
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_tank_engineeringmastery
		name = USA_general_dynamics_tank_engineeringmastery
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_tank_manufacturingplants

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_manufacturingplants }

		production_bonus = {
			production_efficiency_gain_factor = 0.05
			production_efficiency_cap_factor = 0.05
			production_resource_penalty_factor = -0.03
			production_cost_factor = -0.03
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_tank_researchleaders
		name = USA_general_dynamics_tank_researchleaders
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_tank_engineeringmastery

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_engineeringmastery }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
			military_industrial_organization_funds_gain = 0.1
			military_industrial_organization_size_up_requirement = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

#### Armor Bonuses
	trait = {
		token = USA_general_dynamics_tank_NERAspecialists
		name = USA_general_dynamics_tank_NERAspecialists
		icon = GFX_generic_mio_trait_icon_hardness
		special_trait_background = yes
		position = { x = 1 y = 0 }

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		equipment_bonus = {
			armor_value = 0.05
			defense = 0.05
			breakthrough = 0.02
			maximum_speed = -0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_SurvivabilityFocus
		name = USA_general_dynamics_tank_SurvivabilityFocus
		icon = GFX_generic_mio_trait_icon_armor_value
		special_trait_background = yes
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_NERAspecialists

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_NERAspecialists }


		equipment_bonus = {
			armor_value = 0.02
			defense = 0.02
			breakthrough = 0.02
			maximum_speed = -0.01
			build_cost_ic = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_HALONsystem
		name = USA_general_dynamics_tank_HALONsystem
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_SurvivabilityFocus

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_SurvivabilityFocus }


		equipment_bonus = {
			breakthrough = 0.01
			defense = 0.01
			armor_value = 0.01
			reliability = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	trait = {
		token = USA_general_dynamics_tank_NextGenDUArmor
		name = USA_general_dynamics_tank_NextGenDUArmor
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_NERAspecialists

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_NERAspecialists }

		equipment_bonus = {
			armor_value = 0.02
			defense = 0.02
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_NextGenDUArmor
		name = USA_general_dynamics_tank_NextGenDUArmor
		icon = GFX_generic_mio_trait_icon_hardness
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_NERAspecialists

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_NERAspecialists }

		equipment_bonus = {
			armor_value = 0.03
			defense = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_graphitecoating
		name = USA_general_dynamics_tank_graphitecoating
		icon = GFX_generic_mio_trait_icon_armor_value
		position = { x = 0 y = 2 }
		relative_position_id = USA_general_dynamics_tank_NextGenDUArmor

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_NextGenDUArmor }

		equipment_bonus = {
			armor_value = 0.03
			defense = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_360degreesprotection
		name = USA_general_dynamics_tank_360degreesprotection
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_graphitecoating

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_graphitecoating USA_general_dynamics_tank_CIED }

		equipment_bonus = {
			defense = 0.05
			armor_value = 0.05
			breakthrough = 0.01
			build_cost_ic = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_UrbanSurvivalKits
		name = USA_general_dynamics_APC_UrbanSurvivalKits
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_SurvivabilityFocus

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_SurvivabilityFocus }

		equipment_bonus = {
			breakthrough = 0.01
			defense = 0.01
			armor_value = 0.01
			reliability = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_HALONsystem
		name = USA_general_dynamics_tank_HALONsystem
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_SurvivabilityFocus

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_SurvivabilityFocus }

		equipment_bonus = {

			defense = 0.01
			breakthrough = 0.01
			reliability = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_CIED
		name = USA_general_dynamics_tank_CIED
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_UrbanSurvivalKits

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_HALONsystem USA_general_dynamics_tank_UrbanSurvivalKits }

		equipment_bonus = {
			armor_value = 0.02
			reliability = 0.02
			maximum_speed = -0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_AdvancedJammers
		name = USA_general_dynamics_tank_AdvancedJammers
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_CIED

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		all_parents = { USA_general_dynamics_tank_CIED }

		equipment_bonus = {
			armor_value = 0.02
			defense = 0.01
			breakthrough = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_MultiFuelEngines
		name = USA_general_dynamics_tank_MultiFuelEngines
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 4 y = 0 }

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		equipment_bonus = {
			maximum_speed = 0.03
			fuel_consumption = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_BatteryBasedAPU
		name = USA_general_dynamics_tank_BatteryBasedAPU
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_tank_MultiFuelEngines
		
		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_MultiFuelEngines }


		equipment_bonus = {
			maximum_speed = 0.03
			fuel_consumption = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_DepletedUranium
		name = USA_general_dynamics_tank_DepletedUranium
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 8 y = 0 }

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		equipment_bonus = {
			ap_attack = 0.02
			hard_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_EnhancedFCS
		name = USA_general_dynamics_tank_EnhancedFCS
		icon = GFX_generic_mio_trait_icon_detection
	
		position = { x = 6 y = 0 }


		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }

		equipment_bonus = {
			maximum_speed = 0.01
			hard_attack = 0.01
			soft_attack = 0.01
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_IDATS
		name = USA_general_dynamics_tank_IDATS
		icon = GFX_generic_mio_trait_icon_detection
	
		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_tank_EnhancedFCS

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_EnhancedFCS }

		equipment_bonus = {
			maximum_speed = 0.02
			soft_attack = 0.02
			ap_attack = 0.02
			hard_attack = 0.02
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_AmmunitionImprovements
		name = USA_general_dynamics_APC_AmmunitionImprovements
		icon = GFX_generic_mio_department_icon_tank_general_weapons

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_tank_DepletedUranium
		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_DepletedUranium }

		equipment_bonus = {
			ap_attack = 0.02
			hard_attack = 0.02
			soft_attack = 0.02
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_tank_AMP
		name = USA_general_dynamics_APC_AmmunitionImprovements
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_tank_AmmunitionImprovements

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		all_parents = { USA_general_dynamics_tank_AmmunitionImprovements USA_general_dynamics_tank_IDATS }

		equipment_bonus = {
			ap_attack = 0.03
			hard_attack = 0.03
			soft_attack = 0.03
			air_attack = 0.03
			breakthrough = 0.03
			build_cost_ic = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
}

#GDLS-C
USA_general_dynamics_APC_manufacturer = {
	allowed = { original_tag = USA }
	icon = GFX_idea_General_Dynamics
	name = USA_general_dynamics_APC_org

	ai_will_do = {
		base = 10
		modifier = {
			factor = 0
			check_variable = { FROM.interest_rate > 8 }
		}
	}
	equipment_type = {
		medium_tank_amphibious_chassis
		util_vehicle_equipment
	}
	tree_header_text = {
		text = USA_general_dynamics_APC_header1
		x = 2
	}
	tree_header_text = {
		text = USA_general_dynamics_APC_header2
		x = 6
	}
	tree_header_text = {
		text = USA_general_dynamics_APC_header3
		x = 9
	}
	research_categories = { CAT_armor util_vehicle_equipment }
	research_bonus = 0.1
	
	initial_trait = {
		name = USA_general_dynamics_APC_initial_trait
		production_bonus = {
			production_efficiency_gain_factor = 0.03
			production_conversion_speed_factor = 0.03
			production_cost_factor = -0.03
			production_resource_penalty_factor = -0.03
		}
	}
	##Production
	trait = {
		token = USA_general_dynamics_APC_AmmoProduction
		name = USA_general_dynamics_APC_AmmoProduction
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes
		position = { x = 9 y = 0 }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }
		production_bonus = {
			production_efficiency_gain_factor = 0.05
			production_efficiency_cap_factor = 0.05
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_APC_ModularConstruction
		name = USA_general_dynamics_APC_ModularConstruction
		icon = GFX_generic_mio_trait_icon_production_capacity
		special_trait_background = yes
		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_APC_AmmoProduction

		all_parents = { USA_general_dynamics_APC_AmmoProduction }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }
		production_bonus = {
			production_resource_need_factor = -0.03
			production_conversion_speed_factor = 0.03
			production_efficiency_gain_factor = 0.05
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	#Firepower

	trait = {
		token = USA_general_dynamics_APC_MPTurrets
		name = USA_general_dynamics_APC_MPTurrets
		icon = GFX_generic_mio_trait_icon_lg_attack
		special_trait_background = yes
		position = { x = 2 y = 0 }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }
		production_bonus = {
			production_resource_need_factor = -0.05
			production_conversion_speed_factor = 0.02
		}
		equipment_bonus = {
			air_attack = 0.02
			soft_attack = 0.02
			hard_attack = 0.02
			breakthrough = 0.01
			defense = 0.01
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_AmmunitionImprovements
		name = USA_general_dynamics_APC_AmmunitionImprovements
		icon = GFX_generic_mio_department_icon_tank_general_weapons

		position = { x = 2 y = 1 }
		relative_position_id = USA_general_dynamics_APC_MPTurrets

		all_parents = { USA_general_dynamics_APC_MPTurrets }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }
		production_bonus = {
			production_resource_need_factor = -0.05
			production_conversion_speed_factor = 0.02
		}
		equipment_bonus = {
			air_attack = 0.02
			soft_attack = 0.02
			hard_attack = 0.02
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_APC_CROWS
		name = USA_general_dynamics_APC_CROWS
		icon = GFX_generic_mio_trait_icon_lg_attack

		all_parents = { USA_general_dynamics_APC_MPTurrets }

		position = { x = -2 y = 1 }
		relative_position_id = USA_general_dynamics_APC_MPTurrets

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		equipment_bonus = {
			soft_attack = 0.01
			breakthrough = 0.01
			defense = 0.01
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_APC_pFTL
		name = USA_general_dynamics_APC_pFTL
		icon = GFX_generic_mio_trait_icon_detection

		all_parents = { USA_general_dynamics_APC_CROWS USA_general_dynamics_APC_ExperimentalSystems }

		position = { x = -2 y = 1 }
		relative_position_id = USA_general_dynamics_APC_ExperimentalSystems

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		equipment_bonus = {
			ap_attack = 0.01
			hard_attack = 0.01
			defense = 0.02
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_APC_ExperimentalSystems
		name = USA_general_dynamics_APC_ExperimentalSystems
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes
		all_parents = { USA_general_dynamics_APC_MPTurrets }

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_APC_MPTurrets
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
		equipment_bonus = {
			soft_attack = 0.02
			hard_attack = 0.02
			breakthrough = 0.01
			defense = 0.01
			build_cost_ic = 0.01
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_CROWSDefender
		name = USA_general_dynamics_APC_CROWSDefender
		icon = GFX_generic_mio_trait_icon_lg_attack
		special_trait_background = yes
		all_parents = { USA_general_dynamics_APC_AmmunitionImprovements USA_general_dynamics_APC_CROWS USA_general_dynamics_APC_ExperimentalSystems }

		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_APC_ExperimentalSystems
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		equipment_bonus = {
			soft_attack = 0.02
			hard_attack = 0.02
			breakthrough = 0.02
			defense = 0.02
			build_cost_ic = 0.01
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_CROWS-J
		name = USA_general_dynamics_APC_CROWS-J
		icon = GFX_generic_mio_trait_icon_hard_attack

		all_parents = { USA_general_dynamics_APC_pFTL USA_general_dynamics_APC_CROWSDefender }

		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_CROWSDefender
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		equipment_bonus = {
			hard_attack = 0.03
			ap_attack = 0.03
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	trait = {
		token = USA_general_dynamics_APC_ProgrammableAmmunition
		name = USA_general_dynamics_APC_ProgrammableAmmunition
		icon = GFX_generic_mio_department_icon_infantry_offense

		all_parents = { USA_general_dynamics_APC_ExperimentalSystems USA_general_dynamics_APC_AmmunitionImprovements }

		position = { x = 2 y = 1 }
		relative_position_id = USA_general_dynamics_APC_ExperimentalSystems
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		equipment_bonus = {
			air_attack = 0.02
			soft_attack = 0.02
			defense = 0.02
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

		trait = {
		token = USA_general_dynamics_APC_HunterKiller
		name = USA_general_dynamics_APC_HunterKiller
		icon = GFX_generic_mio_trait_icon_detection

		all_parents = { USA_general_dynamics_APC_CROWSDefender USA_general_dynamics_APC_ProgrammableAmmunition }

		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_CROWSDefender
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		equipment_bonus = {
			soft_attack = 0.02
			breakthrough = 0.01
			defense = 0.02
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
		trait = {
		token = USA_general_dynamics_APC_CROWSIII
		name = USA_general_dynamics_APC_CROWSIII
		icon = GFX_generic_mio_trait_icon_lg_attack
		special_trait_background = yes
		all_parents = { USA_general_dynamics_APC_CROWS-J USA_general_dynamics_APC_HunterKiller }

		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_HunterKiller
		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		equipment_bonus = {
			soft_attack = 0.03
			hard_attack = 0.02
			ap_attack = 0.02
			breakthrough = 0.02
			defense = 0.02
			armor_value = 0.02
			build_cost_ic = 0.01
			}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	## Mobility and Defense

	trait = {
		token = USA_general_dynamics_APC_DoubleVHull
		name = USA_general_dynamics_APC_DoubleVHull
		icon = GFX_generic_mio_department_icon_tank_medium_tank_armor
		special_trait_background = yes
		equipment_bonus = {
			breakthrough = 0.02
			defense = 0.02
			armor_value = 0.02
			reliability = 0.05
			build_cost_ic = 0.01
		}
		
		position = { x = 6 y = 0 }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	trait = {
		token = USA_general_dynamics_APC_CaterpillarEngines
		name = USA_general_dynamics_APC_CaterpillarEngines
		icon = GFX_generic_mio_trait_icon_maximum_speed

		equipment_bonus = {
			fuel_consumption = -0.02
			maximum_speed = 0.05
			breakthrough = 0.01
			reliability = 0.02
		}
		
		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_APC_AllisonTransmissions
		all_parents = { USA_general_dynamics_APC_AllisonTransmissions }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}

	trait = {
		token = USA_general_dynamics_APC_AllisonTransmissions
		name = USA_general_dynamics_APC_AllisonTransmissions
		icon = GFX_generic_mio_trait_icon_reliability

		equipment_bonus = {
			fuel_consumption = -0.02
			maximum_speed = 0.05
			breakthrough = 0.01
			reliability = 0.03
		}
		
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_DoubleVHull
		all_parents = { USA_general_dynamics_APC_DoubleVHull }

		limit_to_equipment_type = { util_vehicle_equipment medium_tank_amphibious_chassis }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_Chobham
		name = USA_general_dynamics_APC_Chobham
		icon = GFX_generic_mio_trait_icon_armor_value
		special_trait_background = yes
		equipment_bonus = {
			breakthrough = 0.01
			defense = 0.02
			armor_value = 0.05
			reliability = 0.02
			build_cost_ic = 0.01
			}
		
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_DoubleVHull
		all_parents = { USA_general_dynamics_APC_DoubleVHull }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_UrbanSurvivalKits
		name = USA_general_dynamics_APC_UrbanSurvivalKits
		icon = GFX_generic_mio_trait_icon_defense

		equipment_bonus = {
			breakthrough = 0.01
			defense = 0.02
			armor_value = 0.02
			reliability = 0.02
			build_cost_ic = 0.01
			}
		
		position = { x = 0 y = 1 }
		relative_position_id = USA_general_dynamics_APC_Chobham
		all_parents = { USA_general_dynamics_APC_Chobham }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_ThermalCamouflage
		name = USA_general_dynamics_APC_ThermalCamouflage
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes
		equipment_bonus = {
			breakthrough = 0.03
			defense = 0.03
			armor_value = 0.02
			build_cost_ic = 0.01
			}
		
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_UrbanSurvivalKits
		all_parents = { USA_general_dynamics_APC_CaterpillarEngines USA_general_dynamics_APC_UrbanSurvivalKits }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_EnhancedDrivetrain
		name = USA_general_dynamics_APC_EnhancedDrivetrain
		icon = GFX_generic_mio_trait_icon_breakthrough

		equipment_bonus = {
			fuel_consumption = -0.05
			reliability = 0.03
			maximum_speed = 0.05
			}
		
		position = { x = -1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_ThermalCamouflage
		all_parents = { USA_general_dynamics_APC_ThermalCamouflage }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
	trait = {
		token = USA_general_dynamics_APC_ElectronicWarfare
		name = USA_general_dynamics_APC_ElectronicWarfare
		icon = GFX_generic_mio_trait_icon_reliability

		equipment_bonus = {
			air_attack = 0.02
			defense = 0.02
			breakthrough = 0.01
			reliability = 0.05
			}
		
		position = { x = 1 y = 1 }
		relative_position_id = USA_general_dynamics_APC_ThermalCamouflage
		all_parents = { USA_general_dynamics_APC_ThermalCamouflage }

		limit_to_equipment_type = { medium_tank_amphibious_chassis util_vehicle_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0
				FROM = {
					num_of_military_factories > 10
				}
			}
		}
	}
}