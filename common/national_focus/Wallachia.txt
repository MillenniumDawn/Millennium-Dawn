## WALLACHIA FOCUS TREE
## Author: Kor; PS: Fire has le miniscule pp

focus_tree = {
	id = wallachia_focus
	country = {
		factor = 0
		modifier = {
			add = 20
			original_tag = WLC
		}

	}
	continuous_focus_position = { x = 1700 y = 2400 }
	initial_show_position = { x = 20 y = 0 }
	focus = {
		id = WLC_calm_spirits
		icon = d

		x = 20
		y = 0
		cost = 2

		search_filters = { FOCUS_FILTER_POLITICAL }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus WLC_calm_spirits"
			add_political_power = 150
		}
		ai_will_do = {
			factor = 100
		}
	}

focus = {
	id = WLC_martial_law
	icon = d

	x = -7
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_calm_spirits
	prerequisite = { focus = WLC_calm_spirits }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_martial_law"
		if = {
			limit = { has_idea = landowners }
			swap_ideas = {
				remove_idea = landowners
				add_idea = the_military }
		}
		decrease_corruption = yes
		increase_military_spending = yes
	}
	ai_will_do = {
		factor = 20
	}
}

focus = {
	id = WLC_supply_depots
	icon = d

	x = -4
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_calm_spirits
	prerequisite = { focus = WLC_calm_spirits }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_supply_depots"
		custom_effect_tooltip = WLC_supply_depots_bonus_tt
	}
	ai_will_do = {
		factor = 20
	}
}

focus = {
	id = WLC_counter_resistance
	icon = d

	x = -2
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_martial_law
	prerequisite = { focus = WLC_martial_law }
	mutually_exclusive = { focus = WLC_militarize_frontiers }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_counter_resistance"
		add_dynamic_modifier = {
			modifier = WLC_new_army
		}
		set_temp_variable = {
			WLC_required_garrison_factor = -0.1 }
			WLC_modify_WLC_required_garrison_factor_effect = yes
		set_temp_variable = {
			WLC_resistance_damage_to_garrison_change = -0.15 }
			WLC_modify_WLC_resistance_damage_to_garrison_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = warfirst_tooltip
		custom_effect_tooltip = garrisonfactor_tt
		custom_effect_tooltip = garrisondamage_tt
	}
	ai_will_do = {
		factor = 60
	}
}

focus = {
	id = WLC_enemy_within
	icon = d

	x = 0
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_counter_resistance
	prerequisite = { focus = WLC_counter_resistance }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_enemy_within"
		add_manpower = -300
		set_temp_variable = {
			WLC_experience_gain_army_factor_change = 0.25 }
			WLC_modify_WLC_experience_gain_army_factor_effect = yes
			force_update_dynamic_modifier = yes
	}
}

focus = {
	id = WLC_strike_first
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_counter_resistance
	prerequisite = { focus = WLC_counter_resistance }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_strike_first"
	}
}


focus = {
	id = WLC_militarize_society
	icon = d

	x = -3
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_counter_resistance
	prerequisite = { focus = WLC_counter_resistance }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_militarize_society"
	}
}

focus = {
	id = WLC_lightning_fast
	icon = d

	x = -1
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_strike_first
	prerequisite = { focus = WLC_strike_first }
	prerequisite = { focus = WLC_militarize_society }
	prerequisite = { focus = WLC_enemy_within }
	prerequisite = { focus = WLC_total_mobilization }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_lightning_fast"
	}
}

focus = {
	id = WLC_total_mobilization
	icon = d

	x = -1
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_militarize_society
	prerequisite = { focus = WLC_militarize_society }
	prerequisite = { focus = WLC_strike_first }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_militarize_society"
	}
}
focus = {
	id = WLC_militarize_frontiers
	icon = d

	x = 2
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_martial_law
	prerequisite = { focus = WLC_martial_law }
	mutually_exclusive = { focus = WLC_counter_resistance }
	ai_will_do = {
		factor = 40
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_militarize_frontiers"
		add_dynamic_modifier = {
			modifier = WLC_new_army
		}
		set_temp_variable = {
			WLC_production_speed_bunker_factor_change = 0.15 }
			WLC_modify_WLC_production_speed_bunker_factor_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = bunker_factor_tooltip
		150 = {
		add_building_construction = {
			type = bunker
			level = 1
			instant_build = yes
			province = {
				all_provinces = yes
				limit_to_border_country = TRA
				}
			}
		}
	}
}

focus = {
	id = WLC_weather_storm
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_militarize_frontiers
	prerequisite = { focus = WLC_militarize_frontiers }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_weather_storm"
		set_temp_variable = {
			 WLC_dig_in_speed_factor_change = 0.15 }
			 WLC_modify_WLC_dig_in_speed_factor_effect = yes
		set_temp_variable = {
			WLC_max_dig_in_factor_change = 0.15 }
			WLC_modify_WLC_max_dig_in_factor_effect = yes
		set_temp_variable = {
			WLC_army_attack_factor_change = -0.15 }
			WLC_modify_WLC_army_attack_factor_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = dig_speed_tooltip
		custom_effect_tooltip = dig_max_tooltip
		custom_effect_tooltip = attack_factor_tooltip
	}
}
focus = {
	id = WLC_adaptive_logistics
	icon = d

	x = 1
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_militarize_frontiers
	prerequisite = { focus = WLC_militarize_frontiers }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_adaptive_logistics"
		set_temp_variable = {
			WLC_attrition_change = -0.10}
			WLC_modify_WLC_attrition_effect = yes
		set_temp_variable = {
			WLC_winter_attrition_factor_change = -0.15}
			WLC_modify_WLC_winter_attrition_factor_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = winter_attrition_tooltip
		custom_effect_tooltip = attrition_tooltip
		}
	}


focus = {
	id = WLC_defensive_cooperation
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_adaptive_logistics
	prerequisite = { focus = WLC_adaptive_logistics }
	prerequisite = {focus = WLC_weather_storm }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_defensive_cooperation"
		set_temp_variable = {
			WLC_coordination_bonus_change = 0.20}
			WLC_modify_WLC_coordination_bonus_effect = yes
		set_temp_variable = {
			WLC_army_core_defence_factor_change = 0.15}
			WLC_modify_WLC_army_core_defence_factor_effect = yes
		set_temp_variable = {
			WLC_max_command_power_change = 20}
			WLC_modify_WLC_max_command_power_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = coordination_tt
		custom_effect_tooltip = core_defence_tt
		custom_effect_tooltip = command_tt
	}
}

focus = {
	id = WLC_mobile_forces
	icon = d

	x = 0
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_weather_storm
	prerequisite = { focus = WLC_weather_storm }
	prerequisite = { focus = WLC_defensive_cooperation }
	prerequisite = { focus = WLC_strategic_reserves }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_mobile_forces"
		set_temp_variable = {
			WLC_org_loss_when_moving_change = -0.15}
			WLC_modify_WLC_org_loss_when_moving_effect = yes
		set_temp_variable = {
			WLC_army_org_regain_change = 0.15}
			WLC_modify_WLC_army_org_regain_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = orgloss_tooltip
		custom_effect_tooltip = orgregain_tooltip
	}
}
focus = {
	id = WLC_strategic_reserves
	icon = d

	x = -1
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_weather_storm
	prerequisite = { focus = WLC_weather_storm }
	prerequisite = { focus = WLC_adaptive_logistics }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_strategic_reserves"
		set_temp_variable = {
			WLC_conscription_factor_change = 0.02 }
			WLC_modify_WLC_conscription_factor_effect = yes
		set_temp_variable = {
			WLC_army_morale_factor_change = 0.10 }
			WLC_modify_WLC_army_morale_factor_effect = yes
		set_temp_variable = {
			WLC_training_time_army_factor = 0.20}
			WLC_modify_WLC_army_attack_factor_effect = yes
		set_temp_variable = {
			WLC_army_org_factor_change = 0.10 }
			WLC_modify_WLC_army_org_factor_effect = yes
			force_update_dynamic_modifier = yes
		custom_effect_tooltip = recruit_pop_tt
		custom_effect_tooltip = army_morale_tt
		custom_effect_tooltip = army_organization_tt
		custom_effect_tooltip = training_tooltip
	}
}

focus = {
	id = WLC_romanian_army
	icon = d

	x = -1
	y = 6
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY }
	relative_position_id = WLC_martial_law
	prerequisite = { focus = WLC_mobile_forces focus = WLC_lightning_fast }
}

focus = {
	id = WLC_national_economic
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = WLC_calm_spirits
	prerequisite = { focus = WLC_calm_spirits }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_national_economic"
		add_dynamic_modifier = {
			modifier = WLC_economic_directorate
		}
		set_temp_variable = {
			WLC_production_lack_of_resources_penalty_factor_change = -0.10 }
			WLC_modify_WLC_production_lack_of_resources_penalty_factor_effect = yes
		set_temp_variable = {
			WLC_local_resources_factor_change = 0.10 }
			WLC_modify_WLC_local_resources_factor_effect = yes
			force_update_dynamic_modifier = yes
	}
}

focus = {
	id = WLC_state_innovation
	icon = d

	x = 0
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = WLC_national_economic
	prerequisite = { focus = WLC_national_economic }
}
focus = {
	id = WLC_work_programmes
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = 	WLC_national_economic
	prerequisite = { focus = WLC_national_economic }
}
focus = {
	id = WLC_danube_irrigation
	icon = d

	x = 1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = WLC_national_economic
	prerequisite = { focus = WLC_national_economic }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus WLC_agricultural_expansion"
		random_owned_controlled_state = {
		add_extra_state_shared_building_slots = 2 }
	}
}

focus = {
	id = WLC_legitimize_regime
	icon = d

	x = 3
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_calm_spirits
	prerequisite = { focus = WLC_calm_spirits }
}

focus = {
	id = WLC_broken_society
	icon = d

	x = 6
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_calm_spirits
	prerequisite = { focus = WLC_calm_spirits }
}

focus = {
	id = WLC_censorship_bureau
	icon = d

	x = -1
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_legitimize_regime
	prerequisite = { focus = WLC_legitimize_regime }
	prerequisite = { focus = WLC_broken_society }
}

focus = {
	id = WLC_state_security
	icon = d

	x = -2
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_broken_society
	prerequisite = { focus = WLC_broken_society }
	prerequisite = { focus = WLC_legitimize_regime }
}

focus = {
	id = WLC_surveillance_state
	icon = d

	x = -1
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_state_security
	prerequisite = { focus = WLC_state_security }
	prerequisite = { focus = WLC_censorship_bureau }
}

focus = {
	id = WLC_dirigisme
	icon = d

	x = 2
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = WLC_state_innovation
	prerequisite = { focus = WLC_state_innovation }
	prerequisite = { focus = WLC_surveillance_state }
}

focus = {
	id = WLC_moral_rectitude
	icon = d

	x = 0
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_broken_society
	prerequisite = { focus = WLC_broken_society }
}

focus = {
	id = WLC_align_clergy
	icon = d

	x = 2
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_broken_society
	prerequisite = { focus = WLC_broken_society }
	prerequisite = { focus = WLC_legitimize_regime }
}
focus = {
	id = WLC_youth_movement
	icon = d

	x = 0
	y = 2
	cost = 7

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_align_clergy
	prerequisite = { focus = WLC_align_clergy }
}

focus = {
	id = WLC_state_unions
	icon = d

	x = 0
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_ECONOMY }
	relative_position_id = WLC_dirigisme
	prerequisite = { focus = WLC_dirigisme }
	prerequisite = { focus = WLC_youth_movement }
}

focus = {
	id = WLC_social_order
	icon = d

	x = 4
	y = 1
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_dirigisme
	prerequisite = { focus = WLC_dirigisme }
	prerequisite = { focus = WLC_youth_movement }
}
focus = {
	id = WLC_reeducation_camps
	icon = d

	x = 0
	y = 1
	cost = 7

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_youth_movement
	prerequisite = { focus = WLC_dirigisme }
	prerequisite = { focus = WLC_youth_movement }
}

focus = {
	id = WLC_romanian_man
	icon = d

	x = -1
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_state_unions
	prerequisite = { focus = WLC_state_unions }
	prerequisite = { focus = WLC_social_order }
	prerequisite = { focus = WLC_reeducation_camps }
}

focus = {
	id = WLC_romanian_spirit
	icon = d

	x = -1
	y = 2
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL }
	relative_position_id = WLC_social_order
	prerequisite = { focus = WLC_state_unions }
	prerequisite = { focus = WLC_social_order }
	prerequisite = { focus = WLC_reeducation_camps }
}

focus = {
	id = WLC_reunite_romania
	icon = d

	x = -3
	y = 2
	cost = 2

	search_filters = { FOCUS_FILTER_ANNEXATION }
	relative_position_id = WLC_romanian_man
	prerequisite = { focus = WLC_romanian_man }
	prerequisite = { focus = WLC_romanian_spirit }
	prerequisite = { focus = WLC_romanian_army }
	completion_reward = {
		log =  "[GetDateText]: [Root.GetName]: Focus WLC_reunite_romania"
		declare_war_on = {
			target = TRA
			type = annex_everything
		}
	}
}
}