add_namespace = small_medium_business_owners_request_events
add_namespace = small_medium_business_owners_bonus_events
add_namespace = small_medium_business_owners_negative_events
add_namespace = internal_factions_events
add_namespace = internal_factions_events_news
add_namespace = intbank_req_events
add_namespace = intbank_boon_events
add_namespace = intbank_neg_events
add_namespace = the_preisthood_deposed
add_namespace = the_priesthood_positive_events
add_namespace = the_priesthood_negative_events
add_namespace = the_priesthood_bonus_events
add_namespace = ulema_positive_events
add_namespace = ulema_negative_events
add_namespace = ulema_deposed
add_namespace = the_clergy_deposed
add_namespace = the_clergy_positive_events
add_namespace = the_clergy_negative_events
add_namespace = the_clergy_bonus_events
######################################
### Small & Medium Business Owners ###
######################################
### Requests ###
#S&M Business Owners Demand a Tax Cut
country_event = {
	id = small_medium_business_owners_request_events.0
	title = small_medium_business_owners_request_events.0.t
	desc = small_medium_business_owners_request_events.0.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.0" }
	picture = GFX_internal_faction_tax_cut

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		NOT = { has_country_flag = enthusiastic_small_medium_business_owners }
		check_variable = { tax_rate > 10 }
	}

	option = {
		name = small_medium_business_owners_request_events.0.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.0.o1 executed"	#Decrease taxes
		ai_chance = { factor = 1 }
		reduce_tax_rate_3 = yes
		increase_small_medium_business_owners_opinion = yes
		add_timed_idea = {
			idea = internal_faction_tax_cuts
			days = 360
		}
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_communist_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.0.o2 executed"	#Do nothing
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
	}
	option = {
		name = small_medium_business_owners_request_events.0.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.0.o3 executed"	#Increase taxes
		ai_chance = { factor = 1 }
		increase_tax_rate_3 = yes
		if = {
			limit = { has_idea = industrial_conglomerates }
			decrease_industrial_conglomerates_opinion = yes
		}
		if ={
			limit = { has_idea = oligarchs }
			decrease_oligarchs_opinion = yes
		}
		if = {
			limit = { has_idea = fossil_fuel_industry }
			decrease_fossil_fuel_industry_opinion = yes
		}
		decrease_small_medium_business_owners_opinion = yes
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.0.o4
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.0.o4 executed"	#Use labour unions
		ai_chance = { factor = 1 }
		trigger = {
			has_idea = labour_unions
			OR = {
				has_country_flag = enthusiastic_labour_unions
				has_country_flag = positive_labour_unions
			}
		}
		decrease_labour_unions_opinion = yes
	}
}

#A large foreign company buys domestic small business
country_event = {
	id = small_medium_business_owners_request_events.1
	title = small_medium_business_owners_request_events.1.t
	desc = small_medium_business_owners_request_events.1.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.1" }
	picture = GFX_internal_faction_business_purchase

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
	}


	option = {
		name = small_medium_business_owners_request_events.1.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.1.o1 executed"	#Allow it
		ai_chance = { factor = 1 }
		random_other_country = {
			limit = { has_idea = industrial_conglomerates }
			custom_effect_tooltip = TT_country_gains_10_influence
			ROOT = {
				hidden_effect = {
					set_temp_variable = { influence_gain = ROOT.influence_total }
					multiply_temp_variable = { influence_gain = 1.02 }
					multiply_temp_variable = { influence_gain = 0.02 }
					for_loop_effect = {
						end = influence_array^num
						value = v
						if = {
							limit = {
								check_variable = { influence_array^v = PREV }
							}
							add_to_variable = { influence_array_val^v = influence_gain }
							set_country_flag = found
						}
					}
					if = {
						limit = { NOT = { has_country_flag = found } }
							add_to_array = { influence_array = PREV.id }
							add_to_array = { influence_array_val = influence_gain }
					}
					clr_country_flag = found
					recalculate_influence = yes
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_reactionary_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.1.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.1.o2 executed"	#Prevent it
		ai_chance = { factor = 1 }
		lose_pp_for_month = yes
		decrease_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = international_bankers }
			decrease_international_bankers_opinion = yes
		}
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_patriots = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.1.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.1.o3 executed"	#State buys it
		ai_chance = { factor = 1 }
		SE_remove_5_treasury = yes
		if = {
			limit = { has_idea = international_bankers }
			decrease_international_bankers_opinion = yes
		}
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.1.o4
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.1.o3 executed"	#Merge with a domestic company
		trigger = {
			has_idea = industrial_conglomerates
			has_communist_government = yes
		}
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
		increase_industrial_conglomerates_opinion = yes
	}
}

#Small startups strangled by bureaucracy
country_event = {
	id = small_medium_business_owners_request_events.2
	title = small_medium_business_owners_request_events.2.t
	desc = small_medium_business_owners_request_events.2.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.2" }
	picture = GFX_internal_faction_too_much_bureaucracy

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		OR = {
			has_idea = bureau_04
			has_idea = bureau_05
		}
	}

	mean_time_to_happen = {
		days = 1
		#More likely if really high bureaucracy
		modifier = {
			factor = 1.5
			has_idea = bureau_05
		}
		#More likely if high corruption
		modifier = {
			factor = 1.5
			OR = {
				has_idea = paralyzing_corruption
				has_idea = crippling_corruption
				has_idea = rampant_corruption
				has_idea = unrestrained_corruption
				has_idea = systematic_corruption
				has_idea = widespread_corruption
			}
		}
	}

	option = {
		name = small_medium_business_owners_request_events.2.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.2.o1 executed"	#Lower bureaucracy
		ai_chance = { factor = 1 }
		decrease_centralization = yes
		increase_small_medium_business_owners_opinion = yes
		add_timed_idea = {
			idea = internal_faction_locked_bureau_spending
			days = 360
		}
	}
	option = {
		name = small_medium_business_owners_request_events.2.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.2.o2 executed"	#Don't lower bureaucracy
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
	}
	option = {
		name = small_medium_business_owners_request_events.2.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.2.o3 executed"	#Give advantages to some
		ai_chance = { factor = 1 }
		increase_corruption = yes
		increase_small_medium_business_owners_opinion = yes
		add_2_popularity = yes
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = 0.02 }
		add_relative_party_popularity = yes
	}
}

#More start-up money requested
country_event = {
	id = small_medium_business_owners_request_events.3
	title = small_medium_business_owners_request_events.3.t
	desc = small_medium_business_owners_request_events.3.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.3" }
	picture = GFX_internal_faction_money

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
	}

	mean_time_to_happen = {
		days = 1
		#More likely if low economic cycle
		modifier = {
			factor = 1.5
			OR = {
				has_idea = depression
				has_idea = recession
				has_idea = stagnation
			}
		}
	}

	option = {
		name = small_medium_business_owners_request_events.3.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.3.o1 executed"	#Grant more money
		ai_chance = { factor = 1 }
		SE_remove_5_treasury = yes
		increase_small_medium_business_owners_opinion = yes
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_communist_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.3.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.3.o2 executed"	#No more money
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.3.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.3.o3 executed"	#Make an arrangement with bankers
		trigger = {
			has_idea = international_bankers
		}
		ai_chance = { factor = 1 }
		lose_pp_for_month = yes
		increase_small_medium_business_owners_opinion = yes
		decrease_international_bankers_opinion = yes
	}

}

### Special requests if two or more internal factions ###

#Internatioanl bankers not loaning money to S&M business owners
country_event = {
	id = small_medium_business_owners_request_events.4
	title = small_medium_business_owners_request_events.4.t
	desc = small_medium_business_owners_request_events.4.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.4" }
	picture = GFX_internal_faction_money

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		has_idea = international_bankers
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_request_events.4.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.4.o1 executed"	#Force banks to give money
		ai_chance = { factor = 1 }
		lose_pp_for_15_days = yes
		increase_small_medium_business_owners_opinion = yes
		decrease_international_bankers_opinion = yes
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.4.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.4.o2 executed"	#No one has to loan anyone
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
		increase_international_bankers_opinion = yes
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_communist_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.4.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.4.o3 executed"	#The state steps in
		ai_chance = { factor = 1 }
		SE_remove_5_treasury = yes
		increase_small_medium_business_owners_opinion = yes
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}

}

#Fossil fuel industry campaigns against clean energy
country_event = {
	id = small_medium_business_owners_request_events.5
	title = small_medium_business_owners_request_events.5.t
	desc = small_medium_business_owners_request_events.5.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.5" }
	picture = GFX_internal_faction_energy

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		has_idea = fossil_fuel_industry
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_request_events.5.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.5.o1 executed"	#Support green energy
		ai_chance = { factor = 1 }
		increase_corruption = yes
		increase_small_medium_business_owners_opinion = yes
		decrease_fossil_fuel_industry_opinion = yes
		steal_popularity_from_enviromentalists = yes
	}
	option = {
		name = small_medium_business_owners_request_events.5.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.5.o2 executed"	#Support fossil fuel
		ai_chance = { factor = 1 }
		increase_corruption = yes
		decrease_small_medium_business_owners_opinion = yes
		increase_fossil_fuel_industry_opinion = yes
		if = {
			limit = {
				has_environmentalist_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.5.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.5.o3 executed"	#Just ignore it
		ai_chance = { factor = 1 }
		decrease_popularity_2 = yes
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.02 }
		add_relative_party_popularity = yes
	}
}

#Large companies harass small ones
country_event = {
	id = small_medium_business_owners_request_events.6
	title = small_medium_business_owners_request_events.6.t
	desc = small_medium_business_owners_request_events.6.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.6" }
	picture = GFX_internal_faction_business_purchase

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		OR = {
			has_idea = industrial_conglomerates
			has_idea = oligarchs
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_request_events.6.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.6.o1 executed"	#Who cares?
		ai_chance = { factor = 1 }
		decrease_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = industrial_conglomerates }
			increase_industrial_conglomerates_opinion = yes
		}
		if = {
			limit = { has_idea = oligarchs }
			increase_oligarchs_opinion = yes
		}
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_communist_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.6.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.6.o2 executed"	#Reform legislation
		ai_chance = { factor = 1 }
		increase_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = industrial_conglomerates }
			decrease_industrial_conglomerates_opinion = yes
		}
		if = {
			limit = { has_idea = oligarchs }
			decrease_oligarchs_opinion = yes
		}
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.6.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.6.o3 executed"	#Make a backroom deal
		ai_chance = { factor = 1 }
		increase_corruption = yes
		increase_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = industrial_conglomerates }
			increase_industrial_conglomerates_opinion = yes
		}
		if = {
			limit = { has_idea = oligarchs }
			increase_oligarchs_opinion = yes
		}
	}
}

#Work contract dispute between S&B owners and labour unions
country_event = {
	id = small_medium_business_owners_request_events.7
	title = small_medium_business_owners_request_events.7.t
	desc = small_medium_business_owners_request_events.7.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.7" }
	picture = GFX_internal_faction_labour_dispute

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		has_idea = labour_unions
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_request_events.7.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.7.o1 executed"	#Loosen contracts
		ai_chance = { factor = 1 }
		add_timed_idea = {
			idea = internal_faction_labour_dispute_companies_favoured
			days = 360
		}
		increase_small_medium_business_owners_opinion = yes
		decrease_labour_unions_opinion = yes
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_communist_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_fiscal_liberals = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.7.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.7.o2 executed"	#Tighten contracts
		ai_chance = { factor = 1 }
		add_timed_idea = {
			idea = internal_faction_labour_dispute_union_favoured
			days = 360
		}
		decrease_small_medium_business_owners_opinion = yes
		increase_labour_unions_opinion = yes
		if = {
			limit = {
				has_economically_liberal_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_socialists = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.7.o3
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.7.o3 executed"	#Tighten contracts
		ai_chance = { factor = 1 }
		lose_pp_for_month = yes
		random_list = {
			75 = {
			}
			25 = {
				decrease_small_medium_business_owners_opinion = yes
				decrease_labour_unions_opinion = yes
			}
		}
	}
}

#Shops open during holy day
country_event = {
	id = small_medium_business_owners_request_events.8
	title = small_medium_business_owners_request_events.8.t
	desc = small_medium_business_owners_request_events.8.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_request_events.8" }
	picture = GFX_internal_faction_religion

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		has_religious_faction = yes
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_request_events.8.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.8.o1 executed"	#Prioritise traditional values
		ai_chance = { factor = 1 }
		add_stability = 0.02
		decrease_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = the_priesthood }
			increase_the_priesthood_opinion = yes
		}
		if = {
			limit = { has_idea = The_Ulema }
			increase_The_Ulema_opinion = yes
		}
		if = {
			limit = { has_idea = The_Clergy }
			increase_The_Clergy_opinion = yes
		}
		if = {
			limit = { has_idea = wahabi_ulema }
			increase_wahabi_ulema_opinion = yes
		}
		if = {
			limit = { check_variable = { social_conservatism_government > 0 } }
			custom_effect_tooltip = conservatism_government_increase_2_tt
			add_to_variable = { social_conservatism_government = 2 }
			clamp_variable = {
				var = social_conservatism_government
				min = 0
				max = 100
			}
		}
		if = {
			limit = {
				OR = {
					has_socialist_government = yes
					has_liberal_government = yes
				}
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_conservatives = yes
		}
	}
	option = {
		name = small_medium_business_owners_request_events.8.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_request_events.8.o2 executed"	#Who cares?
		ai_chance = { factor = 1 }
		add_stability = -0.02
		increase_small_medium_business_owners_opinion = yes
		if = {
			limit = { has_idea = the_priesthood }
			decrease_the_priesthood_opinion = yes
		}
		if = {
			limit = { has_idea = The_Ulema }
			decrease_The_Ulema_opinion = yes
		}
		if = {
			limit = { has_idea = The_Clergy }
			decrease_The_Clergy_opinion = yes
		}
		if = {
			limit = { has_idea = wahabi_ulema }
			decrease_wahabi_ulema_opinion = yes
		}
		if = {
			limit = { check_variable = { social_conservatism_government > 0 } }
			custom_effect_tooltip = conservatism_government_decrease_2_tt
			subtract_from_variable = { social_conservatism_government = 2 }
			clamp_variable = {
				var = social_conservatism_government
				min = 0
				max = 100
			}
		}
		if = {
			limit = {
				has_conservative_government = yes
			}
			decrease_popularity_5 = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			add_relative_party_popularity = yes
			steal_popularity_from_progressives = yes
		}
	}
}

### Bonus events just for having a faction ###

#A small company lists at the stock market
country_event = {
	id = small_medium_business_owners_bonus_events.0
	title = small_medium_business_owners_bonus_events.0.t
	desc = small_medium_business_owners_bonus_events.0.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_bonus_events.0" }
	picture = GFX_internal_faction_business_purchase

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_bonus_events.0.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_bonus_events.0.o1 executed"	#Buy some shares
		ai_chance = { factor = 1 }
		custom_effect_tooltip = TT_SYR_INVEST_IN_FINANCE
		add_to_variable = { treasury = -5 }
		add_to_variable = { int_investments = 5 }
	}
	option = {
		name = small_medium_business_owners_bonus_events.0.o2
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_bonus_events.0.o2 executed"	#Don't buy
		ai_chance = { factor = 1 }
	}
}

#Boom in new companies
country_event = {
	id = small_medium_business_owners_bonus_events.1
	title = small_medium_business_owners_bonus_events.1.t
	desc = small_medium_business_owners_bonus_events.1.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_bonus_events.1" }
	picture = GFX_internal_faction_business_purchase

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_bonus_events.1.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_bonus_events.1.o1 executed"	#Great
		ai_chance = { factor = 1 }
		add_timed_idea = {
			idea = internal_faction_economic_boom
			days = 360
		}
	}
}

### Negative effects if disliked by S&M business owners

#Boom in new companies (needs a hidden event first)
country_event = {
	id = small_medium_business_owners_negative_events.0
	title = small_medium_business_owners_negative_events.0.t
	desc = small_medium_business_owners_negative_events.0.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_negative_events.0" }
	picture = GFX_internal_faction_business_purchase

	is_triggered_only = yes
	trigger = {
		has_idea = small_medium_business_owners
		OR = {
			has_country_flag = negative_small_medium_business_owners
			has_country_flag = hostile_small_medium_business_owners
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = small_medium_business_owners_negative_events.0.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_negative_events.0.o1 executed"	#Damn
		ai_chance = { factor = 1 }
		random_list = {
			20 = {
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 1 } } }
					set_variable = { party_to_be_boosted = 1 }
				}
				else = {
					set_variable = { party_to_be_boosted = 2 }
				}
			}
			20 = {
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 1 } } }
					set_variable = { party_to_be_boosted = 2 }
				}
				else = {
					set_variable = { party_to_be_boosted = 14 }
				}
			}
			20 = {
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 14 } } }
					set_variable = { party_to_be_boosted = 14 }
				}
				else = {
					set_variable = { party_to_be_boosted = 15 }
				}
			}
			20 = {
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 15 } } }
					set_variable = { party_to_be_boosted = 15 }
				}
				else = {
					set_variable = { party_to_be_boosted = 16 }
				}
			}
			20 = {
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 16 } } }
					set_variable = { party_to_be_boosted = 16 }
				}
				else = {
					set_variable = { party_to_be_boosted = 1 }
				}
			}
		}
		ROOT = { country_event = { id = small_medium_business_owners_negative_events.1 } }
	}
}
country_event = {
	id = small_medium_business_owners_negative_events.1
	title = small_medium_business_owners_negative_events.1.t
	desc = small_medium_business_owners_negative_events.1.d
	immediate = { log = "[Get.DateText]: [This.GetName]: small_medium_business_owners_negative_events.1" }
	picture = GFX_internal_faction_political_conflict

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
	}

	option = {
		name = small_medium_business_owners_negative_events.1.o1
		log = "[GetDateText]: [This.GetName]: small_medium_business_owners_negative_events.1.o1 executed"	#Damn
		ai_chance = { factor = 1 }
		if = {
			limit = {
				OR = {
					check_variable = { party_to_be_boosted = 1 }
					check_variable = { party_to_be_boosted = 2 }
				}
			}
			add_popularity = { ideology = democratic popularity = 0.02 }
		}
		if = {
			limit = {
				OR = {
					check_variable = { party_to_be_boosted = 14 }
					check_variable = { party_to_be_boosted = 15 }
					check_variable = { party_to_be_boosted = 16 }
				}
			}
			add_popularity = { ideology = neutrality popularity = 0.02 }
		}
		set_temp_variable = { party_index = party_to_be_boosted }
		set_temp_variable = { party_popularity_increase = 0.02 }
		add_relative_party_popularity = yes
		clear_variable = party_to_be_boosted
	}
}

#FIXME: DC Hey buddy! Here is roughly what I want you to do
#add_namespace = internal_factions_events
##SAMPLE
#country_event = {
#	id = internal_factions_events.1
#	immediate = { }
#	title = internal_factions_events.1.t
#	desc = internal_factions_events.1.d
#	#picture
#	option = {
#
#	}
#}

##INTERNATIONAL BANKERS -- EVENTS
##Positive Events


				##PRIESTHOOD


#The priesthood gets deposed
country_event = {
	id = the_preisthood_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_preisthood_deposed.0" }
	title = the_preisthood_deposed.0.t
	desc = the_preisthood_deposed.0.d
	#picture
	is_triggered_only = yes

	option = {
		name = the_preisthood_deposed.0.a
		log = "[GetDateText]: [This.GetName]: the_preisthood_deposed.0.a executed"
		#ai_chance
		decrease_the_priesthood_opinion = yes
		add_timed_idea = { idea = internal_faction_removed days = 550 }
		add_popularity = { ideology = communism popularity = 0.04 }
	}
}

#Positive priesthood event
country_event = {
	id = the_priesthood_positive_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_priesthood_positive_events.0" }
	title = the_priesthood_positive_events.0.t
	desc = the_priesthood_positive_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_priesthood_positive_events.0.a
			log = "[GetDateText]: [This.GetName]: the_preisthood_positive_events.0.a executed"
			increase_the_priesthood_opinion = yes
		}
}

#semi-positive priesthood event
country_event = {
	id = the_priesthood_positive_events.1
	immediate = { log = "[Get.DateText]: [This.GetName]: the_priesthood_positive_events.1" }
	title = the_priesthood_positive_events.1.t
	desc = the_priesthood_positive_events.1.d
	#picture
	is_triggered_only = yes
		option = {
			log = "[GetDateText]: [This.GetName]: the_preisthood_positive_events.1.a executed"
			name = the_priesthood_positive_events.1.a
			increase_the_priesthood_opinion = yes
		}
}

#negative priesthood event
country_event = {
	id = the_priesthood_negative_events.0
	immediate = { }
	title = the_priesthood_negative_events.0.t
	desc = the_priesthood_negative_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			log = "[GetDateText]: [This.GetName]: the_preisthood_negative_events.0.a executed"
			name = the_priesthood_negative_events.0.a
			decrease_the_priesthood_opinion = yes
		}
}

#semi-negative priesthood event
country_event = {
	id = the_priesthood_negative_events.1
	immediate = { }
	title = the_priesthood_negative_events.1.t
	desc = the_priesthood_negative_events.1.d
	#picture
	is_triggered_only = yes
		option = {
			log = "[GetDateText]: [This.GetName]: the_preisthood_negative_events.1.a executed"
			name = the_priesthood_negative_events.1.a

		}
		option = {
			name = the_priesthood_negative_events.1.b
			log = "[GetDateText]: [This.GetName]: the_preisthood_negative_events.1.b executed"
			decrease_the_priesthood_opinion = yes
		}
}

#bonus priesthood event
country_event = {
	id = the_priesthood_bonus_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_priesthood_bonus_events.0" }
	title = the_priesthood_bonus_events.0.t
	desc = the_priesthood_bonus_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			log = "[Get.DateText]: [This.GetName]: the_priesthood_bonus_events.0.a"
			name = the_priesthood_bonus_events.0.a

		}
}



				##ULEMA



#Ulema deposed
country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}

#Ulema positive event
country_event = {
	id = ulema_positive_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_positive_events.0" }
	title = ulema_positive_events.0.t
	desc = ulema_positive_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_positive_events.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_positive_events.0.a executed"
		}
}

#Ulema semi-positive event
country_event = {
	id = ulema_positive_events.1
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_positive_events.1" }
	title = ulema_positive_events.1.t
	desc = ulema_positive_events.11.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_positive_events.1.a
			log = "[Get.DateText]: [This.GetName]: ulema_positive_events.1.a executed"
		}
}

#Ulema negative event
country_event = {
	id = ulema_negative_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_negative_events.0" }
	title = ulema_negative_events.0.t
	desc = ulema_negative_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_negative_events.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_negative_events.0.a executed"
		}
}

#Ulema semi-negative event
country_event = {
	id = ulema_negative_events.1
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_negative_events.1" }
	title = ulema_negative_events.1.t
	desc = ulema_negative_events.1.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_negative_events.1.a
			log = "[Get.DateText]: [This.GetName]: ulema_negative_events.1.a executed"
		}
}

#Ulema bonus event
country_event = {
	id = ulema_bonus_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_bonus_events.0" }
	title = ulema_bonus_events.0.t
	desc = ulema_bonus_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_bonus_events.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_bonus_events.0.a executed"
		}
}


				##THE CLERGY


#The Clergy deposed
country_event = {
	id = the_clergy_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_deposed.0" }
	title = the_clergy_deposed.0.t
	desc = the_clergy_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_deposed.0.a executed"
		}
}

#The Clergy positive event
country_event = {
	id = the_clergy_positive_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_positive_events.0" }
	title = the_clergy_positive_events.0.t
	desc = the_clergy_positive_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_positive_events.0.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_positive_events.0.a executed"
		}
}

#The Clergy semi-positive event
country_event = {
	id = the_clergy_positive_events.1
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_positive_events.1" }
	title = the_clergy_positive_events.1.t
	desc = the_clergy_positive_events.1.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_positive_events.1.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_positive_events.1.a executed"
		}
}

#The Clergy negative event
country_event = {
	id = the_clergy_negative_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_negative_events.0" }
	title = the_clergy_negative_events.0.t
	desc = the_clergy_negative_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_negative_events.0.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_negative_events.0.a executed"
		}
}

#The Clergy semi-negative event
country_event = {
	id = the_clergy_negative_events.1
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_negative_events.1" }
	title = the_clergy_negative_events.1.t
	desc = the_clergy_negative_events.1.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_negative_events.1.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_negative_events.1.a executed"
		}
}

#The Clergy bonus event
country_event = {
	id = the_clergy_bonus_events.0
	immediate = { log = "[Get.DateText]: [This.GetName]: the_clergy_bonus_events.0" }
	title = the_clergy_bonus_events.0.t
	desc = the_clergy_bonus_events.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = the_clergy_bonus_events.0.a
			log = "[Get.DateText]: [This.GetName]: the_clergy_bonus_events.0.a executed"
		}
}


				##TBD


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}


country_event = {
	id = ulema_deposed.0
	immediate = { log = "[Get.DateText]: [This.GetName]: ulema_deposed.0" }
	title = ulema_deposed.0.t
	desc = ulema_deposed.0.d
	#picture
	is_triggered_only = yes
		option = {
			name = ulema_deposed.0.a
			log = "[Get.DateText]: [This.GetName]: ulema_deposed.0.a executed"
		}
}



country_event = {
  id = internal_factions_events.3
  immediate = { }
  title = internal_factions_events.3.t
  desc = internal_factions_events.3.d
  #picture
  is_triggered_only = yes
  option = {

  }
	is_triggered_only = yes

	option = {
		name = int_fac_deposed.1.a
		log = "[GetDateText]: [This.GetName]: int_fac_deposed.1.a executed"
		add_timed_idea = { idea = internal_faction_removed days = 550 }
	}

  }
