###############################
### POTEF scripted triggers ###
###############################

### POTEF doctrine triggers

EU_member_is_alpine = {
	OR = {
		AUS = { has_idea = EU_member }
		SWI = { has_idea = EU_member }
	}
}

EU_member_is_german = {
	GER = { has_idea = EU_member }
}

EU_member_is_french = {
	FRA = { has_idea = EU_member }
}

EU_member_is_benelux = {
	OR = {
		HOL = { has_idea = EU_member }
		BEL = { has_idea = EU_member }
		LUX = { has_idea = EU_member }
	}
}

EU_member_is_iberian = {
	OR = {
		SPR = { has_idea = EU_member }
		POR = { has_idea = EU_member }
		CAT = { has_idea = EU_member }
	}
}

EU_member_is_british = {
	OR = {
		ENG = { has_idea = EU_member }
		SCO = { has_idea = EU_member }
		WAS = { has_idea = EU_member }
		IRE = { has_idea = EU_member }
	}
}

EU_member_is_nordic = {
	OR = {
		DEN = { has_idea = EU_member }
		NOR = { has_idea = EU_member }
		SWE = { has_idea = EU_member }
		FIN = { has_idea = EU_member }
		ICE = { has_idea = EU_member }
	}
}

EU_member_is_mediterranean = {
	OR = {
		ITA = { has_idea = EU_member }
		MLT = { has_idea = EU_member }
		GRE = { has_idea = EU_member }
		CYP = { has_idea = EU_member }
		SCL = { has_idea = EU_member }
		CRE = { has_idea = EU_member }
	}
}

EU_member_is_balkan = {
	OR = {
		SLV = { has_idea = EU_member }
		CRO = { has_idea = EU_member }
		BOS = { has_idea = EU_member }
		SER = { has_idea = EU_member }
		MNT = { has_idea = EU_member }
		ALB = { has_idea = EU_member }
		FYR = { has_idea = EU_member }
		KOS = { has_idea = EU_member }
	}
}

EU_member_is_black_sea = {
	OR = {
		ROM = { has_idea = EU_member }
		BUL = { has_idea = EU_member }
		MLV = { has_idea = EU_member }
		TUR = { has_idea = EU_member }
		UKR = { has_idea = EU_member }
	}
}

EU_member_is_caucasus = {
	OR = {
		GEO = { has_idea = EU_member }
		ARM = { has_idea = EU_member }
		AZE = { has_idea = EU_member }
	}
}

EU_member_is_visegrad = {
	OR = {
		POL = { has_idea = EU_member }
		CZE = { has_idea = EU_member }
		SLO = { has_idea = EU_member }
		HUN = { has_idea = EU_member }
		BLR = { has_idea = EU_member }
	}
}

EU_member_is_baltic = {
	OR = {
		EST = { has_idea = EU_member }
		LAT = { has_idea = EU_member }
		LIT = { has_idea = EU_member }
	}
}

POTEF_is_alpine = {
	has_idea = EU_president
	OR = {
		original_tag = AUS
		original_tag = SWI
	}
}

POTEF_is_german = {
	has_idea = EU_president
	original_tag = GER
}

POTEF_is_french = {
	has_idea = EU_president
	original_tag = FRA
}

POTEF_is_benelux = {
	has_idea = EU_president
	OR = {
		original_tag = HOL
		original_tag = BEL
		original_tag = LUX
	}
}

POTEF_is_iberian = {
	has_idea = EU_president
	OR = {
		original_tag = SPR
		original_tag = POR
		original_tag = CAT
	}
}

POTEF_is_british = {
	has_idea = EU_president
	OR = {
		original_tag = ENG
		original_tag = SCO
		original_tag = WAS
		original_tag = IRE
	}
}

POTEF_is_nordic = {
	has_idea = EU_president
	OR = {
		original_tag = DEN
		original_tag = NOR
		original_tag = SWE
		original_tag = FIN
		original_tag = ICE
	}
}

POTEF_is_mediterranean = {
	has_idea = EU_president
	OR = {
		original_tag = ITA
		original_tag = MLT
		original_tag = GRE
		original_tag = CYP
		original_tag = SCL
		original_tag = CRE
	}
}

POTEF_is_balkan = {
	has_idea = EU_president
	OR = {
		original_tag = SLV
		original_tag = CRO
		original_tag = BOS
		original_tag = SER
		original_tag = MNT
		original_tag = ALB
		original_tag = FYR
		original_tag = KOS
	}
}

POTEF_is_black_sea = {
	has_idea = EU_president
	OR = {
		original_tag = ROM
		original_tag = BUL
		original_tag = MLV
		original_tag = TUR
		original_tag = UKR
	}
}

POTEF_is_caucasus = {
	has_idea = EU_president
	OR = {
		original_tag = GEO
		original_tag = ARM
		original_tag = AZE
	}
}

POTEF_is_visegrad = {
	has_idea = EU_president
	OR = {
		original_tag = POL
		original_tag = CZE
		original_tag = SLO
		original_tag = HUN
		original_tag = BLR
	}
}

POTEF_is_baltic = {
	has_idea = EU_president
	OR = {
		original_tag = EST
		original_tag = LAT
		original_tag = LIT
	}
}

########################################
### POTEF election scripted triggers ###
########################################
absolute_majority_member_states = {
	set_temp_variable = { temp1 = global.var_EUmemberstatesTotal }
	divide_temp_variable = { temp1 = 2 }
	find_highest_in_array = {
		array = POTEF_winner_array
		value = max_1_tmp
		index = max_index_1_tmp
	}
	check_variable = { max_1_tmp > temp1 }
}

absolute_majority_popular_vote = {
	set_temp_variable = { temp2 = global.POTEF_pop_vote_total }
	divide_temp_variable = { temp2 = 2 }
	find_highest_in_array = {
		array = POTEF_pop_vote_array
		value = max_2_tmp
		index = max_index_2_tmp
	}
	check_variable = { temp2 < max_2_tmp }
}

relative_majority_member_states = {
	find_highest_in_array = {
		array = POTEF_winner_array
		value = max_1_tmp
		index = max_index_1_tmp
	}
}

relative_majority_popular_vote = {
	find_highest_in_array = {
		array = POTEF_pop_vote_array
		value = max_2_tmp
		index = max_index_2_tmp
	}
}