shared_focus = {
    id = CHI_Consider_Electoral_Reform_in_Hong_Kong
    icon = hong_kong_election

    x = 36
    y = 3
    offset = {
        x = -29
        y = -1
        trigger = {
            tag = HKG
        }
    }

    search_filters = { FOCUS_FILTER_STABILITY }

    cost = 5

    available = {
        if = {
            limit = {
                original_tag = HKG 
            }
            is_subject_of = CHI
            OR = {
                has_completed_focus = HKG_support_pro_beijing_camp
                has_completed_focus = HKG_support_pan_democrats
            }
        }
        if = {
            limit = {
                original_tag = CHI
            }
            NOT = {
                has_completed_focus = CHI_Pressure_the_SARs
            }
            OR = {
                has_completed_focus = CHI_Extend_Interpretation_of_the_Systems
                has_completed_focus = CHI_One_System
            }
        }
        # HKG = {
        # }
        # CHI = {
        # }
    }

    bypass = {
        if = {
            limit = {
                original_tag = HKG
            }
            CHI = {
                has_completed_focus = CHI_Consider_Electoral_Reform_in_Hong_Kong
            }
        }
        if = {
            limit = {
                original_tag = CHI
            }
            HKG = {
                has_completed_focus = CHI_Consider_Electoral_Reform_in_Hong_Kong
            }
        }
    }

    completion_reward = {
        CHI = { add_stability = 0.02 }
        HKG = {
            if = {
                limit = {
                    has_country_flag = HKG_electoral_reform_mainland_a
                }
                set_temp_variable = { legco_PE_temp_support = 0.30 }
                set_temp_variable = { legco_PD_temp_support = 0.00 }
                set_temp_variable = { legco_LC_temp_support = 0.00 }
                HKG_legco_votes_initialize = yes
                custom_effect_tooltip = legco_electoral_reform_focus_tt
                custom_effect_tooltip = legco_motion_vote_supports_tt
            }
            else_if = {
                limit = {
                    has_country_flag = HKG_electoral_reform_mainland_b
                }
                set_temp_variable = { legco_PE_temp_support = 0.50 }
                set_temp_variable = { legco_PD_temp_support = 0.30 }
                set_temp_variable = { legco_LC_temp_support = 0.25 }
                HKG_legco_votes_initialize = yes
                custom_effect_tooltip = legco_electoral_reform_focus_tt
                custom_effect_tooltip = legco_motion_vote_supports_tt
            }
            else_if = {
                limit = {
                    has_country_flag = HKG_electoral_reform_mainland_c
                }
                set_temp_variable = { legco_PE_temp_support = 0.55 }
                set_temp_variable = { legco_PD_temp_support = 0.80 }
                set_temp_variable = { legco_LC_temp_support = 0.50 }
                HKG_legco_votes_initialize = yes
                custom_effect_tooltip = legco_electoral_reform_focus_tt
                custom_effect_tooltip = legco_motion_vote_supports_tt
            }
            else = {
                set_country_flag = HKG_electoral_reform_done
                set_temp_variable = { legco_PE_temp_support = 0.80 }
                set_temp_variable = { legco_PD_temp_support = 0.80 }
                set_temp_variable = { legco_LC_temp_support = 0 }
                HKG_legco_votes_initialize = yes
                custom_effect_tooltip = legco_electoral_reform_focus_tt
                custom_effect_tooltip = legco_motion_vote_supports_tt
                CHI = {
                    country_event = {
                        id = hongkong.10
                        days = 3
                    }
                }
            }
        }
        log = "[GetDateText]: [This.GetName]: focus CHI_Consider_Electoral_Reform_in_Hong_Kong executed"
    }

    ai_will_do = {
        base = 0
        modifier = {
            add = 1
            date > 2002.01.01
        }
    }

}

	joint_focus = {
		id = CHI_The_NPCSC_Decision_on_Hong_Kong
		icon = hong_kong

		x = 36
		y = 4
        offset = {
            x = -29
            y = -1
            trigger = {
                tag = HKG
            }
        }

		prerequisite = { focus = CHI_Consider_Electoral_Reform_in_Hong_Kong }

		cost = 5

        joint_trigger = {
            original_tag = CHI
        }

		available = {
            original_tag = CHI
            HKG = { is_subject_of = CHI }
        }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus CHI_The_NPCSC_Decision_on_Hong_Kong executed"
            HKG = {
                
            }
            CHI = {
                if = {
                    limit = { has_start_date < 2016.01.01 }
                    country_event = { id = china.28 }
                }
            }
		}

		ai_will_do = {
			base = 1
		}
	}

	joint_focus = {
		id = CHI_Hong_Kong_Future
		icon = Hong_kong_2047

		x = 36
		y = 5
        offset = {
            x = -29
            y = -1
            trigger = {
                tag = HKG
            }
        }

		prerequisite = { focus = CHI_The_NPCSC_Decision_on_Hong_Kong }

		cost = 5

        joint_trigger = {
            original_tag = CHI
        }

		available = {
            original_tag = CHI
            HKG = { is_subject_of = CHI }
        }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus CHI_Hong_Kong_Future executed"
            HKG = {
                
            }
            CHI = {
                country_event = china.29 
            }
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				date > 2021.01.01
			}
		}
	}

	joint_focus = {
		id = HKG_a_broader_electorate
		icon = election2
		x = 38
		y = 4
        offset = {
            x = -29
            y = -1
            trigger = {
                tag = HKG
            }
        }

		cost = 10

		prerequisite = {focus = CHI_Consider_Electoral_Reform_in_Hong_Kong }

		available = {
            original_tag = HKG
			legco_not_has_a_active_motion = yes
		}

        joint_trigger = {
            original_tag = HKG
        }

		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
            HKG = {
                set_country_flag = HKG_a_broader_electorate_done
                set_temp_variable = { legco_PE_temp_support = 1.00 }
                set_temp_variable = { legco_PD_temp_support = 0.60 }
                set_temp_variable = { legco_LC_temp_support = 0.40 }
                HKG_legco_votes_initialize = yes
                custom_effect_tooltip = legco_a_broader_electorate_focus_tt
                custom_effect_tooltip = legco_motion_vote_supports_tt
            }
            CHI = {
                
            }
			log = "[GetDateText]: [This.GetName]: focus HKG_a_broader_electorate executed"
		}

		ai_will_do = {
			factor = 1
		}
	}

	joint_focus = {
		id = HKG_choose_your_own_puppet
		icon = elections_rigged
		x = 38
		y = 5
        offset = {
            x = -29
            y = -1
            trigger = {
                tag = HKG
            }
        }

		cost = 10

		prerequisite = { focus = HKG_a_broader_electorate }

		available = {
            original_tag = HKG
			legco_not_has_a_active_motion = yes
		}

        joint_trigger = {
            original_tag = HKG
        }

		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
            HKG = {
                
            }
            CHI = {

            }
			log = "[GetDateText]: [This.GetName]: focus HKG_choose_your_own_puppet executed"
		}

		ai_will_do = {
			factor = 1
		}
	}

	joint_focus = {
		id = HKG_a_new_reform_attempt
		icon = authoritarian_democracy2
		x = 38
		y = 6
        offset = {
            x = -29
            y = -1
            trigger = {
                tag = HKG
            }
        }

		cost = 10

		prerequisite = { focus = HKG_choose_your_own_puppet }

        joint_trigger = {
            original_tag = HKG
        }

		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
            HKG = {
                
            }
            CHI = {
                
            }
			log = "[GetDateText]: [This.GetName]: focus HKG_a_new_reform_attempt executed"
		}

		ai_will_do = {
			factor = 1
		}
	}