add_namespace = random_diplo_start

# Start
country_event = {   # Incident 1: The Meh did Meh
	id = random_diplo_start.0
	title = random_diplo_start.0.t
	desc = random_diplo_start.0.d
	picture = GFX_report_event_worker_protests
	
	 is_triggered_only = yes ##############################################REMOVE TO STOP THE SPAM###################
	
    immediate = {
        set_country_flag = random_dip_0_incident_active_flag
    }
    
	mean_time_to_happen = {
		days = 250
		modifier = {
			factor = 2.0
			has_idea = state_press
		}
		modifier = {
			factor = 1.2
			has_idea = censored_press
		}
		modifier = {
			factor = 0.5
			has_idea = accountable_press
		}
		modifier = {
			factor = 0.2
			has_idea = free_press
		}
	}
    
	trigger = {
        has_war = no
        NOT = { original_tag = ISI }
        NOT = { original_tag = SHB }
        NOT = { original_tag = AQY }
        NOT = { original_tag = TAL }
        NOT = { original_tag = TTP }
        NOT = { original_tag = NUS }
        NOT = { has_country_flag = random_dip_0_incident_flag }
        NOT = { has_country_flag = random_dip_1_incident_flag }
	}

	option = {  # Eh. thats nothing.
		name = random_diplo_start.0.a
        ai_chance = { factor = 20 }
        if = {
            limit = {
                has_government = communism
                FROM = { NOT = { has_government = communism } }
            }
            add_popularity = { ideology = communism popularity = 0.025 }
        }
        if = {
            limit = {
                has_government = neutrality
            }
            add_popularity = { ideology = neutrality popularity = 0.025 }
        }
        if = {
            limit = { has_government = Nationalist }
            add_popularity = { ideology = Nationalist popularity = 0.05 }
        }
        random_country = {
            limit = {
				NOT = { original_tag = ISI }
				NOT = { original_tag = SHB }
				NOT = { original_tag = AQY }
				NOT = { original_tag = TAL }
				NOT = { original_tag = TTP }
				NOT = { original_tag = NUS }
                FROM = { has_war = no }
                has_opinion = { target = FROM value > -20 }
                OR = {
                    NOT = { has_country_flag = random_dip_0_incident_flag }
                    NOT = { has_country_flag = random_dip_1_incident_flag }
                }
            }
            set_country_flag = random_dip_0_incident_flag
            country_event = { days = 1 id = random_diplo_start.1 }
        }
	}
	option = {  # Oh no!
		name = random_diplo_start.0.b
        ai_chance = { factor = 80 }
        if = {
            limit = {
                has_government = democratic
                FROM = { has_government = democratic }
            }
            add_popularity = { ideology = democratic popularity = -0.025 }
        }
        if = {
            limit = {
                has_government = communism
                FROM = { has_government = communism }
            }
            add_popularity = { ideology = communism popularity = -0.025 }
        }
        if = {
            limit = {
                has_government = neutrality
                FROM = { has_government = neutrality }
            }
            add_popularity = { ideology = neutrality popularity = -0.025 }
        }
        if = {
            limit = {
                has_government = Nationalist
                FROM = { has_government = Nationalist }
            }
            add_popularity = { ideology = Nationalist popularity = -0.025 }
        }
        
        random_country = {
            limit = {
				NOT = { original_tag = ISI }
				NOT = { original_tag = SHB }
				NOT = { original_tag = AQY }
				NOT = { original_tag = TAL }
				NOT = { original_tag = TTP }
				NOT = { original_tag = NUS }
                FROM = { has_war = no }
                has_opinion = { target = FROM value > -20 }
                OR = {
                    NOT = { has_country_flag = random_dip_0_incident_flag }
                    NOT = { has_country_flag = random_dip_1_incident_flag }
                }
            }
            set_country_flag = random_dip_0_incident_flag
            country_event = { days = 1 id = random_diplo_start.1 }
        }
	}
}
country_event = {   # Incident 1 Meh did Meh against us!
	id = random_diplo_start.1
	title = random_diplo_start.1.t
	desc = random_diplo_start.1.d
	picture = GFX_report_event_worker_protests
	
    is_triggered_only = yes

    immediate   = {
        set_country_flag = random_dip_1_incident_flag
    }
    
	option = { # Unacceptable!
		name = random_diplo_start.1.a
        ai_chance = { factor = 80 }
        if = {
            limit = { has_government = democratic }
            add_popularity = { ideology = democratic popularity = 0.0025 }
        }
        if = {
            limit = { has_government = communism }
            add_popularity = { ideology = communism popularity = 0.0025 }
        }
        if = {
            limit = { has_government = neutrality }
            add_popularity = { ideology = neutrality popularity = 0.0025 }
        }
        if = {
            limit = { has_government = Nationalist }
            add_popularity = { ideology = Nationalist popularity = 0.0025 }
        }
        add_political_power = 10
        add_opinion_modifier = { target = FROM modifier = random_diplo_start_angry }
        FROM = { country_event = { days = 1 id = random_diplo_esc.0 } }
	}
	option = { # Our pride nation have been insulted!
		name = random_diplo_start.1.c
        ai_chance = { factor = 1000 }
        trigger = {
            has_government = Nationalist
        }
        add_political_power = 25
        add_popularity = { ideology = Nationalist popularity = 0.01 }
        add_opinion_modifier = { target = FROM modifier = random_diplo_start_angry_nationalists }
        FROM = { country_event = { days = 1 id = random_diplo_esc.0 } }
	}
	option = { # let it slide.
		name = random_diplo_start.1.b
        ai_chance = { factor = 20 }
        if = {
            limit = { has_government = democratic }
            add_popularity = { ideology = democratic popularity = -0.025 }
        }
        if = {
            limit = { has_government = communism }
            add_popularity = { ideology = communism popularity = -0.025 }
        }
        if = {
            limit = { has_government = neutrality }
            add_popularity = { ideology = neutrality popularity = -0.025 }
        }
        FROM = { country_event = { days = 1 id = random_diplo_end.0 } }
	}
}