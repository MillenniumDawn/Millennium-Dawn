##Author: Some Planet , Int Ivan = 0, alexmarkel0v
#Changelog:
#Mexico Tree v0.1
focus_tree = {
	id = mexico
	country = {
		factor = 0
		modifier = {
			add = 25
			tag = MEX
		}
	}


	focus = {
		id = MEX_sedena
		icon = sedena
		x = 9
		y = 0
		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_sedena"
			add_political_power = 100
		}
		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = MEX_mexican_army
		icon = MEX_The_Mexican_army
		relative_position_id = MEX_sedena
		x = 7
		y = 1

		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_army"
			army_experience = 15
			hidden_effect = {
				MEX = {
   				 	add_dynamic_modifier = {
        				modifier = MEX_the_mexican_army
    				}
    				remove_ideas = MEX_the_mexican_army_idea
				}
			}
		}
		ai_will_do = {
			factor = 0.7
		}
	}

	focus = { 
		id = MEX_millitary_investments
		icon = thompson_submachine_gun
		relative_position_id = MEX_mexican_army 
		x = 0
		y = 1 

		cost = 5

		prerequisite = { focus = MEX_mexican_army }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_millitary_investments"
			
			custom_effect_tooltip = MEX_treasury_increasing_spedning
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 0.25
				uses = 2
				category = Cat_INF
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes
			

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

			
			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_org_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap_modifier value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			
		}
		ai_will_do = {
			factor = 0.5
		}
	}
	focus = { 
		id = MEX_granjas_militares
		icon = soldier
		relative_position_id = MEX_millitary_investments 
		x = -2
		y = 1 

		cost =	5

		prerequisite = { focus = MEX_millitary_investments }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_granjas_militares"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_ideas = {
				MEX_granjas_militares
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

			#Additinal Expenses			
			set_variable = {mexico_expenses = gdp_total_display }
			multiply_variable = { mexico_expenses = 0.001 }
			divide_variable = { mexico_expenses = 0.95 }
			add_to_variable = { additional_expenses_rate = mexico_expenses }
		}
		ai_will_do = {
			factor = 0.1
		}
		
	}

	focus = { 
		id = MEX_dgfave
		icon = soldiers2
		relative_position_id = MEX_granjas_militares 
		x = 0
		y = 1 

		cost = 5

		prerequisite = { focus = MEX_granjas_militares }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_dgfave"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = cnc_bonus
				bonus = 0.5
				uses = 1
				category = Cat_CnC
			}
			add_tech_bonus = {
				name = clothing_bonus
				bonus = 0.5
				uses = 1
				technology = body_armor_1980
				technology = body_armor_2000
				technology = body_armor_2010
				technology = body_armor_2030
				technology = camouflage
				technology = camouflage2
				technology = camouflage3
				technology = camouflage4
				technology = camouflage5
				technology = camouflage5
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

		}
		ai_will_do = {
			factor = 0.7
		}
		
	}

	focus = { 
		id = MEX_xiuhcoatl
		icon = xiuhcoatl
		relative_position_id = MEX_mexican_army 
		x = 2
		y = 1

		cost = 5

		prerequisite = { focus = MEX_mexican_army }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = { mex_increase_speding = 0 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_xiuhcoatl"

			custom_effect_tooltip = MEX_treasury_increasing_spedning
			
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.70
				uses = 1
				category = Cat_INF_WEP
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_org_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap_modifier value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.5
		}
		
	}
	

	focus = { 
		id = MEX_artillery_effort
		icon = artillery
		relative_position_id = MEX_xiuhcoatl 
		x = 0
		y = 1

		cost = 5

		prerequisite = { focus = MEX_xiuhcoatl }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = { mex_increase_speding = 0 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_artillery_effort"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 2
				category = Cat_ARTY
			}		
			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

			#Reform Mexican Army
			custom_effect_tooltip = MEX_army_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.1
		}
		
	}

	focus = { 
	id = MEX_dn_xi
	icon = dn_xi
		relative_position_id = MEX_millitary_investments 
		x = 0
		y = 1

		cost = 5

		prerequisite = { focus = MEX_millitary_investments }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_dn_xi"
						
			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_UTIL
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.35
		}
		
	}

	focus = { 
	id = MEX_vrc_tt_apc
	icon = vrc_tt
		relative_position_id = MEX_dn_xi 
		x = 0
		y = 1

		cost = 5

		prerequisite = { focus = MEX_dn_xi }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_vrc_tt_apc"
			
			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_APC
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding

			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_org_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap_modifier value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip

		}
		ai_will_do = {
			factor = 0.20
		}
		
	}	

	focus = { 
	id = MEX_seneda_vehicle
	icon = MEX_SEDENA_IFV
		relative_position_id = MEX_dn_xi 
		x = 2
		y = 1

		cost = 5

		prerequisite = { focus = MEX_dn_xi }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_seneda_vehicle"
			
			custom_effect_tooltip = MEX_treasury_increasing_spedning
			
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_IFV
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_org_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap_modifier value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.40
		}
		
	}	
	focus = { 
	id = MEX_tank_program
	icon = tanks5
		relative_position_id = MEX_vrc_tt_apc 
		x = 1
		y = 1

		cost = 5

		prerequisite = { focus = MEX_vrc_tt_apc
						 focus = MEX_seneda_vehicle }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}
			
		completion_reward = {	
			log = "[GetDateText]: [Root.GetName]: Focus MEX_tank_program"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			
									
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_MBT
			}
			
			hidden_effect = {
				unlock_decision_category_tooltip = MEX_millitary_spending_category
				unlock_decision_tooltip = MEX_tank_programs
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -40 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Army
			add_to_variable = { var = MEX_army_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor_modifier value = -0.05 }
			add_to_variable = { var = MEX_org_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap_modifier value = 0.2 }
			add_to_variable = { var = MEX_attrition_modifier value = -0.05 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			custom_effect_tooltip = MEX_tank_programs_desicions
		}
		ai_will_do = {
			factor = 0
		}
		
	}

	focus = {
		id = MEX_mexican_navy
		icon = MEX_The_Mexican_navy
		
		relative_position_id = MEX_sedena
		x = 0
		y = 1
		
		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_navy"
			navy_experience = 15
			hidden_effect = {
				MEX = {
   				 	add_dynamic_modifier = {
        				modifier = MEX_the_mexican_navy
    				}
    				remove_ideas = MEX_the_mexican_navy_idea
				}
			}
		}
		ai_will_do = {
			factor = 0.3
		}		
	}
	focus = {
		id = MEX_modernize_frigates
		icon = frigates
		
		relative_position_id = MEX_mexican_navy
		x = -2
		y = 1
		
		cost = 5

		prerequisite = { focus = MEX_mexican_navy }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_modernize_frigates"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.50
				uses = 1
				category = Cat_FRIGATE
			}
			hidden_effect = {
				unlock_decision_category_tooltip = MEX_navy_spending_category
				unlock_decision_tooltip = MEX_navy_programs
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -20 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Nrmy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_submarine_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.1 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.2
		}
		
	}

	focus = {
		id = MEX_submarine_effort
		icon = submarines
		
		relative_position_id = MEX_mexican_navy
		x = 0
		y = 1
		
		cost = 5

		prerequisite = { focus = MEX_mexican_navy }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_submarine_effort"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.50
				uses = 1
				category = Cat_SUB
			}
			#Subtract Money	
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Navy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_submarine_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.1 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.2
		}
		
	}

	focus = {
		id = MEX_arm_Reformador
		icon = arm_Reformador
		
		relative_position_id = MEX_submarine_effort
		x = -1
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_submarine_effort
		}
		prerequisite = {
			focus = MEX_modernize_frigates
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_submarine_effort"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.80
				uses = 1
				category = Cat_FRIGATE
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -20 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Navy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_submarine_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.1 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
		}
		ai_will_do = {
			factor = 0.2
		}
		
	}

	focus = {
		id = MEX_build_dockyards
		icon = naval_industry
		
		relative_position_id = MEX_mexican_navy
		x = 2
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_mexican_navy
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_build_dockyards"

			#Subtract Money	
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes

			837 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			836 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			838 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			840 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			831 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		
	}

	focus = {
		id = MEX_coastal_defences
		icon = coastal_fort	
		
		relative_position_id = MEX_build_dockyards
		x = 1
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_build_dockyards
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_coastal_defences"

			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			837 = {
				add_building_construction = {
					type = coastal_bunker
					province = 10730
					level = 1
					instant_build = yes				
				}
			}
				
			838 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12810
					level = 1
					instant_build = yes					
				}
			}
			828 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12461
					level = 1
					instant_build = yes					
				}
			}
			840 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12715
					level = 1
					instant_build = yes	
				}
			}
			831 = {
				add_building_construction = {
					type = coastal_bunker
					province = 10895
					level = 1
					instant_build = yes	
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		
	}

	focus = {
		id = MEX_unaprop
		icon = amphibious_assault	
		
		relative_position_id = MEX_build_dockyards
		x = -1
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_build_dockyards
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}


		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_unaprop"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_ideas = {
				MEX_improved_marines_training
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Navy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_submarine_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.1 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
		}
		ai_will_do = {
			factor = 0
		}
		
	}

	focus = {
		id = MEX_expand_the_naval_budget
		icon = naval_upgrade	
		
		relative_position_id = MEX_unaprop
		x = -1
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_unaprop
		}
		prerequisite = { 
			focus = MEX_arm_Reformador
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_expand_the_naval_budget"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.35
				uses = 2
				category = Cat_SURFACE_SHIP
				category = Cat_SUB
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -25 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Navy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.1 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.1 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_carrier_program
		icon = carriers2	
		
		relative_position_id = MEX_expand_the_naval_budget
		x = 0
		y = 1
		
		cost = 5

		prerequisite = { 
			focus = MEX_expand_the_naval_budget
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		select_effect = {
			#Add Additional Expenses
			set_variable = {mex_increase_speding = 0}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_expand_the_naval_budget"

			custom_effect_tooltip = MEX_treasury_increasing_spedning

			hidden_effect = {
				unlock_decision_category_tooltip = MEX_millitary_spending_category
				unlock_decision_tooltip = MEX_navy_programs
			}

			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.50
				uses = 1
				category = Cat_CARRIER
			}

			#Subtract Money	
			set_temp_variable = { treasury_change = -50 }
			modify_treasury_effect = yes

			#Remove Additional Expenses
			clear_variable = mex_increase_speding
			
			#Reform Mexican Navy
			add_to_variable = { var = MEX_experience_gain_navy_factor_modifier value = 0.1 }
			add_to_variable = { var = MEX_navy_capital_ship_attack_factor_modifier value = 0.1 }
			add_to_variable = { var = MEX_navy_screen_attack_factor_modifier value = 0.1 }
			add_to_variable = { var = MEX_navy_submarine_attack_factor_modifier value = 0.05 }
			add_to_variable = { var = MEX_navy_carrier_air_attack_factor_modifier value = 0.2 }
			custom_effect_tooltip = MEX_navy_reforming_tooltip
			custom_effect_tooltip = MEX_navy_programs_desicions
		}
		ai_will_do = {
			factor = 0
		}
		
	}


	focus = { 
	id = MEX_mexican_air_force 
	icon = MEX_The_Mexican_air_force
		relative_position_id = MEX_sedena 
		x = -5 
		y = 1 

		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_air_force"
			air_experience = 15
		}
		ai_will_do = {
			factor = 0.4
		}
		
	}
}