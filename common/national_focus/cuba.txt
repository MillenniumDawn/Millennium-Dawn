#Author: KurtFF8
#Project Started: July 2022

focus_tree = {
	id = cuba_focus
	continuous_focus_position = { x = 100 y = 1050 } 
	country = {
		factor = 0
		modifier = {
			add = 20
			tag = CUB
		}
	}

	#Political Focuses
	#Cuba's Future
	focus = {
		id = CUB_cubafuture
		icon = Election_graphics
		x = 15
		y = 0
		cost = 5
		mutually_exclusive = { focus = CUB_new_path }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		select_effect = { }
		completion_reward = {
			add_political_power = 100
			
			
		}
	}	
	#Cuban Socialism
	
	focus = {
		id = CUB_cuban_socialism
		x = 10
		y = 1
		cost = 10
		mutually_exclusive = { focus = CUB_new_path }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
            add_popularity = {
                ideology = communism
                popularity = 0.05
				#! Testing this mechanic
				add_to_variable = {
					var = cub_sub_threat
					value = -5
				}
            }			
			
		}
		prerequisite = { focus = CUB_cubafuture  }
	}

	#Overcoming the Special Period
	#This will be tied to a temporary national spirit about the SP
	#Need to have this add one or two factories in Cuba, not france
	focus = {
		id = CUB_end_sp
		x = -4
		y = 1
		relative_position_id = CUB_cuban_socialism
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = 1 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
		}
			add_stability = 0.02
		}
		prerequisite = { focus = CUB_cuban_socialism  }
	}
	
	#Revitalization via Tourism mutually exclusive with rectification
	focus = {
		id = CUB_revi_tour
		x = -1
		y = 1
		relative_position_id = CUB_end_sp
		cost = 10
		mutually_exclusive = { focus = CUB_rect_camp }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
		}
		prerequisite = { focus = CUB_end_sp  }
	}
	
	#Tolerate some small business
	focus = {
		id = CUB_tol_smallb
		x = 0
		y = 1
		relative_position_id = CUB_revi_tour
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			#This needs to be fixed?
			swap_ideas = {
				remove_idea = labour_unions
				add_idea = small_medium_business_owners
			}			
		}
		prerequisite = { focus = CUB_revi_tour  }
	}
	#Discuss more market reforms
	focus = {
		id = CUB_markettalk
		x = 1
		y = 1
		relative_position_id = CUB_tol_smallb
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
		}
		prerequisite = { focus = CUB_tol_smallb  }
	}
	#Agricultural Co-ops
	focus = {
		id = CUB_agri_coops
		icon = agriculture2
		x = -1
		y = 1
		relative_position_id = CUB_tol_smallb
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
		}
		prerequisite = { focus = CUB_tol_smallb  }
	}	
	

	#Rectification
	focus = {
		id = CUB_rect_camp
		icon = labor_unions
		x = 2
		y = 1
		cost = 10
		relative_position_id = CUB_end_sp
		mutually_exclusive = { focus = CUB_rev_tour }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
		}
		prerequisite = { focus = CUB_end_sp  }
	}
		

		
	#Criticize Tourism
		focus = {
		id = CUB_crit_tourism

		x = 1
		y = 1
		relative_position_id = CUB_rect_camp

		cost = 10

		prerequisite = { focus = CUB_rect_camp  }
		ai_will_do = {
			factor = 0
		}
	}
	#Maintain State Agriculture
		focus = {
		id = CUB_state_agri
		icon = agriculture

		x = -1
		y = 1
		relative_position_id = CUB_rect_camp

		cost = 10

		prerequisite = { focus = CUB_rect_camp  }
		ai_will_do = {
			factor = 0
		}
	}
	#Crack down on illegal business
		focus = {
		id = CUB_crackon_biz

		x = 0
		y = 1
		relative_position_id = CUB_crit_tourism

		cost = 10

		prerequisite = { focus = CUB_crit_tourism  }
		ai_will_do = {
			factor = 1
		}
	}

	#Another sub tree of Cuban Socialism
	#Primacy of the PCC
	focus = {
		id = CUB_prime_pcc
		x = 0
		y = 1
		relative_position_id = CUB_cuban_socialism
		cost = 10
		#mutually_exclusive = { focus = CUB_NAME FOR Multiparty }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_popularity = { 
			ideology = communism 
			popularity = 0.01 
			}
		
		}
		prerequisite = { focus = CUB_cuban_socialism  }
	}	

	
	#Battle of Ideas
	focus = {
		id = CUB_battle_ideas
		x = 2
		y = 1
		relative_position_id = CUB_prime_pcc
		prerequisite = { focus = CUB_prime_pcc }
		prerequisite = { focus = CUB_end_sp  } 
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = democratic
				popularity = 0.05
				}
			add_popularity = {
				ideology = communism
				popularity = 0.05
				}			
				
		}

	}
	
	#Religious Question
	focus = {
		id = CUB_rel_quest
		x = 4
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_battle_ideas  }
	}
	#Atheism
	focus = {
		id = CUB_atheist
		icon = christianophobia
		x = -1
		y = 1
		relative_position_id = CUB_rel_quest
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_rel_quest  }
	}
	#Ban Church
	focus = {
		id = CUB_ban_church
		x = 0
		y = 1
		relative_position_id = CUB_atheist
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_atheist  }
	}	
	#Aproach the Church
	focus = {
		id = CUB_approach_church
		x = 1
		y = 1
		relative_position_id = CUB_rel_quest
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_rel_quest  }
	}
	#Santeria
	focus = {
		id = CUB_santer
		x = 0
		y = 1
		relative_position_id = CUB_approach_church
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_approach_church  }
	}		
	#Palpal Visit
	focus = {
		id = CUB_pope_visit
		x = 0
		y = 1
		relative_position_id = CUB_santer
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_santer }
	}	
	#Ratify Socialism - Parl Socialism
	focus = {
		id = CUB_parl_soc
		x = 1
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes			
		}
		prerequisite = { focus = CUB_battle_ideas  }
	}	
	#Strengthen CDRs
	focus = {
		id = CUB_st_cdrs
		x = -1
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_CDR_Mobilize
		}
		prerequisite = { focus = CUB_battle_ideas  }
	}
	#Let Us Be Like Che!
	focus = {
		id = CUB_belike_che
		x = 0
		y = 2
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_parl_soc  }
		prerequisite = { focus = CUB_st_cdrs  }
	}
	#Social Media and internet
	
	#Control Internet
	focus = {
		id = CUB_internet_control
		x = -1
		y = 1
		relative_position_id = CUB_belike_che
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_belike_che }
	}
	#Deals w Venezuela
	focus = {
		id = CUB_int_ven_deal
		x = -2
		y = 1
		relative_position_id = CUB_internet_control
		cost = 10
		mutually_exclusive = { focus = CUB_domestic_internet }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_internet_control }
	}		
	#Domest Internet Tech
	focus = {
		id = CUB_domestic_internet
		x = 0
		y = 1
		relative_position_id = CUB_internet_control
		cost = 10
		mutually_exclusive = { focus = CUB_int_ven_deal }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_internet_control }
	}			
	#Open Internet
	focus = {
		id = CUB_internet_open
		x = 1
		y = 1
		relative_position_id = CUB_belike_che
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_belike_che }
	}	
	#European ISPs
	focus = {
		id = CUB_euro_isps
		x = 0
		y = 1
		relative_position_id = CUB_internet_open
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_internet_open }
	}		
	
	
		
		
		
	#New Path
	focus = {
		id = CUB_new_path
		
		x = 10
		y = 0
		relative_position_id = CUB_cuban_socialism
		cost = 5
		mutually_exclusive = { focus = CUB_cuban_socialism }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_cubafuture  }		
	}
		
	#Capitalist/Pro-Western Path
		focus = {
		id = CUB_pro_west
		x = 0
		y = 1
		relative_position_id = CUB_new_path
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		prerequisite = { focus = CUB_new_path  }
		completion_reward = {
			add_political_power = -100
			
			
		}
		
	}
	
	#International Relations
	

		focus = {
		id = CUB_Intl_Rel
		icon = global_community

		x = 20
		y = -1
		relative_position_id = CUB_cuban_socialism

		cost = 10

		ai_will_do = {
			factor = 1
		}
	}		
	#US Relations
	#To add: Cuban 5 Content, Embargo Content, Guantanamo conent
	#War on terror content if US has done so 
		focus = {
		id = CUB_USRel

		x = 7
		y = 1
		relative_position_id = CUB_Intl_Rel

		cost = 10
		prerequisite = { focus = CUB_Intl_Rel  }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
		}	
		}
	}
	#Guantanamo 
		focus = {
		id = CUB_Gitmo

		x = 3
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
		}	
		}
	}
	#Rally support to condemn blockade
		focus = {
		id = CUB_CondemnUS

		x = -1
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
		}	
	}
	#Rally support to condemn blockade
		focus = {
		id = CUB_Demand_Block_Payment

		x = 0
		y = 1
		relative_position_id = CUB_CondemnUS

		cost = 10
		prerequisite = { focus = CUB_CondemnUS  }

		ai_will_do = {
			factor = 1
		}	
	}
	#Demand release of the 5
		focus = {
		id = CUB_DemandThe5

		x = 1
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
		}	
	}
	#Latin America
		focus = {
		id = CUB_Latin_Am_Rel

		x = -6
		y = 1
		relative_position_id = CUB_Intl_Rel

		cost = 10
		prerequisite = { focus = CUB_Intl_Rel  }

		ai_will_do = {
			factor = 1
		}	
	}
	#Host the FARC - This will need work if internal conflict dynamics are added
		focus = {
		id = CUB_FARC_RR

		x = 2
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel }
		
		completion_reward = {
			COL = {
				add_opinion_modifier = { target = ROOT modifier = rebel_support }
			}
		}
		ai_will_do = {
			factor = 1
		}	
	}
	#Support Bolivian Left
		focus = {
		id = CUB_Support_Bol_Left

		x = -2
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel  }

		ai_will_do = {
			factor = 1
		}	
	}
	#ALB
	#Strengthen Ties with Venezuela
		focus = {
		id = CUB_Ven_Ties

		x = 0
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel }
		
		completion_reward = {
			add_opinion_modifier = { target = VEN modifier = declaration_of_friendship }
			VEN = {
				add_opinion_modifier = { target = ROOT modifier = declaration_of_friendship }
			}
		}
		ai_will_do = {
			factor = 1
		}	
	}
	#ALBA
		focus = {
		id = CUB_ALBA

		x = 0
		y = 1
		relative_position_id = CUB_Ven_Ties

		cost = 10
		prerequisite = { focus = CUB_Ven_Ties }

		ai_will_do = {
			factor = 1
		}	
	}
	#ALBA - Economic
		focus = {
		id = CUB_ALBA_Econ

		x = -1
		y = 1
		relative_position_id = CUB_ALBA

		cost = 10
		prerequisite = { focus = CUB_ALBA}
		mutually_exclusive = { focus = CUB_ALBA_Mili }

		ai_will_do = {
			factor = 1
		}	
	}
	#PetroCaribe
		focus = {
		id = CUB_petro_car

		x = -1
		y = 1
		relative_position_id = CUB_ALBA_Econ

		cost = 10
		prerequisite = { focus = CUB_ALBA_Econ }

		ai_will_do = {
			factor = 1
		}	
	}
	#ALBA - Military
		focus = {
		id = CUB_ALBA_Mili

		x = 1
		y = 1
		relative_position_id = CUB_ALBA

		cost = 10
		prerequisite = { focus = CUB_ALBA}
		mutually_exclusive = { focus = CUB_ALBA_Econ }

		ai_will_do = {
			factor = 1
		}	
	}

	#ELAM - Add improved relations with some countries and perhaps manpower or health changes
		focus = {
		id = CUB_ELAM
		
		x = 0
		y = 1
		relative_position_id = CUB_Intl_Rel		
		
		cost = 10
		
		prerequisite = { focus = CUB_Intl_Rel }

		completion_reward = {
			add_political_power = 10		
		}
		ai_will_do = {
			factor = 1
		} 
	}
	#Medical Internationalism
		focus = {
		id = CUB_Med_Int

		x = 0
		y = 1
		relative_position_id = CUB_ELAM

		cost = 10
		prerequisite = { focus = CUB_ELAM  }
		
		completion_reward = {
			add_political_power = 10
			set_country_flag = CUB_MedDes
		}

		ai_will_do = {
			factor = 1
		}	
	}
	#Medical Mission to Venezuela - will reduce manpower slightly but increase budget. In the case of Venezuela only maybe add factory as well.
		focus = {
		id = CUB_Med_Ven

		x = -2
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			VEN = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB
					has_opinion = {
						target = CUB
						value > 19
					}
				}
			}
			VEN = { exists = yes }
			VEN = { NOT = { has_war_with = CUB } }
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Ven_Med
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = VEN }
			change_influence_percentage = yes			
		}

		ai_will_do = {
			factor = 1
		}	
	}
	#Medical Mission to Haiti
		focus = {
		id = CUB_Med_Haiti

		x = 0
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Haiti_Med
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = HAI }
			change_influence_percentage = yes			
		}
		ai_will_do = {
			factor = 1
		}	
	}
	#Medical Mission to Bolivia
		focus = {
		id = CUB_Med_Bolivia

		x = 2
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			BOL = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB

				}
			}
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Bolivia_Brig
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = BOL }
			change_influence_percentage = yes			
		}
		ai_will_do = {
			factor = 1
		}	
	}
	#Medical Mission to South Africa
		focus = {
		id = CUB_Med_SA

		x = 4
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			SAF = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB

				}
			}
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_SA_Brig
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = SAF }
			change_influence_percentage = yes			
		}
		ai_will_do = {
			factor = 1
		}	
	}

	#Succession Tree
	focus = {
		id = CUB_Succession_Question

		x = -5
		y = 5
		relative_position_id = CUB_Med_Int

		cost = 10
		available = {
			has_government = communism
            NOT = {
                has_country_leader = {
                    name = "Fidel Castro"
                    ruling_only = yes
                }
            }
		 #	 Will need a flag for Fidel not in power any more, seperate event for death for historical
         #   has_country_flag = Kim_Jong_il_Death_tt
		}

		ai_will_do = {
			factor = 1
		}	
	}
	#Raul Castro
	focus = {
		id = CUB_Raul

		x = 0
		y = 1
		relative_position_id = CUB_Succession_Question

		cost = 10
		prerequisite = { focus = CUB_Succession_Question  }

		ai_will_do = {
			factor = 1
		}	
	}
	#Raul - Economic Reforms
	focus = {
		id = CUB_Raul_Economic_Reforms

		x = 1
		y = 2
		relative_position_id = CUB_Raul

		cost = 10
		prerequisite = { focus = CUB_Raul  }

		ai_will_do = {
			factor = 1
		}	
	}	
	#Raul - Social Reforms
	focus = {
		id = CUB_Raul_Social_Reforms

		x = -1
		y = 1
		relative_position_id = CUB_Raul

		cost = 10
		prerequisite = { focus = CUB_Raul  }

		ai_will_do = {
			factor = 1
		}	
	}	
	#Lift Exit Permits
	focus = {
		id = CUB_Raul_Lift_Exit

		x = -1
		y = 1
		relative_position_id = CUB_Raul_Social_Reforms

		cost = 10
		prerequisite = { focus = CUB_Raul_Social_Reforms  }

		ai_will_do = {
			factor = 1
		}	
	}	
	#Lift Hotel Ban
	focus = {
		id = CUB_Raul_Lift_Hotel

		x = 1
		y = 1
		relative_position_id = CUB_Raul_Social_Reforms

		cost = 10
		prerequisite = { focus = CUB_Raul_Social_Reforms  }

		ai_will_do = {
			factor = 1
		}	
	}	

	#6th Party Congress
	#focus = {
	#	id = CUB_6_PCC
#
#		x = 0
#		y = 1
#		relative_position_id = CUB_Succession_Question
#
#		cost = 10
#		prerequisite = { focus = CUB_Succession_Question }
#		available = {
#		date > 2011.1.1
#	}
#		ai_will_do = {
#			factor = 1
#		}	
#	}




### Military Tree, taken from Generic

	focus = {
		id = CUB_military_start
		
		x = 55
		y = 0
		
		cost = 10
		completion_reward = {		
			add_political_power = 100
		}
		ai_will_do = {
			factor = 1
		}
	}


#Naval Reform
	focus = {
		id = CUB_naval_reform
		icon = navy

		x = 49
		y = 1

		cost = 10
		prerequisite = { focus = CUB_military_start  }
		search_filters = {FOCUS_FILTER_INTERNAL_FACTION}
		available = { any_owned_state = { is_coastal = yes } }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_reform"
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = CUB_naval_reform
				category = Cat_naval_doctrine
				uses = 1
				cost_reduction = 0.5
			}
			set_temp_variable = { temp_opinion = 5 }
			change_maritime_industry_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_naval_bases
		icon = navy2

		x = -3
		y = 1
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_FACTION}
		prerequisite = { focus = CUB_naval_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_bases"
			set_temp_variable = { treasury_change = -7.5 }
			modify_treasury_effect = yes
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			set_temp_variable = { temp_opinion = 5 }
			change_maritime_industry_opinion = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				disabled_ai_unit_list = yes
			}
		}
	}
	focus = {
		id = CUB_submarines
		icon = submarines

		x = -1
		y = 1
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_naval_reform }
		available = { num_of_naval_factories > 3 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_submarines"
			add_tech_bonus = {
				name = Cat_SUB
				uses = 2
				bonus = 0.5
				category = Cat_SUB
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_surface_ships
		icon = frigates

		x = 1
		y = 1
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_naval_reform }
		available = { num_of_naval_factories > 3 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_surface_ships"
			add_tech_bonus = {
				name = Cat_SURFACE_SHIP
				uses = 2
				bonus = 0.5
				category = Cat_SURFACE_SHIP
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_dockyards
		icon = naval_dockyard

		x = -4
		y = 2
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_FACTION}
		prerequisite = { focus = CUB_naval_bases }

		available = {
			num_of_factories > 0
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_dockyards"
			if = {
				limit = {
					num_of_factories < 10
				}
				set_temp_variable = { treasury_change = -7.5 }
				modify_treasury_effect = yes
				random_owned_state = {
					limit = { is_coastal = yes }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				set_temp_variable = { treasury_change = -15 }
				modify_treasury_effect = yes
				random_owned_state = {
					limit = { is_coastal = yes }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				random_owned_state = {
					limit = { is_coastal = yes }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			set_temp_variable = { temp_opinion = 5 }
			change_maritime_industry_opinion = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				disabled_ai_unit_list = yes
			}
		}
	}
	focus = {
		id = CUB_nuclear_submarines
		icon = wolfpacks

		x = -2
		y = 2
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_submarines }
		available = { num_of_naval_factories > 7 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_nuclear_submarines"
			add_tech_bonus = {
				name = Cat_NUKE_SUB
				uses = 2
				bonus = 0.5
				category = Cat_NUKE_SUB
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_naval_doctrine_innovations
		icon = naval_upgrade

		x = 0
		y = 2
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_naval_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_doctrine_innovations"
			add_doctrine_cost_reduction = {
				name = CUB_naval_doctrine_innovations
				category = Cat_naval_doctrine
				uses = 2
				cost_reduction = 0.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_aircraft_carriers
		icon = carriers2

		x = 2
		y = 2
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_surface_ships }
		prerequisite = { focus = CUB_fighter_planes }
		available = { num_of_naval_factories > 5 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_aircraft_carriers"
			add_tech_bonus = {
				name = CUB_aircraft_carriers
				uses = 2
				bonus = 0.5
				category = Cat_CARRIER
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = CUB_naval_doctrine_expertise
		icon = naval_doctrine

		x = 0
		y = 3
		relative_position_id = CUB_naval_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_naval_doctrine_innovations }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_doctrine_expertise"
			add_doctrine_cost_reduction = {
				name = CUB_naval_doctrine_expertise
				category = Cat_naval_doctrine
				uses = 2
				cost_reduction = 0.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Air Force Reform
	focus = {
		id = CUB_air_force_reform
		icon = air_force

		x = 54
		y = 1

		cost = 10
		prerequisite = { focus = CUB_military_start  }
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_air_force_reform"
			air_experience = 25
			add_tech_bonus = {
				name = CUB_air_force_reform
				uses = 1
				bonus = 0.25
				category = Cat_AIR_EQP
			}
			add_doctrine_cost_reduction = {
				name = CUB_air_force_reform
                category = air_doctrine
                uses = 1
                cost_reduction = 0.15
            }
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_fighter_planes
		icon = fighter_plane

		x = -1
		y = 1
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_air_force_reform }
		available = { num_of_military_factories > 3 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_fighter_planes"
			add_tech_bonus = {
				name = CUB_fighter_planes
				uses = 2
				bonus = 0.5
				category = CAT_FIXED_WING
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_air_doctrine_innovations
		icon = air_doctrine

		x = 1
		y = 1
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = {
			focus = CUB_air_force_reform
			focus = CUB_military_emergency
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_air_doctrine_innovations"
			add_doctrine_cost_reduction = {
				name = CUB_air_doctrine_innovations
				category = air_doctrine
				uses = 1
				cost_reduction = 0.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_countermeasures_against_aircraft
		icon = naval_bombers

		x = 0
		y = 2
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = {
			focus = CUB_fighter_planes
			focus = CUB_air_doctrine_innovations
		}
		available = { num_of_military_factories > 4 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_countermeasures_against_aircraft"
			add_tech_bonus = {
				name = Cat_AA
				uses = 2
				bonus = 0.5
				category = Cat_AA
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_bomber_planes
		icon = modern_bomber

		x = -1
		y = 3
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_fighter_planes }
		available = { num_of_military_factories > 5 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_bomber_planes"
			add_tech_bonus = {
				name = Cat_STR_BOMBER
				uses = 2
				bonus = 0.5
				category = Cat_STR_BOMBER
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_drones
		icon = drone2

		x = 1
		y = 3
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_air_doctrine_innovations }
		prerequisite = { focus = CUB_infantry_equipment_development }
		available = { num_of_military_factories > 3 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_drones"
			add_tech_bonus = {
				name = CUB_drones
				uses = 2
				bonus = 0.5
				category = Cat_L_DRONE
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_air_doctrine_expertise
		icon = air_doctrine

		x = 0
		y = 4
		relative_position_id = CUB_air_force_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_countermeasures_against_aircraft }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_air_doctrine_expertise"
			add_doctrine_cost_reduction = {
				name = CUB_air_doctrine_expertise
                category = air_doctrine
                uses = 2
                cost_reduction = 0.5
            }
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Army Reform
	focus = {
		id = CUB_army_reform
		icon = infantry_allies

		x = 60
		y = 1

		cost = 10
		prerequisite = { focus = CUB_military_start  }
		available = { NOT = { has_idea = no_military } }
		search_filters = { FOCUS_FILTER_EXPENDITURE }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_army_reform"
			army_experience = 25
			add_command_power = 20
			increase_military_spending = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_military_emergency
		icon = tanks2

		x = -3
		y = 0
		relative_position_id = CUB_army_reform

		cost = 2

		available = {
			OR = {
				has_defensive_war = yes
				surrender_progress > 0.05
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_military_emergency"
			army_experience = 20
			air_experience = 20
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = CUB_military_emergency
		icon = soliger_plain

		x = -2
		y = 1
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = {
			focus = CUB_army_reform
			focus = CUB_military_emergency
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_military_emergency"
			add_doctrine_cost_reduction = {
				name = CUB_military_emergency
				category = land_doctrine
				uses = 2
				cost_reduction = 0.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_military_exercises
		icon = army_reform

		x = 0
		y = 1
		relative_position_id = CUB_army_reform

		cost = 10

		prerequisite = { focus = CUB_army_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_military_exercises"
			army_experience = 50
			add_war_support = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_military_education_reform
		icon = recruitment

		x = 2
		y = 1
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_MILITARY_LAWS}
		prerequisite = { focus = CUB_army_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_military_education_reform"
			increase_officer_training_level = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_infantry_equipment_development
		icon = small_arms2

		x = -3
		y = 2
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_military_emergency }
		available = { num_of_military_factories > 2 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_infantry_equipment_development"
			add_tech_bonus = {
				name = CUB_infantry_equipment_development
				uses = 2
				bonus = 0.5
				category = Cat_INF_WEP
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_land_doctrine_expertise
		icon = army_doctrine

		x = -1
		y = 2
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_military_emergency }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_land_doctrine_expertise"
			add_doctrine_cost_reduction = {
				name = CUB_land_doctrine_expertise
				category = land_doctrine
				uses = 2
				cost_reduction = 0.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_artillery_experiments
		icon = artillery

		x = 1
		y = 2
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_military_exercises }
		available = { num_of_military_factories > 3 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_artillery_experiments"
			add_tech_bonus = {
				name = CUB_artillery_experiments
				uses = 2
				bonus = 0.5
				category = Cat_ARTY
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_uniform_improvements
		icon = general_staff

		x = -2
		y = 3
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_infantry_equipment_development }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_uniform_improvements"
			add_tech_bonus = {
				name = CUB_uniform_improvements
				uses = 2
				bonus = 0.5
				technology = body_armor_1980
				technology = body_armor_2000
				technology = body_armor_2010
				technology = body_armor_2030
				technology = camouflage
				technology = camouflage2
				technology = camouflage3
				technology = camouflage4
				technology = camouflage5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_self_propelled_artillery
		icon = combined_arms

		x = 0
		y = 3
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_land_doctrine_expertise }
		prerequisite = { focus = CUB_artillery_experiments }
		available = { num_of_military_factories > 4 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_self_propelled_artillery"
			add_tech_bonus = {
				name = CUB_self_propelled_artillery
				uses = 2
				bonus = 0.5
				category = Cat_SP_R_ARTY
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_develop_armor_prototypes
		icon = tanks4

		x = 2
		y = 3
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_artillery_experiments }
		available = { num_of_military_factories > 5 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_develop_armor_prototypes"
			add_tech_bonus = {
				name = CUB_develop_armor_prototypes
				uses = 2
				bonus = 0.5
				category = Cat_ARMOR
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = CUB_countermeasures_against_armored_units
		icon = tanks3

		x = 2
		y = 4
		relative_position_id = CUB_army_reform

		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}
		prerequisite = { focus = CUB_develop_armor_prototypes }
		available = { num_of_military_factories > 5 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_countermeasures_against_armored_units"
			add_tech_bonus = {
				name = CUB_countermeasures_against_armored_units
				uses = 2
				bonus = 0.5
				category = Cat_AT
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

}







