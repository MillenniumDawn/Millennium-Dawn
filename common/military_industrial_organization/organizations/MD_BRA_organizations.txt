# Equipment
BRA_imbel_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_imbel
	name = BRA_imbel_materiel_manufacturer

	equipment_type = {
		Inf_equipment
		AA_Equipment
		L_AT_Equipment
	}

	research_categories = {
		CAT_inf_wep
		CAT_l_at
		CAT_l_aa
	}

	tree_header_text = {
		text = "Infantry Weapons"
		x = 1
	}

	tree_header_text = {
		text = "Anti-Air Weapons"
		x = 5
	}

	tree_header_text = {
		text = "Light Anti Tank"
		x = 8
	}

	initial_trait = {
		name = BRA_imbel_materiel_manufacturer_trait

		equipment_bonus = {
			reliability = 0.05
			build_cost_ic = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_service_rifle
		name = BRA_imbel_material_mio_trait_service_rifle
		icon = GFX_generic_mio_department_icon_infantry_quality

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.08
			build_cost_ic = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_improved_ballistics
		name = BRA_imbel_material_mio_trait_improved_ballistics
		icon = GFX_generic_mio_department_icon_infantry_offense

		position = { x = 2 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_ligtweight_polymer
		name = BRA_imbel_material_mio_trait_ligtweight_polymer
		icon = GFX_generic_mio_department_icon_infantry_materials

		position = { x = 2 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_improved_ballistics
			BRA_imbel_material_mio_trait_service_rifle
		}
		mutually_exclusive = {
			BRA_imbel_material_mio_trait_local_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		production_bonus = {
			production_resource_need_factor = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_local_ammunition
		name = BRA_imbel_material_mio_trait_local_ammunition
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_improved_ballistics
			BRA_imbel_material_mio_trait_service_rifle
		}
		mutually_exclusive = {
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		on_complete = {
			BRA = {
				random_core_state = {
					limit = {
						is_owned_by = BRA
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_traitintegrated_optics
		name = BRA_imbel_material_mio_traitintegrated_optics
		icon = GFX_generic_mio_department_icon_infantry_production

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		any_parent = {
			BRA_imbel_material_mio_trait_local_ammunition
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.04
			defense = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_jungle_adaptation
		name = BRA_imbel_material_mio_trait_jungle_adaptation
		icon = GFX_generic_mio_department_icon_infantry_quality

		position = { x = 2 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		any_parent = {
			BRA_imbel_material_mio_trait_local_ammunition
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.04
			defense = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_squad_automatic
		name = BRA_imbel_material_mio_trait_squad_automatic
		icon = GFX_generic_mio_department_icon_infantry_offense

		position = { x = 1 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_jungle_adaptation
			BRA_imbel_material_mio_traitintegrated_optics
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.02
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_urban_combat_barrel
		name = BRA_imbel_material_mio_trait_urban_combat_barrel
		icon = GFX_generic_mio_department_icon_infantry_offense

		position = { x = 0 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			breakthrough = 0.06
			reliability = -0.02
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_improved_logistics
		name = BRA_imbel_material_mio_trait_improved_logistics
		icon = GFX_generic_mio_department_icon_infantry_line_efficiency

		position = { x = 1 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_small_arms_innovation
		name = BRA_imbel_material_mio_trait_small_arms_innovation
		icon = GFX_generic_mio_department_icon_infantry_conversion

		position = { x = 2 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
			military_industrial_organization_design_team_assign_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_seeker_heads
		name = BRA_imbel_material_mio_trait_seeker_heads
		icon = GFX_generic_mio_department_icon_anti_air

		position = { x = 5 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_camouflage_launch
		name = BRA_imbel_material_mio_trait_camouflage_launch
		icon = GFX_generic_mio_department_icon_anti_air_production

		position = { x = -1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_seeker_heads
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_ligtweight_gripstock
		name = BRA_imbel_material_mio_trait_ligtweight_gripstock
		icon = GFX_generic_mio_department_icon_anti_air_materials

		position = { x = 1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_seeker_heads
		}

		limit_to_equipment_type = {
			anti_air
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_rapid_reload
		name = BRA_imbel_material_mio_trait_rapid_reload
		icon = GFX_generic_mio_department_icon_anti_air_conversion

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_ligtweight_gripstock
			BRA_imbel_material_mio_trait_camouflage_launch
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_distributed_network
		name = BRA_imbel_material_mio_trait_distributed_network
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 0 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_rapid_reload
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_change_cost = -0.50
			military_industrial_organization_funds_gain = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_recoilles_rifle
		name = BRA_imbel_material_mio_trait_recoilles_rifle
		icon = GFX_generic_mio_department_icon_anti_tank

		position = { x = 7 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			hard_attack = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_shaped_charge
		name = BRA_imbel_material_mio_trait_shaped_charge
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 9 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.10
			soft_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_portable_at_tube
		name = BRA_imbel_material_mio_trait_portable_at_tube
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_recoilles_rifle
			BRA_imbel_material_mio_trait_shaped_charge
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_locally_guidance
		name = BRA_imbel_material_mio_trait_locally_guidance
		icon = GFX_generic_mio_department_icon_anti_tank_technology

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_portable_at_tube
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_anti_armor_task
		name = BRA_imbel_material_mio_trait_anti_armor_task
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_locally_guidance
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			hard_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_compact_warhead_assembly
		name = BRA_imbel_material_mio_trait_compact_warhead_assembly
		icon = GFX_generic_mio_department_icon_anti_tank_line_efficiency

		position = { x = 2 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_portable_at_tube
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_compact_combined_arms_doctrine
		name = BRA_imbel_material_mio_trait_compact_combined_arms_doctrine
		icon = GFX_generic_mio_department_icon_anti_tank

		position = { x = 2 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_compact_warhead_assembly
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			soft_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_taurus_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_taurus
	name = BRA_taurus_materiel_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf_wep
	}

	tree_header_text = {
		text = "Mass Production Arsenal"
		x = 4
	}

	initial_trait = {
		name = BRA_taurus_materiel_manufacturer_trait

		production_bonus = {
			production_cost_factor = -0.10
			production_efficiency_cap_factor = 0.10
		}
	}

	trait = {
		token = BRA_taurus_material_mio_trait_stamped_receiver
		name = BRA_taurus_material_mio_trait_stamped_receiver
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_assembly_standardization
		name = BRA_taurus_material_mio_trait_assembly_standardization
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_stamped_receiver
		all_parents = {
			BRA_taurus_material_mio_trait_stamped_receiver
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_police_contracts
		name = BRA_taurus_material_mio_trait_police_contracts
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 0 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_stamped_receiver
		all_parents = {
			BRA_taurus_material_mio_trait_assembly_standardization
			BRA_taurus_material_mio_trait_jungle_warfare
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			custom_modifier_tooltip = BRA_taurus_material_mio_trait_police_contracts_tt
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
			hidden_effect = {
				BRA = {
					add_ideas = BRA_taurus_police_contracts
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_carbine_program
		name = BRA_taurus_material_mio_trait_carbine_program
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_compact_smg
		name = BRA_taurus_material_mio_trait_compact_smg
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_carbine_program
			BRA_taurus_material_mio_trait_polymer_frame
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			breakthrough = 0.04
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_jungle_warfare
		name = BRA_taurus_material_mio_trait_jungle_warfare
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = -1 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_carbine_program
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			defense = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_polymer_frame
		name = BRA_taurus_material_mio_trait_polymer_frame
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_domestic_ammunition
		name = BRA_taurus_material_mio_trait_domestic_ammunition
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_polymer_frame
		all_parents = {
			BRA_taurus_material_mio_trait_polymer_frame
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_western_compatibility
		name = BRA_taurus_material_mio_trait_western_compatibility
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 2 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_compact_smg
			BRA_taurus_material_mio_trait_domestic_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_design_copy
		name = BRA_taurus_material_mio_trait_design_copy
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 0 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_western_compatibility
			BRA_taurus_material_mio_trait_jungle_warfare
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_dealer_network
		name = BRA_taurus_material_mio_trait_dealer_network
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 3 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_western_compatibility
			BRA_taurus_material_mio_trait_domestic_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_Mectron_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_mectron
	name = BRA_Mectron_materiel_manufacturer

	equipment_type = {
		L_AT_Equipment
		sam_missile_equipment
		guided_missile_equipment
	}

	research_categories = {
		CAT_l_at
		CAT_sam
		CAT_glcm
		CAT_as_missiles
		CAT_aa_missiles
		CAT_vls_systems
	}

	task_capacity = 3

	tree_header_text = {
		text = "ATGM Line"
		x = 1
	}
	tree_header_text = {
		text = "SAM"
		x = 5
	}
	tree_header_text = {
		text = "Cruise Missiles"
		x = 8
	}

	initial_trait = {
		name = BRA_Mectron_materiel_manufacturer_trait

		equipment_bonus = {
			anti_air_attack = 0.18
			ap_attack = 0.12
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_mss_development
		name = BRA_mectron_material_mio_trait_mss_development
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_disposable_alac
		name = BRA_mectron_material_mio_trait_disposable_alac
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_mss_development
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_composite_rocket
		name = BRA_mectron_material_mio_trait_composite_rocket
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_mss_development
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			breakthrough = 0.06
			build_cost_ic = -0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_local_guidance
		name = BRA_mectron_material_mio_trait_local_guidance
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_composite_rocket
		}

		mutually_exclusive = {
			BRA_mectron_material_mio_trait_mass_produced_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_mass_produced_at
		name = BRA_mectron_material_mio_trait_mass_produced_at
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_disposable_alac
		}

		mutually_exclusive = {
			BRA_mectron_material_mio_trait_local_guidance
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_export_oriented_at
		name = BRA_mectron_material_mio_trait_export_oriented_at
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		any_parent = {
			BRA_mectron_material_mio_trait_local_guidance
			BRA_mectron_material_mio_trait_mass_produced_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_next_gen_atgm
		name = BRA_mectron_material_mio_trait_next_gen_atgm
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_export_oriented_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.08
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_infrared_seeker_rd
		name = BRA_mectron_material_mio_trait_infrared_seeker_rd
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 5 y = 0 }

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			anti_air_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_assign_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_all_aspect_labs
		name = BRA_mectron_material_mio_trait_all_aspect_labs
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_infrared_seeker_rd
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_compact_launch
		name = BRA_mectron_material_mio_trait_compact_launch
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_counter_countermeasure
		name = BRA_mectron_material_mio_trait_counter_countermeasure
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 0 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_national_air_defence
		name = BRA_mectron_material_mio_trait_national_air_defence
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		production_bonus = {
			production_conversion_speed_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_production_acceleration_cells
		name = BRA_mectron_material_mio_trait_production_acceleration_cells
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_national_air_defence
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_production_dual_band_sensor
		name = BRA_mectron_material_mio_trait_production_dual_band_sensor
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_national_air_defence
			BRA_mectron_material_mio_trait_compact_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.10
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_field_testing
		name = BRA_mectron_material_mio_trait_field_testing
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_compact_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_capacity_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_export_quality
		name = BRA_mectron_material_mio_trait_export_quality
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 1 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_production_dual_band_sensor
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_stealth_coating
		name = BRA_mectron_material_mio_trait_stealth_coating
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -1 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_production_dual_band_sensor
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.15
		}

		production_bonus = {
			production_resource_penalty_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_gps_fusion
		name = BRA_mectron_material_mio_trait_gps_fusion
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			air_ground_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_subsonic_cruise
		name = BRA_mectron_material_mio_trait_subsonic_cruise
		icon = GFX_generic_mio_department_icon_tank_general_spg

		position = { x = 9 y = 0 }

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			strategic_attack = 0.10
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_extended_range_warhead
		name = BRA_mectron_material_mio_trait_extended_range_warhead
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_gps_fusion
			BRA_mectron_material_mio_trait_subsonic_cruise
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_composite_airframe
		name = BRA_mectron_material_mio_trait_composite_airframe
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_extended_range_warhead
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_terrain_masking
		name = BRA_mectron_material_mio_trait_terrain_masking
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_extended_range_warhead
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_logistics_network
		name = BRA_mectron_material_mio_trait_logistics_network
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_terrain_masking
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_sea_launch_platform
		name = BRA_mectron_material_mio_trait_sea_launch_platform
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = 2 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_logistics_network
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			naval_strike_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_strategic_partnership
		name = BRA_mectron_material_mio_trait_strategic_partnership
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 2 y = 5 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_sea_launch_platform
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_precision_guidance
		name = BRA_mectron_material_mio_trait_precision_guidance
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 5 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_sea_launch_platform
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.04
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

#Armor

BRA_avibras_tank_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Avibras_BRA
	name = BRA_avibras_tank_manufacturer

	equipment_type = {
		sam_missile_equipment
		medium_tank_rocket_chassis
		guided_missile_equipment
	}

	research_categories = {
		CAT_sam
		CAT_cm
		CAT_sp_r_arty
		CAT_air_ground_weapons
	}

	research_bonus = 0.06

	tree_header_text = {
		text = "MLRS"
		x = 1
	}

	tree_header_text = {
		text = "Missile Systems"
		x = 6
	}

	initial_trait = {
		name = BRA_avibras_tank_manufacturer_trait

		equipment_bonus = {
			strategic_attack = 0.15
			soft_attack = 0.15
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_modular_launcher
		name = BRA_avibras_tank_mio_trait_modular_launcher
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.04
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_high_volume
		name = BRA_avibras_tank_mio_trait_high_volume
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 2 y = 0 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_rapid_reload
		name = BRA_avibras_tank_mio_trait_rapid_reload
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_modular_launcher
			BRA_avibras_tank_mio_trait_high_volume
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_lightweight_chassis
		name = BRA_avibras_tank_mio_trait_lightweight_chassis
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_rapid_reload
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			weight = -0.10
			build_cost_ic = -0.10
			reliability = -0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_guided_rocket
		name = BRA_avibras_tank_mio_trait_guided_rocket
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 0 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_lightweight_chassis
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_design_team_assign_cost = -0.30
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_export_rocket
		name = BRA_avibras_tank_mio_trait_export_rocket
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 0 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_guided_rocket
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_hardened_launcher
		name = BRA_avibras_tank_mio_trait_hardened_launcher
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 5 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_export_rocket
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_mass_production
		name = BRA_avibras_tank_mio_trait_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		position = { x = 1 y = 6 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_export_rocket
			BRA_avibras_tank_mio_traitfield_calibration
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_multi_caliber
		name = BRA_avibras_tank_mio_trait_multi_caliber
		icon = GFX_generic_mio_department_icon_tank_general_weapons

		position = { x = 2 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_lightweight_chassis
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_traitfield_calibration
		name = BRA_avibras_tank_mio_traitfield_calibration
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 2 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_multi_caliber
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_shoot_scoot
		name = BRA_avibras_tank_mio_shoot_scoot
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 2 y = 5 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_traitfield_calibration
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			soft_attack = 0.05
			maximum_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_medium_altitude_radar
		name = BRA_avibras_tank_mio_trait_medium_altitude_radar
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 6 y = 0 }

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.08
			air_agility = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_long_range_guidance
		name = BRA_avibras_tank_mio_trait_long_range_guidance
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.10
			naval_strike_targetting = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_low_signature
		name = BRA_avibras_tank_mio_trait_low_signature
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -3 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_mobile_launcher
		name = BRA_avibras_tank_mio_trait_mobile_launcher
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_dual_mission_lab
		name = BRA_avibras_tank_mio_trait_dual_mission_lab
		icon = GFX_generic_mio_trait_icon_strategic_attack

		position = { x = 3 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			strategic_attack = 0.06
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_fire_control
		name = BRA_avibras_tank_mio_trait_fire_control
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_defence = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_all_weather
		name = BRA_avibras_tank_mio_trait_all_weather
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_mobile_launcher
			BRA_avibras_tank_mio_trait_dual_mission_lab
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_strategic_cruise
		name = BRA_avibras_tank_mio_trait_strategic_cruise
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -2 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_long_range_guidance
			BRA_avibras_tank_mio_trait_low_signature
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_anti_electronic
		name = BRA_avibras_tank_mio_trait_anti_electronic
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 1 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_all_weather
			BRA_avibras_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_long_range_strike
		name = BRA_avibras_tank_mio_trait_long_range_strike
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_anti_electronic
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_seeker
		name = BRA_avibras_tank_mio_trait_seeker
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_strategic_cruise
			BRA_avibras_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_high_interceptor
		name = BRA_avibras_tank_mio_high_interceptor
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = -1 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_seeker
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			anti_air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_helibras_tank_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Helibras_BRA
	name = BRA_helibras_tank_manufacturer

	equipment_type = {
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_trans_heli
	}

	research_bonus = 0.09

	tree_header_text = {
		text = "Emergency Transport Rotary"
		x = 4
	}

	task_capacity = 6

	initial_trait = {
		name = BRA_helibras_tank_manufacturer_trait

		equipment_bonus = {
			maximum_speed = 0.15
			reliability = 0.10
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_light_twin
		name = BRA_helibras_tank_mio_trait_light_twin
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 4 y = 0 }

		equipment_bonus = {
			maximum_speed = 0.06
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_large_capacity
		name = BRA_helibras_tank_mio_trait_large_capacity
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 0 }

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_high_altitude
		name = BRA_helibras_tank_mio_trait_high_altitude
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_large_capacity
		all_parents = {
			BRA_helibras_tank_mio_trait_large_capacity
		}

		mutually_exclusive = {
			BRA_helibras_tank_mio_trait_hot_climate
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_rotor_noise
		name = BRA_helibras_tank_mio_trait_rotor_noise
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_large_capacity
		all_parents = {
			BRA_helibras_tank_mio_trait_large_capacity
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_hot_climate
		name = BRA_helibras_tank_mio_trait_hot_climate
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_light_twin
		}

		mutually_exclusive = {
			BRA_helibras_tank_mio_trait_high_altitude
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_rapid_deployment
		name = BRA_helibras_tank_mio_trait_rapid_deployment
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		any_parent = {
			BRA_helibras_tank_mio_trait_hot_climate
			BRA_helibras_tank_mio_trait_high_altitude
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_extended_range
		name = BRA_helibras_tank_mio_trait_extended_range
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_light_twin
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_all_weather
		name = BRA_helibras_tank_mio_trait_all_weather
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 3 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_extended_range
			BRA_helibras_tank_mio_trait_spare_parts
			BRA_helibras_tank_mio_trait_national_supply
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_multi_role
		name = BRA_helibras_tank_mio_trait_multi_role
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 7 y = 0 }

		equipment_bonus = {
			soft_attack = 0.04
			hard_attack = 0.04
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_spare_parts
		name = BRA_helibras_tank_mio_trait_spare_parts
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_multi_role
		all_parents = {
			BRA_helibras_tank_mio_trait_multi_role
		}

		production_bonus = {
			production_conversion_speed_factor = 0.15
			production_resource_need_factor = -0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_national_supply
		name = BRA_helibras_tank_mio_trait_national_supply
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_multi_role
		all_parents = {
			BRA_helibras_tank_mio_trait_multi_role
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			BRA = {
				random_core_state = {
					limit = {
						is_owned_by = BRA
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_engesa_tank_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		BRA = { has_completed_focus = BRA_acquire_new_equipment }
	}
	icon = x
	name = BRA_engesa_tank_manufacturer

	equipment_type = {
		medium_tank_amphibious_chassis
		medium_tank_chassis
		util_vehicle_equipment
		medium_tank_destroyer_chassis
	}

	research_categories = {
		CAT_armor
	}

	research_bonus = 0.03

	tree_header_text = {
		text = "Light Armor"
		x = 1
	}

	initial_trait = {
		name = BRA_engesa_tank_manufacturer_trait

		equipment_bonus = {
			armor_value = 0.15
			breakthrough = 0.09
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_lightweight_armor
		name = BRA_engesa_tank_mio_trait_lightweight_armor
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 0 }

		equipment_bonus = {
			weight = -0.05
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_jpx_material_manufacturer = {
	allowed = { original_tag = BRA }
	icon = x
	name = BRA_jpx_material_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
	}

	task_capacity = 2
}

#airforce

BRA_embraer_aircraft_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Embraer_BRA
	name = BRA_embraer_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_transport
		small_plane_airframe
		cnc_equipment
	}

	research_categories = {
		CAT_satellite
		CAT_small_plane
		CAT_naval_plane
		CAT_trans_plane
		CAT_cnc
	}
}

#navy

BRA_arsenal_do_marinha_naval_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_arsenal_do_marinha_naval_manufacturer
}

BRA_eas_naval_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		date > 2005.01.01
	}
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_eas_naval_manufacturer
}

BRA_emgepron_naval_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_emgepron_naval_manufacturer

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_frigates
		submarine
	}

	research_categories = {
		CAT_landing_craft
		CAT_art_ammo
		CAT_corvette
		CAT_sub
		CAT_frigate
	}
}

BRA_itaguai_naval_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		date > 2009.08.21
	}
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_itaguai_naval_manufacturer

	equipment_type = {
		convoy
	}

	task_capacity = 1
}
BRA_aguas_naval_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		GER = {
			mio:GER_thyssenkrupp_marine_naval_manufacturer = {
				has_mio_trait = GER_mio_trait_thyssenkrupp_modular_shipbuilding
			}
		}
		BRA = {
			mio:BRA_embraer_aircraft_manufacturer = {
				has_mio_trait = x
			}
		}
	}
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_aguas_naval_manufacturer

	equipment_type = {
		convoy
	}

	task_capacity = 1
}