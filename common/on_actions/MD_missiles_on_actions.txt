on_actions = {
	on_startup = {
		effect = {
			### GAME RULE needs to be coded
			if = {
				limit = {
					has_game_rule = {
						rule = FSTK_allowed
						option = yes
					}
				}
				set_global_flag = FSTK_allowed
			}
			if = {
				limit = {
					has_game_rule = {
						rule = AI_first_use
						option = no
					}
				}
				set_global_flag = NO_AI_first_use
				#every_country = {
				#	limit = {
				#		is_ai = yes
				#	}
					#add_to_array = { nuclear_doctrine_array = 0 }
					### does it work here ???
					#THIS = { update_nuclear_deterrence = yes }
				#	set_country_flag = NO_AI_first_use
				#}
			}
			every_country = {
				log = "[GetDateText]: [THIS.GetName]: on_startup setup missiles"
				set_variable = { var_missile_trajectory_ID = -1 }
				set_variable = { var_KB_ID = -1 }
				set_variable = { missile_launch_selected_TAG = THIS.id }
				set_variable = { orbit_selected_TAG = THIS.id }
				set_variable = { nukes_selected_TAG = THIS.id }
				set_variable = { var_nuke_energy_ratio = 0.50 }
				set_variable = { var_nuke_nuclear_material_ratio = 0.50 }
				set_variable = { var_CIC_use_enrichment = 0 }
				set_variable = { var_CIC_use_nuclear = 0 }
				set_variable = { var_nuke_energy_prod = 0 }
				set_variable = { var_nuke_nuclear_material_prod = 0 }
				set_variable = { var_nuclear_warhead_prod_factor = 2 }
				set_variable = { var_nuclear_material_stockpile = 0 }
				set_variable = { var_fire_sort_button = 2 }
				set_variable = { var_NSAM_auto_redeploy = 1 }
				set_variable = { var_SAM_auto_redeploy = 1 }
				set_variable = { var_NSAM_MD_auto_redeploy = 1 }
				set_variable = { var_SAM_MD_auto_redeploy = 1 }
				set_variable = { var_NABM_auto_redeploy = 1 }
				set_variable = { var_ABM_auto_redeploy = 1 }
				set_variable = { var_kinetic_bombardment_stats = 2 }
				resize_array = { missile_inventory_array = 154 }
				if = {
					limit = {
						has_idea = nuclear_power
					}
					remove_ideas = nuclear_power
					add_dynamic_modifier = { modifier = nuclear_state_modifier }
				}
				add_dynamic_modifier = { modifier = fleet_air_defense_system }
				add_dynamic_modifier = { modifier = integrated_air_defense_system }
				add_dynamic_modifier = { modifier = GNSS_system }
				add_dynamic_modifier = { modifier = COMSAT_system }
				add_dynamic_modifier = { modifier = SPYSAT_system }
				calculate_NSAM_AD_gui_vars = yes
				calculate_SAM_AD_gui_vars = yes
				calculate_SAM_MD_sea_gui_vars = yes
				calculate_SAM_MD_land_gui_vars = yes
				calculate_ABM_sea_gui_vars = yes
				calculate_ABM_land_gui_vars = yes
				set_sat_orbit_startup = yes
				set_all_sat_system_tech = yes
				set_nuclear_status_nuclear_deterrence = yes
				set_nuclear_doctrine_nuclear_deterrence = yes
				set_variable = { var_nuclear_material_nuclear_deterrence_factor = 0.5 }

				#for testing give all techs to all countries
				set_all_missile_launcher = yes
				set_all_missile_tech = yes
				set_all_missile_defense_tech = yes
				set_all_warhead_tech = yes
				set_all_prod_arrays = yes
				set_all_OLV_tech = yes
				set_all_sat_mass = yes
				set_all_spp_mass = yes
				set_all_KILLSAT_tech = yes
				set_all_ASAT_tech = yes
				set_all_nuclear_warhead_tech = yes
				set_all_conventional_warhead_tech = yes
				set_RODS_damage = yes
				###
				#for testing give buildings tech
				set_technology = {
					nuclear_technology = 1
					reactor1 = 1
					reactor2 = 1
					reactor3 = 1
					reactor4 = 1
					reactor5 = 1
					reactor6 = 1
					reactor7 = 1
					reactor8 = 1
					reactor9 = 1
					reactor10 = 1
					popup = no
				}


				# add_to_array = { nuclear_action_array = 1 }
				# add_to_array = { nuclear_action_array = 1 }
				# add_to_array = { nuclear_action_array = 1 }
				### sat gui testing
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { array = spp_inventory_array value = 10 index = 0 }
				add_to_array = { array = spp_inventory_array value = 30 index = 1 }
				add_to_array = { array = spp_inventory_array value = 100 index = 2 }
				#GNSS
				# #add_to_array = { GNSS_satellite_array = 0 }
				# add_to_array = { GNSS_satellite_array = 15 }
				# add_to_array = { GNSS_satellite_array = 20 }
				# add_to_array = { GNSS_satellite_array = 25 }
				# add_to_array = { GNSS_satellite_array = 3 }
				# add_to_array = { GNSS_satellite_array = 3 }
				# add_to_array = { GNSS_satellite_array = 4 }
				# add_to_array = { GNSS_satellite_array = 5 }
				# add_to_array = { GNSS_satellite_array = 5 }
				# #COM
				# #add_to_array = { COM_satellite_array = 0 }
				# add_to_array = { COM_satellite_array = 15 }
				# add_to_array = { COM_satellite_array = 20 }
				# add_to_array = { COM_satellite_array = 25 }
				# add_to_array = { COM_satellite_array = 30 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 35 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 40 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 50 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 55 }
				# #SPY
				# #add_to_array = { SPY_satellite_array = 0 }
				# add_to_array = { SPY_satellite_array = 15 }
				# add_to_array = { SPY_satellite_array = 20 }
				# add_to_array = { SPY_satellite_array = 25 }
				# add_to_array = { SPY_satellite_array = 30 }
				# add_to_array = { SPY_satellite_array = 35 }
				# add_to_array = { SPY_satellite_array = 40 }
				# add_to_array = { SPY_satellite_array = 50 }
				# add_to_array = { SPY_satellite_array = 55 }

				#for testing network traffic
				set_COM_sat_receiver_tech_array = yes
				### testing GNSS_mil_gui_vars
				#max
				### testing manpower
				#set_variable = { global.manpower_763 = 1000000 }
				#testing nukes
				set_variable = { var_launch_nuke_num = 0 }
				set_variable = { var_on_nuke_drop = 0 }
				set_variable = { global.temp_count = 0 }
			}
			###Testing FRA
			GER = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 25 }
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				update_sat_systems_stats = yes
			}
			FRA = {
				#GNSS
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 60 }
				set_variable = { var_GNSS_mil_system_idx = 4 }
				set_variable = { var_GNSS_civ_system_idx = 4 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^4 }
				set_variable = { var_GNSS_civ_sat_system_max = GNSS_sat_system_max_array^4 }
				#COM
				add_to_array = { COM_satellite_array = 1 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 60 }
				set_variable = { var_COM_mil_system_idx = 4 }
				set_variable = { var_COM_civ_system_idx = 4 }
				set_variable = { var_COM_mil_sat_system_max = COM_sat_system_max_array^4 }
				set_variable = { var_COM_civ_sat_system_max = COM_sat_system_max_array^4 }
				#SPY
				add_to_array = { SPY_satellite_array = 1 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 60 }
				set_variable = { var_SPY_mil_system_idx = 4 }
				set_variable = { var_SPY_civ_system_idx = 4 }
				set_variable = { var_SPY_mil_sat_system_max = SPY_sat_system_max_array^4 }
				set_variable = { var_SPY_civ_sat_system_max = SPY_sat_system_max_array^4 }
				#
				update_sat_systems_stats = yes
			}
			SWE = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				update_sat_systems_stats = yes
			}
			DEN = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 7 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^7 }
				update_sat_systems_stats = yes
			}
			CHI = {
				set_temp_variable = { cur = 0 }
				while_loop_effect = {
					limit = { check_variable = { cur < 120 } }
					add_to_temp_variable = { cur = 1 }
					add_to_array = { payload_array = 113 }
					add_to_array = { payload_array = 114 }
					add_to_array = { payload_array = 115 }
					add_to_array = { payload_array = 116 }
					add_satellite_from_payload = yes
				}
				# add_to_array = { GNSS_satellite_array = 1 }
				# add_to_array = { GNSS_satellite_array = 2 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 5 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^5 }
				update_sat_systems_stats = yes
			}
			SOV = {
				set_temp_variable = { cur = 0 }
				while_loop_effect = {
					limit = { check_variable = { cur < 120 } }
					add_to_temp_variable = { cur = 1 }
					add_to_array = { payload_array = 113 }
					add_to_array = { payload_array = 114 }
					add_to_array = { payload_array = 115 }
					add_to_array = { payload_array = 116 }
					add_satellite_from_payload = yes
				}
				# add_to_array = { GNSS_satellite_array = 1 }
				# add_to_array = { GNSS_satellite_array = 2 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 5 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^5 }
				update_sat_systems_stats = yes
				# add_to_array = { payload_array = 111 }
				# add_to_array = { payload_array = 112 }
				# add_to_array = { payload_array = 112 }
				# add_satellite_from_payload = yes
			}
			#testing USA & SOV inventory
			USA = {
				add_to_array = { array = missile_inventory_array value = 100 index = 11 }
				add_to_array = { array = missile_inventory_array value = 110 index = 12 }
				add_to_array = { array = missile_inventory_array value = 120 index = 13 }
				add_to_array = { array = missile_inventory_array value = 130 index = 14 }
				add_to_array = { array = missile_inventory_array value = 140 index = 15 }
				add_to_array = { array = missile_inventory_array value = 150 index = 16 }
				add_to_array = { array = missile_inventory_array value = 160 index = 17 }
				add_to_array = { array = missile_inventory_array value = 170 index = 18 }
				add_to_array = { array = missile_inventory_array value = 210 index = 21 }
				add_to_array = { array = missile_inventory_array value = 220 index = 22 }
				add_to_array = { array = missile_inventory_array value = 230 index = 23 }
				add_to_array = { array = missile_inventory_array value = 240 index = 24 }
				add_to_array = { array = missile_inventory_array value = 250 index = 25 }
				add_to_array = { array = missile_inventory_array value = 260 index = 26 }
				add_to_array = { array = missile_inventory_array value = 270 index = 27 }
				add_to_array = { array = missile_inventory_array value = 10 index = 28 }
				add_to_array = { array = missile_inventory_array value = 10 index = 31 }
				add_to_array = { array = missile_inventory_array value = 10 index = 32 }
				add_to_array = { array = missile_inventory_array value = 10 index = 33 }
				add_to_array = { array = missile_inventory_array value = 10 index = 34 }
				add_to_array = { array = missile_inventory_array value = 10 index = 35 }
				add_to_array = { array = missile_inventory_array value = 10 index = 36 }
				add_to_array = { array = missile_inventory_array value = 10 index = 37 }
				add_to_array = { array = missile_inventory_array value = 10 index = 38 }
				add_to_array = { array = missile_inventory_array value = 10 index = 41 }
				add_to_array = { array = missile_inventory_array value = 10 index = 42 }
				add_to_array = { array = missile_inventory_array value = 10 index = 43 }
				add_to_array = { array = missile_inventory_array value = 10 index = 44 }
				add_to_array = { array = missile_inventory_array value = 10 index = 45 }
				add_to_array = { array = missile_inventory_array value = 10 index = 46 }
				add_to_array = { array = missile_inventory_array value = 10 index = 47 }
				add_to_array = { array = missile_inventory_array value = 10 index = 48 }
				add_to_array = { array = missile_inventory_array value = 10 index = 51 }
				add_to_array = { array = missile_inventory_array value = 10 index = 52 }
				add_to_array = { array = missile_inventory_array value = 10 index = 53 }
				add_to_array = { array = missile_inventory_array value = 10 index = 54 }
				add_to_array = { array = missile_inventory_array value = 10 index = 55 }
				add_to_array = { array = missile_inventory_array value = 10 index = 56 }
				add_to_array = { array = missile_inventory_array value = 10 index = 57 }
				add_to_array = { array = missile_inventory_array value = 10 index = 58 }
				add_to_array = { array = missile_inventory_array value = 61 index = 61 }
				add_to_array = { array = missile_inventory_array value = 62 index = 62 }
				add_to_array = { array = missile_inventory_array value = 63 index = 63 }
				add_to_array = { array = missile_inventory_array value = 64 index = 64 }
				add_to_array = { array = missile_inventory_array value = 65 index = 65 }
				add_to_array = { array = missile_inventory_array value = 66 index = 66 }
				add_to_array = { array = missile_inventory_array value = 67 index = 67 }
				add_to_array = { array = missile_inventory_array value = 68 index = 68 }
				add_to_array = { array = missile_inventory_array value = 20 index = 71 }
				add_to_array = { array = missile_inventory_array value = 30 index = 72 }

				add_to_array = { array = missile_inventory_array value = 100 index = 80 }
				add_to_array = { array = missile_inventory_array value = 110 index = 81 }
				add_to_array = { array = missile_inventory_array value = 120 index = 82 }
				add_to_array = { array = missile_inventory_array value = 130 index = 83 }
				add_to_array = { array = missile_inventory_array value = 140 index = 84 }
				add_to_array = { array = missile_inventory_array value = 150 index = 85 }
				add_to_array = { array = missile_inventory_array value = 160 index = 86 }
				add_to_array = { array = missile_inventory_array value = 170 index = 87 }
				add_to_array = { array = missile_inventory_array value = 210 index = 90 }
				add_to_array = { array = missile_inventory_array value = 220 index = 91 }
				add_to_array = { array = missile_inventory_array value = 230 index = 92 }
				add_to_array = { array = missile_inventory_array value = 240 index = 93 }
				add_to_array = { array = missile_inventory_array value = 250 index = 94 }
				add_to_array = { array = missile_inventory_array value = 260 index = 95 }
				add_to_array = { array = missile_inventory_array value = 270 index = 96 }
				add_to_array = { array = missile_inventory_array value = 280 index = 97 }

				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 0 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 1 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 2 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 3 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 4 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 5 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 6 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 7 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 8 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 9 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 10 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 11 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 12 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 13 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 14 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 15 }

			}

			SOV = {
				add_to_array = { array = missile_inventory_array value = 100 index = 11 }
				add_to_array = { array = missile_inventory_array value = 110 index = 12 }
				add_to_array = { array = missile_inventory_array value = 120 index = 13 }
				add_to_array = { array = missile_inventory_array value = 130 index = 14 }
				add_to_array = { array = missile_inventory_array value = 140 index = 15 }
				add_to_array = { array = missile_inventory_array value = 150 index = 16 }
				add_to_array = { array = missile_inventory_array value = 160 index = 17 }
				add_to_array = { array = missile_inventory_array value = 170 index = 18 }
				add_to_array = { array = missile_inventory_array value = 210 index = 21 }
				add_to_array = { array = missile_inventory_array value = 220 index = 22 }
				add_to_array = { array = missile_inventory_array value = 230 index = 23 }
				add_to_array = { array = missile_inventory_array value = 240 index = 24 }
				add_to_array = { array = missile_inventory_array value = 250 index = 25 }
				add_to_array = { array = missile_inventory_array value = 260 index = 26 }
				add_to_array = { array = missile_inventory_array value = 270 index = 27 }
				add_to_array = { array = missile_inventory_array value = 10 index = 28 }
				add_to_array = { array = missile_inventory_array value = 10 index = 31 }
				add_to_array = { array = missile_inventory_array value = 10 index = 32 }
				add_to_array = { array = missile_inventory_array value = 10 index = 33 }
				add_to_array = { array = missile_inventory_array value = 10 index = 34 }
				add_to_array = { array = missile_inventory_array value = 10 index = 35 }
				add_to_array = { array = missile_inventory_array value = 10 index = 36 }
				add_to_array = { array = missile_inventory_array value = 10 index = 37 }
				add_to_array = { array = missile_inventory_array value = 10 index = 38 }
				add_to_array = { array = missile_inventory_array value = 10 index = 41 }
				add_to_array = { array = missile_inventory_array value = 10 index = 42 }
				add_to_array = { array = missile_inventory_array value = 10 index = 43 }
				add_to_array = { array = missile_inventory_array value = 10 index = 44 }
				add_to_array = { array = missile_inventory_array value = 10 index = 45 }
				add_to_array = { array = missile_inventory_array value = 10 index = 46 }
				add_to_array = { array = missile_inventory_array value = 10 index = 47 }
				add_to_array = { array = missile_inventory_array value = 10 index = 48 }
				add_to_array = { array = missile_inventory_array value = 10 index = 51 }
				add_to_array = { array = missile_inventory_array value = 10 index = 52 }
				add_to_array = { array = missile_inventory_array value = 10 index = 53 }
				add_to_array = { array = missile_inventory_array value = 10 index = 54 }
				add_to_array = { array = missile_inventory_array value = 10 index = 55 }
				add_to_array = { array = missile_inventory_array value = 10 index = 56 }
				add_to_array = { array = missile_inventory_array value = 10 index = 57 }
				add_to_array = { array = missile_inventory_array value = 10 index = 58 }
				add_to_array = { array = missile_inventory_array value = 61 index = 61 }
				add_to_array = { array = missile_inventory_array value = 62 index = 62 }
				add_to_array = { array = missile_inventory_array value = 63 index = 63 }
				add_to_array = { array = missile_inventory_array value = 64 index = 64 }
				add_to_array = { array = missile_inventory_array value = 65 index = 65 }
				add_to_array = { array = missile_inventory_array value = 66 index = 66 }
				add_to_array = { array = missile_inventory_array value = 67 index = 67 }
				add_to_array = { array = missile_inventory_array value = 68 index = 68 }
				add_to_array = { array = missile_inventory_array value = 20 index = 71 }
				add_to_array = { array = missile_inventory_array value = 30 index = 72 }

				add_to_array = { array = missile_inventory_array value = 100 index = 80 }
				add_to_array = { array = missile_inventory_array value = 110 index = 81 }
				add_to_array = { array = missile_inventory_array value = 120 index = 82 }
				add_to_array = { array = missile_inventory_array value = 130 index = 83 }
				add_to_array = { array = missile_inventory_array value = 140 index = 84 }
				add_to_array = { array = missile_inventory_array value = 150 index = 85 }
				add_to_array = { array = missile_inventory_array value = 160 index = 86 }
				add_to_array = { array = missile_inventory_array value = 170 index = 87 }
				add_to_array = { array = missile_inventory_array value = 210 index = 90 }
				add_to_array = { array = missile_inventory_array value = 220 index = 91 }
				add_to_array = { array = missile_inventory_array value = 230 index = 92 }
				add_to_array = { array = missile_inventory_array value = 240 index = 93 }
				add_to_array = { array = missile_inventory_array value = 250 index = 94 }
				add_to_array = { array = missile_inventory_array value = 260 index = 95 }
				add_to_array = { array = missile_inventory_array value = 270 index = 96 }
				add_to_array = { array = missile_inventory_array value = 280 index = 97 }

				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 0 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 1 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 2 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 3 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 4 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 5 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 6 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 7 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 8 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 9 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 10 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 11 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 12 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 13 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 14 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 15 }

			}

			CHI = {
				add_to_array = { array = missile_inventory_array value = 100 index = 11 }
				add_to_array = { array = missile_inventory_array value = 110 index = 12 }
				add_to_array = { array = missile_inventory_array value = 120 index = 13 }
				add_to_array = { array = missile_inventory_array value = 130 index = 14 }
				add_to_array = { array = missile_inventory_array value = 140 index = 15 }
				add_to_array = { array = missile_inventory_array value = 150 index = 16 }
				add_to_array = { array = missile_inventory_array value = 160 index = 17 }
				add_to_array = { array = missile_inventory_array value = 170 index = 18 }
				add_to_array = { array = missile_inventory_array value = 210 index = 21 }
				add_to_array = { array = missile_inventory_array value = 220 index = 22 }
				add_to_array = { array = missile_inventory_array value = 230 index = 23 }
				add_to_array = { array = missile_inventory_array value = 240 index = 24 }
				add_to_array = { array = missile_inventory_array value = 250 index = 25 }
				add_to_array = { array = missile_inventory_array value = 260 index = 26 }
				add_to_array = { array = missile_inventory_array value = 270 index = 27 }
				add_to_array = { array = missile_inventory_array value = 10 index = 28 }
				add_to_array = { array = missile_inventory_array value = 10 index = 31 }
				add_to_array = { array = missile_inventory_array value = 10 index = 32 }
				add_to_array = { array = missile_inventory_array value = 10 index = 33 }
				add_to_array = { array = missile_inventory_array value = 10 index = 34 }
				add_to_array = { array = missile_inventory_array value = 10 index = 35 }
				add_to_array = { array = missile_inventory_array value = 10 index = 36 }
				add_to_array = { array = missile_inventory_array value = 10 index = 37 }
				add_to_array = { array = missile_inventory_array value = 10 index = 38 }
				add_to_array = { array = missile_inventory_array value = 10 index = 41 }
				add_to_array = { array = missile_inventory_array value = 10 index = 42 }
				add_to_array = { array = missile_inventory_array value = 10 index = 43 }
				add_to_array = { array = missile_inventory_array value = 10 index = 44 }
				add_to_array = { array = missile_inventory_array value = 10 index = 45 }
				add_to_array = { array = missile_inventory_array value = 10 index = 46 }
				add_to_array = { array = missile_inventory_array value = 10 index = 47 }
				add_to_array = { array = missile_inventory_array value = 10 index = 48 }
				add_to_array = { array = missile_inventory_array value = 10 index = 51 }
				add_to_array = { array = missile_inventory_array value = 10 index = 52 }
				add_to_array = { array = missile_inventory_array value = 10 index = 53 }
				add_to_array = { array = missile_inventory_array value = 10 index = 54 }
				add_to_array = { array = missile_inventory_array value = 10 index = 55 }
				add_to_array = { array = missile_inventory_array value = 10 index = 56 }
				add_to_array = { array = missile_inventory_array value = 10 index = 57 }
				add_to_array = { array = missile_inventory_array value = 10 index = 58 }
				add_to_array = { array = missile_inventory_array value = 61 index = 61 }
				add_to_array = { array = missile_inventory_array value = 62 index = 62 }
				add_to_array = { array = missile_inventory_array value = 63 index = 63 }
				add_to_array = { array = missile_inventory_array value = 64 index = 64 }
				add_to_array = { array = missile_inventory_array value = 65 index = 65 }
				add_to_array = { array = missile_inventory_array value = 66 index = 66 }
				add_to_array = { array = missile_inventory_array value = 67 index = 67 }
				add_to_array = { array = missile_inventory_array value = 68 index = 68 }
				add_to_array = { array = missile_inventory_array value = 20 index = 71 }
				add_to_array = { array = missile_inventory_array value = 30 index = 72 }

				add_to_array = { array = missile_inventory_array value = 100 index = 80 }
				add_to_array = { array = missile_inventory_array value = 110 index = 81 }
				add_to_array = { array = missile_inventory_array value = 120 index = 82 }
				add_to_array = { array = missile_inventory_array value = 130 index = 83 }
				add_to_array = { array = missile_inventory_array value = 140 index = 84 }
				add_to_array = { array = missile_inventory_array value = 150 index = 85 }
				add_to_array = { array = missile_inventory_array value = 160 index = 86 }
				add_to_array = { array = missile_inventory_array value = 170 index = 87 }
				add_to_array = { array = missile_inventory_array value = 210 index = 90 }
				add_to_array = { array = missile_inventory_array value = 220 index = 91 }
				add_to_array = { array = missile_inventory_array value = 230 index = 92 }
				add_to_array = { array = missile_inventory_array value = 240 index = 93 }
				add_to_array = { array = missile_inventory_array value = 250 index = 94 }
				add_to_array = { array = missile_inventory_array value = 260 index = 95 }
				add_to_array = { array = missile_inventory_array value = 270 index = 96 }
				add_to_array = { array = missile_inventory_array value = 280 index = 97 }

				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 0 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 1 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 2 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 3 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 4 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 5 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 6 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 7 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 8 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 9 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 10 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 11 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 12 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 13 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 14 }
				add_to_array = { array = nuclear_warhead_inventory_array value = 300 index = 15 }

			}


			set_temp_variable = { temp1 = 1 } # 0
			while_loop_effect = {
				limit = {
					check_variable = { temp1 < 17 } # number of buildings + 1 # number of buildings 16
				}				
				add_to_array = { global.building_array = temp1 }
				add_to_temp_variable = { temp1 = 1 }
			}
			every_state = {
				limit = {
					is_coastal = yes
				}
				log = "[GetDateText]: [ROOT.GetName]: on_startup set is_coastal"
				add_to_array = { global.sea_launch_point_array = THIS.id }
				set_state_flag = sea_launch_point
			}
			#############################
			### MISSILE HISTORY FILES ###
			#############################

			######################
			### Nuclear Powers ###
			######################

			USA = {
				set_country_flag = NPROG_completed
			}
			SOV = {
				set_country_flag = NPROG_completed
			}
			CHI = {
				set_country_flag = NPROG_completed
			}
			FRA = {
				set_country_flag = NPROG_completed
			}
			ENG = {
				set_country_flag = NPROG_completed
			}
			RAJ = {
				set_country_flag = NPROG_completed
			}
			PAK = {
				set_country_flag = NPROG_completed
			}
			ISR = {
				set_country_flag = NPROG_completed
			}

			############
			### 2000 ###
			############

			### USA ###

			USA = {

				#GNSS
				add_to_array = { GNSS_satellite_array = 10 }
				add_to_array = { GNSS_satellite_array = 11 }
				add_to_array = { GNSS_satellite_array = 19 }
				add_to_array = { GNSS_satellite_array = 12 }
				add_to_array = { GNSS_satellite_array = 8 }
				add_to_array = { GNSS_satellite_array = 12 }
				add_to_array = { GNSS_satellite_array = 5 }
				add_to_array = { GNSS_satellite_array = 0 }

				#COM
				#mil 27 #civ 11
				add_to_array = { COM_satellite_array = 38 }
				#mil 16 #civ 20
				add_to_array = { COM_satellite_array = 36 }
				#mil 14 #civ 11
				add_to_array = { COM_satellite_array = 25 }
				#mil 6 #civ 18
				add_to_array = { COM_satellite_array = 24 }
				#mil 6 #civ 24
				add_to_array = { COM_satellite_array = 30 }
				#mil 5 #civ 24
				add_to_array = { COM_satellite_array = 29 }
				#mil 5 #civ
				add_to_array = { COM_satellite_array = 5 }
				#mil 5 #civ
				add_to_array = { COM_satellite_array = 5 }

				#SPY
				add_to_array = { SPY_satellite_array = 26 }
				add_to_array = { SPY_satellite_array = 54 }
				add_to_array = { SPY_satellite_array = 20 }
				add_to_array = { SPY_satellite_array = 5 }
				add_to_array = { SPY_satellite_array = 4 }
				add_to_array = { SPY_satellite_array = 4 }
				add_to_array = { SPY_satellite_array = 3 }
				add_to_array = { SPY_satellite_array = 2 }

				#KILL
				add_to_array = { KILL_satellite_array = 26 }
				add_to_array = { KILL_satellite_array = 54 }
				add_to_array = { KILL_satellite_array = 20 }
				add_to_array = { KILL_satellite_array = 50 }
				add_to_array = { KILL_satellite_array = 40 }
				add_to_array = { KILL_satellite_array = 40 }

				#RODS
				add_to_array = { RODS_satellite_array = 30 }
				add_to_array = { RODS_satellite_array = 20 }
				add_to_array = { RODS_satellite_array = 30 }

				#set sat system
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				set_variable = { var_GNSS_civ_system_idx = 1 }
				set_variable = { var_GNSS_civ_sat_system_max = GNSS_sat_system_max_array^1 }
				set_variable = { var_COM_mil_system_idx = 2 }
				set_variable = { var_COM_mil_sat_system_max = COM_sat_system_max_array^2 }
				set_variable = { var_COM_civ_system_idx = 1 }
				set_variable = { var_COM_civ_sat_system_max = COM_sat_system_max_array^1 }
				set_variable = { var_SPY_mil_system_idx = 2 }
				set_variable = { var_SPY_mil_sat_system_max = SPY_sat_system_max_array^2 }
				set_variable = { var_SPY_civ_system_idx = 1 }
				set_variable = { var_SPY_civ_sat_system_max = SPY_sat_system_max_array^1 }
				update_sat_systems_stats = yes
			}


		}
	}
	on_daily = {
		effect = {
			#missile_on_daily = yes
			update_nuclear_production = yes
			add_nuclear_material_stockpile = yes
			update_nuclear_deterrence = yes
			update_nuclear_stability_factor = yes
			update_sat_systems_stats = yes
			update_deployed_air_missile_defense = yes
		}
	}
	### for testing
	on_daily_GER = {
		effect = {
			update_sat_systems_stats = yes

		}
	}

	on_weekly = {
		effect = {
			missile_on_weekly = yes
			set_missile_launch_arrays_selected_TAG = yes
		}
	}

	on_monthly = {
		effect = {
			clear_variable = var_NSAM_AD_lost_monthly
			clear_variable = var_SAM_AD_lost_monthly
			clear_variable = var_NSAM_MD_lost_monthly
			clear_variable = var_SAM_MD_lost_monthly
			clear_variable = var_NABM_lost_monthly
			clear_variable = var_ABM_lost_monthly
		}
	}

	on_nuke_drop = {
		effect = {
			FROM = {
				controller = {
					country_event = {
						id = nukes.2 #file: missiles_events.txt
						hours = 4
					}
				}
			}
			### for nuke damage
			set_temp_variable = { temp_idx = global.nuke_drop_salvo_idx }
			log = "[GetDateText]: [Root.GetName]: global.nuke_drop_salvo_idx [?global.nuke_drop_salvo_idx]"
			FROM = {
				controller = {
					log = "[GetDateText]: FROM [FROM.GetName]: on_nuke_drop controller [THIS.GetName] [?FROM.GetID]"
					log = "[?global.damage_building_1_array^temp_idx]"
					log = "[?global.damage_building_2_array^temp_idx]"
					log = "[?global.damage_building_3_array^temp_idx]"
					log = "[?global.damage_building_4_array^temp_idx]"
					log = "[?global.damage_building_5_array^temp_idx]"
					log = "[?global.damage_building_6_array^temp_idx]"
					log = "[?global.damage_building_7_array^temp_idx]"
					log = "[?global.damage_building_8_array^temp_idx]"
					log = "[?global.damage_building_9_array^temp_idx]"
					log = "[?global.damage_building_10_array^temp_idx]"
					log = "[?global.damage_building_11_array^temp_idx]"
					log = "[?global.damage_building_12_array^temp_idx]"
					log = "[?global.damage_building_13_array^temp_idx]"
					log = "[?global.damage_building_14_array^temp_idx]"
					log = "[?global.damage_building_15_array^temp_idx]"
					FROM = {
						remove_building = {
							type = industrial_complex
							level = PREV.nuke_temp0
						}
						remove_building = {
							type = arms_factory
							level = PREV.nuke_temp1
						}
						remove_building = {
							type = infrastructure
							level = PREV.nuke_temp2
						}
						remove_building = {
							type = internet_station
							level = PREV.nuke_temp3
						}
						remove_building = {
							type = dockyard
							level = PREV.nuke_temp4
						}
						remove_building = {
							type = air_base
							level = PREV.nuke_temp5
						}
						remove_building = {
							type = radar_station
							level = PREV.nuke_temp6
						}
						remove_building = {
							type = anti_air_building
							level = PREV.nuke_temp7
						}
						remove_building = {
							type = missile_defense_station
							level = PREV.nuke_temp8
						}
						remove_building = {
							type = TEL_base
							level = PREV.nuke_temp9
						}
						remove_building = {
							type = missile_silo
							level = PREV.nuke_temp10
						}
						remove_building = {
							type = nuclear_reactor
							level = PREV.nuke_temp11
						}
						remove_building = {
							type = synthetic_refinery
							level = PREV.nuke_temp12
						}
						remove_building = {
							type = fuel_silo
							level = PREV.nuke_temp13
						}
						remove_building = {
							type = offices
							level = PREV.nuke_temp14
						}
						# remove_building = {
						# 	type = naval_base
						# 	level = PREV.nuke_temp15
						# }
						# remove_building = {
						# 	type = bunker
						# 	level = PREV.nuke_temp16
						# }
						# remove_building = {
						# 	type = coastal_bunker
						# 	level = PREV.nuke_temp17
						#}
						add_building_construction = {
							type = industrial_complex
							level = PREV.nuke_temp0
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = PREV.nuke_temp1
							instant_build = yes
						}
						add_building_construction = {
							type = infrastructure
							level = PREV.nuke_temp2
							instant_build = yes
						}
						add_building_construction = {
							type = internet_station
							level = PREV.nuke_temp3
							instant_build = yes
						}
						add_building_construction = {
							type = dockyard
							level = PREV.nuke_temp4
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = PREV.nuke_temp5
							instant_build = yes
						}
						add_building_construction = {
							type = radar_station
							level = PREV.nuke_temp6
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = PREV.nuke_temp7
							instant_build = yes
						}
						add_building_construction = {
							type = missile_defense_station
							level = PREV.nuke_temp8
							instant_build = yes
						}
						add_building_construction = {
							type = TEL_base
							level = PREV.nuke_temp9
							instant_build = yes
						}
						add_building_construction = {
							type = missile_silo
							level = PREV.nuke_temp10
							instant_build = yes
						}
						add_building_construction = {
							type = nuclear_reactor
							level = PREV.nuke_temp11
							instant_build = yes
						}
						add_building_construction = {
							type = synthetic_refinery
							level = PREV.nuke_temp12
							instant_build = yes
						}
						add_building_construction = {
							type = fuel_silo
							level = PREV.nuke_temp13
							instant_build = yes
						}
						add_building_construction = {
							type = offices
							level = PREV.nuke_temp14
							instant_build = yes
						}
						# add_building_construction = {
						# 	type = naval_base
						# 	level = PREV.nuke_temp15
						# 	instant_build = yes
						# }
						# add_building_construction = {
						# 	type = bunker
						# 	level = PREV.nuke_temp16
						# 	instant_build = yes
						# }
						# add_building_construction = {
						# 	type = coastal_bunker
						# 	level = PREV.nuke_temp17
						# 	instant_build = yes
						# }
						#set_nuke_damage = yes
						meta_effect = {
							text = {
								damage_building = {
									type = industrial_complex
									damage = [nuke_temp0_d]
								}
								damage_building = {
									type = arms_factory
									damage = [nuke_temp1_d]
								}
								damage_building = {
									type = infrastructure
									damage = [nuke_temp2_d]
								}
								damage_building = {
									type = internet_station
									damage = [nuke_temp3_d]
								}
								damage_building = {
									type = dockyard
									damage = [nuke_temp4_d]
								}
								damage_building = {
									type = air_base
									damage = [nuke_temp5_d]
								}
								damage_building = {
									type = radar_station
									damage = [nuke_temp6_d]
								}
								damage_building = {
									type = anti_air_building
									damage = [nuke_temp7_d]
								}
								damage_building = {
									type = missile_defense_station
									damage = [nuke_temp8_d]
								}
								damage_building = {
									type = TEL_base
									damage = [nuke_temp9_d]
								}
								damage_building = {
									type = missile_silo
									damage = [nuke_temp10_d]
								}
								damage_building = {
									type = nuclear_reactor
									damage = [nuke_temp11_d]
								}
								damage_building = {
									type = synthetic_refinery
									damage = [nuke_temp12_d]
								}
								damage_building = {
									type = fuel_silo
									damage = [nuke_temp13_d]
								}
								damage_building = {
									type = offices
									damage = [nuke_temp14_d]
								}
								# damage_building = {
								# 	type = naval_base
								# 	damage = [nuke_temp15_d]
								# }
								# damage_building = {
								# 	type = bunker
								# 	damage = [nuke_temp16_d]
								# }
								# damage_building = {
								# 	type = coastal_bunker
								# 	damage = [nuke_temp17_d]
								# }										
							}
							# nuke_temp0_d = "[?PREV.nuke_temp0_d]"
							# nuke_temp1_d = "[?PREV.nuke_temp1_d]"
							# nuke_temp2_d = "[?PREV.nuke_temp2_d]"
							# nuke_temp3_d = "[?PREV.nuke_temp3_d]"
							# nuke_temp4_d = "[?PREV.nuke_temp4_d]"
							# nuke_temp5_d = "[?PREV.nuke_temp5_d]"
							# nuke_temp6_d = "[?PREV.nuke_temp6_d]"
							# nuke_temp7_d = "[?PREV.nuke_temp7_d]"
							# nuke_temp8_d = "[?PREV.nuke_temp8_d]"
							# nuke_temp9_d = "[?PREV.nuke_temp9_d]"
							# nuke_temp10_d = "[?PREV.nuke_temp10_d]"
							# nuke_temp11_d = "[?PREV.nuke_temp11_d]"
							# nuke_temp12_d = "[?PREV.nuke_temp12_d]"
							# nuke_temp13_d = "[?PREV.nuke_temp13_d]"
							# nuke_temp14_d = "[?PREV.nuke_temp14_d]"
							# nuke_temp15_d = "[?PREV.nuke_temp15_d]"
							# nuke_temp16_d = "[?PREV.nuke_temp16_d]"
							# nuke_temp17_d = "[?PREV.nuke_temp17_d]"
							#### changed to arrays
							nuke_temp0_d = "[?global.damage_building_1_array^temp_idx]"
							nuke_temp1_d = "[?global.damage_building_2_array^temp_idx]"
							nuke_temp2_d = "[?global.damage_building_3_array^temp_idx]"
							nuke_temp3_d = "[?global.damage_building_4_array^temp_idx]"
							nuke_temp4_d = "[?global.damage_building_5_array^temp_idx]"
							nuke_temp5_d = "[?global.damage_building_6_array^temp_idx]"
							nuke_temp6_d = "[?global.damage_building_7_array^temp_idx]"
							nuke_temp7_d = "[?global.damage_building_8_array^temp_idx]"
							nuke_temp8_d = "[?global.damage_building_9_array^temp_idx]"
							nuke_temp9_d = "[?global.damage_building_10_array^temp_idx]"
							nuke_temp10_d = "[?global.damage_building_11_array^temp_idx]"
							nuke_temp11_d = "[?global.damage_building_12_array^temp_idx]"
							nuke_temp12_d = "[?global.damage_building_13_array^temp_idx]"
							nuke_temp13_d = "[?global.damage_building_14_array^temp_idx]"
							nuke_temp14_d = "[?global.damage_building_15_array^temp_idx]"
						}
					}
				}
			}
		}
	}
}


