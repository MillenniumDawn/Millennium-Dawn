# Author(s): LordBogdanoff
on_actions = {
	on_weekly = {
		effect = {
			###########SUBJECTS OF RUSSIA###########	
			#REMOVE SUBJECT IDEA
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = BRY
						original_tag = KCC
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					NOT = {	has_autonomy_state = autonomy_republic_rf }
					has_idea = CHE_republic_rf
				}
				remove_ideas = CHE_republic_rf
			}
			#ADDED SUBJECT IDEA
			if = {
				limit = {
					OR = {
					original_tag = CHE
					original_tag = YAK
					original_tag = PMR
					original_tag = DAG
					original_tag = CRM
					original_tag = KAE
					original_tag = TAT
					original_tag = BSH
					original_tag = NEE
					original_tag = YAM
					original_tag = LPR
					original_tag = DPR
					original_tag = CKK
					original_tag = KHS
					original_tag = ALT
					original_tag = URA
					original_tag = SIB
					original_tag = FAR
					original_tag = GOR
					original_tag = KUB
					original_tag = TUV
					original_tag = KOM
					original_tag = ADY
					original_tag = KBK
					original_tag = ING
					original_tag = KCC
					original_tag = BRY
					original_tag = SOO
					original_tag = KLM
					original_tag = KHM
					original_tag = MLR
					original_tag = CHU
					original_tag = MEL
					original_tag = MOV
					original_tag = UDM
					}
					has_autonomy_state = autonomy_republic_rf
					NOT = { has_idea = CHE_republic_rf }
				}
				add_ideas = CHE_republic_rf
			}
			#ADDED AUTONOMY FOR SUBJECTS
			if = {
				limit = {
					OR = {
					original_tag = CHE
					original_tag = YAK
					original_tag = PMR
					original_tag = DAG
					original_tag = CRM
					original_tag = KAE
					original_tag = TAT
					original_tag = BSH
					original_tag = NEE
					original_tag = YAM
					original_tag = CKK
					original_tag = KHS
					original_tag = ALT
					original_tag = URA
					original_tag = SIB
					original_tag = FAR
					original_tag = GOR
					original_tag = KUB
					original_tag = TUV
					original_tag = KOM
					original_tag = ADY
					original_tag = KBK
					original_tag = ING
					original_tag = BRY
					original_tag = SOO
					original_tag = KLM
					original_tag = KCC
					original_tag = KHM
					original_tag = LPR
					original_tag = DPR
					original_tag = MLR
					original_tag = CHU
					original_tag = MEL
					original_tag = MOV
					original_tag = UDM
					}
					NOT = { has_autonomy_state = autonomy_republic_rf }
					is_subject_of = SOV
					has_country_flag = SOV_subject_agree
				}
				SOV = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_republic_rf
					}
				}
			}
			#ADDED +1 FOR SUBJECTS NUMBER
			if = {
				limit = {
					SOV_subjects_available = yes
					NOT = { SOV = { has_idea = SUB_confederation } }
				}
				SOV = {	add_ideas = SUB_confederation }
			}
			#REMOVED -1 FOR SUBJECTS NUMBER
			if = {
				limit = {
					SOV_subjects_disable = yes
					SOV = { has_idea = SUB_confederation }
				}
				SOV = {	remove_ideas = SUB_confederation  }
			}
			#SUBJECTS AUTORITY
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = KCC
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
						}
						has_autonomy_state = autonomy_republic_rf
				}
				set_temp_variable = { modify_subjectavtoritet = 2 }
				modify_subjectavtoritet_support = yes
			}
			###########COUNTER TERROR OPERATION IN CHECHNYA###########
			#CTO ADDED STARTING RADICALISATION
			if = {
				limit = {
					original_tag = SOV
					NOT = { SOV = { has_country_flag = che_kto_start } }
				}
				set_country_flag = che_kto_start 
				set_temp_variable = { modify_radicalche = 70 }
				modify_radicalche_support = yes
				hidden_effect = {
					if = {
						limit = { SOV = { is_ai = yes } }
						country_event = { id = sov_other.39 days = 50 }
					}
					SOV = { country_event = { id = sov_other.26 days = 220 } }
				}
			}
			#DELETED ICHKERIA TEMPLATES AND GENERALS FROM CHE
			if = {
				limit = {
					original_tag = CHE
					NOT = { CHE = { has_country_flag = delete_ichkeria } }
					CHE = {
						is_subject = yes
						has_autonomy_state = autonomy_republic_rf
					}
				}
				set_country_flag = delete_ichkeria
				delete_unit_template_and_units = {
					division_template = "Brigada Natsionalnoi Gvardiy"
					disband = yes
				}
				delete_unit_template_and_units = {
					division_template = "Checheneskie Modzhakhedi"
					disband = yes
				}
				retire_character = CHE_aslan_maskhadov
				retire_character = CHE_abdul_halim_sadulayev
				retire_character = CHE_ruslan_gelayev
				retire_character = CHE_dokka_umarov
				retire_character = CHE_shamil_basayev
				retire_character = CHE_ibn_al_khattab
				retire_character = CHE_akhmed_zakayev
				retire_character = CHE_air_chief
			}
			#CTO ADDED IDEA FOR CHE AND SOV
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = SOV
					}
					NOT = { SOV = { has_country_flag = che_kto_finished } }
					NOT = { SOV = { has_country_flag = che_bunt_finished } }
					OR = {
					CHE = {
						NOT = { has_idea = CHE_kto }
						is_subject = yes
						has_autonomy_state = autonomy_republic_rf
					}
					SOV = { controls_state = 672 }
					}
				}
				SOV = { country_event = subject_rus.43 }
				add_ideas = CHE_kto
			}
			#CTO HAS BEEN LOOSED(BASAEV TAKE POWER IN CHECHNYA)
			if = {
				limit = {
					original_tag = SOV
					check_variable = { SOV.radicalche > 90 }
					NOT = { SOV = { has_country_flag = che_kto_finished } }
					NOT = { SOV = { has_country_flag = che_bunt_finished } }
					SOV = {
						NOT = { SOV = { is_ai = yes } }
					} 
					OR = {
						owns_state = 672
						CHE = {
							is_subject = yes
							has_autonomy_state = autonomy_republic_rf
						}
					}
				}
				if = {
					limit = { 
						SOV = {
							NOT = { SOV = { is_ai = yes } }
						} 
						CHE = {
						is_subject = yes
						has_autonomy_state = autonomy_republic_rf
						} 
					}
					SOV = { 
						remove_ideas = CHE_kto
						add_timed_idea = { idea = CHE_russian_unstability days = 100 }
						set_country_flag = che_bunt_finished
						country_event = subject_rus.26
					}
					CHE = {	
						remove_ideas = CHE_kto
						country_event = subject_rus.26
					}
				}
				if = {
					limit = { 
						SOV = { owns_state = 672 }
						NOT = { SOV = { is_ai = yes } }
					}
					SOV = { 
						add_timed_idea = { idea = CHE_russian_unstability days = 100 }
						remove_ideas = CHE_kto
						set_country_flag = che_bunt_finished
						country_event = subject_rus.26
					}
					CHE = {	
						remove_ideas = CHE_kto
						country_event = subject_rus.26
					}
					CHE = { transfer_state = 672 }
					CHE = { add_state_core = 672 }
				}
			}
			###########ROSGVARDIA TO SUBJECTS###########
			#ADDED ROSGVARIA TO SUBJECTS
			if = {
				limit = {
					OR = {
					original_tag = CHE
					original_tag = YAK
					original_tag = PMR
					original_tag = DAG
					original_tag = CRM
					original_tag = KAE
					original_tag = TAT
					original_tag = BSH
					original_tag = NEE
					original_tag = YAM
					original_tag = LPR
					original_tag = DPR
					original_tag = CKK
					original_tag = KHS
					original_tag = ALT
					original_tag = URA
					original_tag = SIB
					original_tag = FAR
					original_tag = GOR
					original_tag = KUB
					original_tag = TUV
					original_tag = KOM
					original_tag = ADY
					original_tag = KCC
					original_tag = KBK
					original_tag = ING
					original_tag = BRY
					original_tag = SOO
					original_tag = KLM
					original_tag = KHM
					original_tag = MLR
					original_tag = CHU
					original_tag = MEL
					original_tag = MOV
					original_tag = UDM
					}
					has_autonomy_state = autonomy_republic_rf
					NOT = { has_idea = SUB_ros_gvard_idea }
					SOV = {
						has_completed_focus = SOV_rosguard_start_org
					}
				}
				division_template = {
					name = "Rosgvardia"
						regiments = {
							Militia_Bat = { x = 0 y = 0 }
							Militia_Bat = { x = 0 y = 1 }
							Militia_Bat = { x = 1 y = 0 }
							Militia_Bat = { x = 1 y = 1 }
							Militia_Bat = { x = 1 y = 2 }
							Militia_Bat = { x = 2 y = 1 }
							Arty_Bat = { x = 2 y = 0 }
							Arty_Bat = { x = 2 y = 1 }
							Arty_Bat = { x = 2 y = 2 }
						}
						support = {
							Mot_Recce_Comp = { x = 0 y = 0 }
							L_Engi_Comp = { x = 0 y = 1 }
						}
					}
				add_ideas = SUB_ros_gvard_idea
			}
			#REMOVED ROSGVARIA FROM SUBJECTS
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = KCC
						original_tag = ING
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					NOT = {
						has_autonomy_state = autonomy_republic_rf
					}
					has_idea = SUB_ros_gvard_idea
				}
				delete_unit_template_and_units = {
					division_template = "Rosgvardia"
					disband = yes
				}
				remove_ideas = SUB_ros_gvard_idea
			}
		}
	}
	on_monthly = {
		effect = {
		#CTO ADDED RADICALISATION EVERY MONTH
		if = {
			limit = {
				original_tag = SOV
				check_variable = { SOV.radicalche > 10 }
				NOT = { SOV = { has_country_flag = che_kto_finished } }
				NOT = { SOV = { has_country_flag = che_bunt_finished } }
				OR = {
					owns_state = 672
					CHE = {
						is_subject = yes
						has_autonomy_state = autonomy_republic_rf
					}
				}
			}
			set_temp_variable = { modify_radicalche = 3 }
			modify_radicalche_support = yes
		}
		if = {
			limit = {
				original_tag = BSH
				has_idea = BSH_bashkiria_indep
				has_autonomy_state = autonomy_republic_rf
			}
			set_temp_variable = { modify_subjectavtoritet = -1 }
			modify_subjectavtoritet_support = yes
		}
		if = {
			limit = {
				original_tag = BSH
				has_idea = BSH_bashkiria_indep1
				has_autonomy_state = autonomy_republic_rf
			}
			set_temp_variable = { modify_subjectavtoritet = -2 }
			modify_subjectavtoritet_support = yes
		}
		if = {
			limit = {
				original_tag = TAT
				has_idea = TAT_bashkiria_indep
				has_autonomy_state = autonomy_republic_rf
			}
			set_temp_variable = { modify_subjectavtoritet = -1 }
			modify_subjectavtoritet_support = yes
		}
		}
	}
}



