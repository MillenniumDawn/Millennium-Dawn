add_namespace = usa_soleimani
add_namespace = usa_soleimani_news

#Soleimani assassinated
country_event = {
	id = usa_soleimani.1
	title = usa_soleimani.1.t
	desc = usa_soleimani.1.d

	picture = GFX_ghasem_soleimani_terror

	is_triggered_only = yes
	#trigger = {
	#	date = 2017.01.03
	#}
	option = { # We will take revenge...
		name = usa_soleimani.1.a
		retire_character = PER_qasem_soleimani
		log = "[GetDateText]: [This.GetName]: usa_soleimani.1.a executed"
		add_named_threat = {
			threat = 5
			name = "Iran Swears Revenge"
		}
		add_ideas = qasem_soleimani
		set_country_flag = harash_revenge
		news_event = {
			id = usa_soleimani_news.1
			days = 1
		}
	}
	option = { #This means war
		name = usa_soleimani.1.b
		retire_character = PER_qasem_soleimani
		log = "[GetDateText]: [This.GetName]: usa_soleimani.1.b executed"
		if = {
			limit = { country_exists = USA }
			declare_war_on = {
				target = USA
				type = puppet_wargoal_focus
			}
			add_named_threat = {
				threat = 10
				name = "Iran Declares War"
			}
		}
		add_ideas = qasem_soleimani
		news_event = {
			id = usa_soleimani_news.2
			days = 1
		}
	}
	option = { #Sad...
		name = usa_soleimani.1.c
		retire_character = PER_qasem_soleimani
		log = "[GetDateText]: [This.GetName]: usa_soleimani.1.c executed"
		add_political_power = -150
		add_war_support = -0.05
		add_ideas = qasem_soleimani
		news_event = {
			id = usa_soleimani_news.2
			days = 1
		}
	}
}

#American Base bombing
country_event = {
	id = usa_soleimani.2
	title = usa_soleimani.2.t
	desc = usa_soleimani.2.d

	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = { #Retaliate
		name = usa_soleimani.2.a
		log = "[GetDateText]: [This.GetName]: usa_soleimani.2.a executed"
		if = {
			limit = { country_exists = PER }
			declare_war_on = {
				target = PER
				type = puppet_wargoal_focus
			}
		}
		ai_chance = {
			factor = 0
		}
	}

	option = { #impose sanctions
		name = usa_soleimani.2.b
		log = "[GetDateText]: [This.GetName]: usa_soleimani.2.b executed"
		add_opinion_modifier = {
			target = PER
			modifier = harsh_sanctions
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Iran declares war on Iraq
country_event = {
	id = usa_soleimani.3
	title = usa_soleimani.3.t
	desc = usa_soleimani.3.d
	#picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = usa_soleimani.3.a
		log = "[GetDateText]: [This.GetName]: usa_soleimani.3.a executed"
		add_to_war = {
			targeted_alliance = IRQ
			enemy = PER
			hostility_reason = asked_to_join
		}
	}

	option = {
		name = usa_soleimani.3.b
		log = "[GetDateText]: [This.GetName]: usa_soleimani.3.b executed"
		add_political_power = -60
	}
}
#Iran swears revenge
news_event = {
	id = usa_soleimani_news.1
	title = usa_soleimani_news.1.t
	desc = usa_soleimani_news.1.d
	#picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = usa_soleimani_news.1.a
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.1.a executed"
		trigger = {
			NOT = { original_tag = PER }
		}
	}
	option = {
		name = usa_soleimani_news.1.b
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.1.b executed"
		trigger = {
			original_tag = PER
		}
	}
}

#Iran declares war
news_event = {
	id = usa_soleimani_news.2
	title = usa_soleimani_news.2.t
	desc = usa_soleimani_news.2.d
	#picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = usa_soleimani_news.2.a
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.2.a executed"
		trigger = {
			NOT = { original_tag = PER }
		}
	}

	option = {
		name = usa_soleimani_news.2.b
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.2.b executed"
		trigger = {
			original_tag = PER
		}
	}
}

#Iran pressures Iraq
news_event = {
	id = usa_soleimani_news.3
	title = usa_soleimani_news.3.t
	desc = usa_soleimani_news.3.d

#	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = usa_soleimani_news.3.a
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.3.a executed"
		trigger = {
			NOT = { original_tag = PER }
		}
	}
	option = {
		name = usa_soleimani_news.3.b
		log = "[GetDateText]: [This.GetName]: usa_soleimani_news.3.b executed"
		trigger = {
			original_tag = PER
		}
	}
}