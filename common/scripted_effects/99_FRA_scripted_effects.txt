# Author(s): Angriest Bird
# Purpose: Manipulate the variables for the Space System
FRA_space_enthusiasm_effect = {
	add_to_variable = { FRA.FRA_peoples_support = temp_change }
	custom_effect_tooltip = FRA_space_enthusiasm_effect_tt
}
FRA_space_income_effect = {
	add_to_variable = { FRA.FRA_space_income_var = temp_change }
	custom_effect_tooltip = FRA_space_income_effect_tt
}

# NEPAD Effects
FRA_nepad_health_cost_modifier_effect = {
	add_to_variable = { global.africa_nepad_health_cost_modifier = temp_change }
	custom_effect_tooltip = FRA_nepad_health_cost_modifier_effect_tt
}

FRA_nepad_social_cost_modifier_effect = {
	add_to_variable = { global.africa_nepad_social_care_modifier = temp_change }
	custom_effect_tooltip = FRA_nepad_social_cost_modifier_effect_tt
}

FRA_nepad_education_cost_modifier_effect = {
	add_to_variable = { global.africa_nepad_education_modifier = temp_change }
	custom_effect_tooltip = FRA_nepad_education_cost_modifier_effect_tt
}

FRA_nepad_buildings_construction_modifier_effect = {
	add_to_variable = { global.africa_nepad_building_construction_modifier = temp_change }
	custom_effect_tooltip = FRA_nepad_buildings_construction_modifier_effect_tt
}

FRA_nepad_cost_increase_cost_effect = {
	add_to_variable = { FRA.FRA_nepad_sponsor_weekly_cost = temp_change }
	custom_effect_tooltip = FRA_nepad_cost_increase_cost_effect_tt
}

FRA_sum_beginning_factories_in_array = {
    set_temp_variable = { temp_factories = 0 }
    for_each_loop = {
        array = FRA.state_test
        value = state_id
        hidden_effect = {
			# every_state
            every_owned_state = {
				if = {
					limit = { check_variable = { THIS.id = state_id } }
					add_to_temp_variable = { temp_factories = THIS.building_level@industrial_complex }
				}
                # add_to_temp_variable = { temp_factories = THIS.building_level@industrial_complex }
            }
        }
    }
    set_variable = { FRA.num_beginning_factories = temp_factories }
}

FRA_sum_current_factories_in_array = {
    set_temp_variable = { temp_factories = 0 }
    for_each_loop = {
        array = FRA.state_test
        value = state_id
        hidden_effect = {
            every_owned_state = {
                if = {
                    # limit = { check_variable = { THIS.id = state_id } }
					limit = { state = state_id }
					# add_to_variable = { FRA.factories_now = THIS.building_level@industrial_complex }
					add_to_temp_variable = { temp_factories = THIS.building_level@industrial_complex }
                }
            }
        }
    }
    set_temp_variable = { temp_factories_built = temp_factories }
    subtract_from_temp_variable = { temp_factories_built = FRA.num_beginning_factories }
    set_variable = { FRA.factories_now = temp_factories_built }
}