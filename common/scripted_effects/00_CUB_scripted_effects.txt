
modify_blockade_support = {
	add_to_variable = { blockade = modify_blockade }
	custom_effect_tooltip = CUB_blockadea_tt
	clamp_variable = {
		var = blockade
		min = 1
		max = 100
	}
	update_blockade_ideas = yes
}
update_blockade_ideas = {
	hidden_effect = {
			if = {
				limit = {
					check_variable = { blockade < 30 }
					NOT = { has_idea = CUB_idea_blockade2 }
				}
				CUB = {
					remove_ideas = { CUB_idea_blockade CUB_idea_blockade4 CUB_idea_blockade1 }
					add_ideas = CUB_idea_blockade2
				}
			}
			if = {
				limit = {
					check_variable = { blockade > 29 }
					check_variable = { blockade < 50 }
					NOT = { has_idea = CUB_idea_blockade4 }
				}
				CUB = {
					remove_ideas = { CUB_idea_blockade CUB_idea_blockade1 CUB_idea_blockade2 }
					add_ideas = CUB_idea_blockade4
				}
			}
			if = {
				limit = {
					check_variable = { blockade > 49 }
					check_variable = { blockade < 60 }
					NOT = { has_idea = CUB_idea_blockade }
				}
				CUB = {
					remove_ideas = { CUB_idea_blockade4 CUB_idea_blockade1 CUB_idea_blockade2 }
					add_ideas = CUB_idea_blockade
				}
			}
			if = {
				limit = {
					check_variable = {  blockade > 59 }
					check_variable = {  blockade < 80 }
					NOT = { has_idea = CUB_idea_blockade1 }
				}
				CUB = {
					remove_ideas = { CUB_idea_blockade4 CUB_idea_blockade CUB_idea_blockade2 }
					add_ideas = CUB_idea_blockade1
				}
			}
		}
	}
	confederation_creation = {
		create_faction = antillean_conf
		every_country = {
			limit = {
				has_country_flag = antillies_conf_agree
			}
			add_ideas = CUB_caribean_nation
		}
		if = {
			limit = {
				COL = { has_country_flag = antillies_conf_agree }
			}
			CUB = { add_to_faction = COL }
		}
		if = {
			limit = {
				HAI = { has_country_flag = antillies_conf_agree }
			}
			CUB = { add_to_faction = HAI }
		}
		if = {
			limit = {
				DOM = { has_country_flag = antillies_conf_agree }
			}
			CUB = { add_to_faction = DOM }
		}
		if = {
			limit = {
				JAM = { has_country_flag = antillies_conf_agree }
			}
			CUB = { add_to_faction = JAM }
		}
		if = {
			limit = {
				PTR = { has_country_flag = antillies_conf_agree }
			}
			CUB = { add_to_faction = PTR }
		}
	}
