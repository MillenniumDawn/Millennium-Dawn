# Author(s): LordBogdanoff
on_actions = {
	on_weekly = {
		effect = {
			# REMOVE SUBJECT IDEA
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = BRY
						original_tag = KCC
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					NOT = {	has_autonomy_state = autonomy_republic_rf }
					has_idea = CHE_republic_rf
				}
				remove_ideas = CHE_republic_rf
			}
			#ADDED SUBJECT IDEA
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = KCC
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					has_autonomy_state = autonomy_republic_rf
					NOT = { has_idea = CHE_republic_rf }
				}
				add_ideas = CHE_republic_rf
			}
			#ADDED COUNTRY FLAG
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = KCC
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					has_autonomy_state = autonomy_republic_rf
					SOV = { has_country_flag = SOV_united_russia }
					NOT = { has_country_flag = SUB_united_russia }
				}
				set_country_flag = SUB_united_russia
			}
			#ADDED AUTONOMY FOR SUBJECTS
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KCC
						original_tag = KHM
						original_tag = LPR
						original_tag = DPR
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					NOT = { has_autonomy_state = autonomy_republic_rf }
					is_subject_of = SOV
					has_country_flag = SOV_subject_agree
				}
				SOV = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_republic_rf
					}
				}
			}
			#ADDED +1 FOR SUBJECTS NUMBER
			if = {
				limit = {
					SOV_subjects_available = yes
					NOT = { SOV = { has_idea = SUB_confederation } }
				}
				SOV = {	add_ideas = SUB_confederation }
			}
			#REMOVED -1 FOR SUBJECTS NUMBER
			if = {
				limit = {
					SOV_subjects_disable = yes
					SOV = { has_idea = SUB_confederation }
				}
				SOV = {	remove_ideas = SUB_confederation  }
			}
			#SUBJECTS AUTORITY
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = ING
						original_tag = KCC
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
						}
						has_autonomy_state = autonomy_republic_rf
				}
				set_temp_variable = { modify_subjectavtoritet = 2 }
				modify_subjectavtoritet_support = yes
			}
			#DELETED ICHKERIA TEMPLATES AND GENERALS FROM CHE
			if = {
				limit = {
					original_tag = CHE
					NOT = { CHE = { has_country_flag = delete_ichkeria } }
					CHE = {
						is_subject = yes
						has_autonomy_state = autonomy_republic_rf
					}
				}
				set_country_flag = delete_ichkeria
				delete_unit_template_and_units = {
					division_template = "Brigada Natsionalnoi Gvardiy"
					disband = yes
				}
				delete_unit_template_and_units = {
					division_template = "Checheneskie Modzhakhedi"
					disband = yes
				}
				retire_character = CHE_aslan_maskhadov
				retire_character = CHE_abdul_halim_sadulayev
				retire_character = CHE_ruslan_gelayev
				retire_character = CHE_dokka_umarov
				retire_character = CHE_shamil_basayev
				retire_character = CHE_ibn_al_khattab
				retire_character = CHE_akhmed_zakayev
				retire_character = CHE_air_chief
			}
			###########ROSGVARDIA TO SUBJECTS###########
			#ADDED ROSGVARIA TO SUBJECTS
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KCC
						original_tag = KBK
						original_tag = ING
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					has_autonomy_state = autonomy_republic_rf
					NOT = { has_idea = SUB_ros_gvard_idea }
					SOV = {
						has_completed_focus = SOV_rosguard_start_org
					}
				}
				division_template = {
					name = "Rosgvardia"
						regiments = {
							Militia_Bat = { x = 0 y = 0 }
							Militia_Bat = { x = 0 y = 1 }
							Militia_Bat = { x = 1 y = 0 }
							Militia_Bat = { x = 1 y = 1 }
							Militia_Bat = { x = 1 y = 2 }
							Militia_Bat = { x = 2 y = 1 }
							Arty_Bat = { x = 2 y = 0 }
							Arty_Bat = { x = 2 y = 1 }
							Arty_Bat = { x = 2 y = 2 }
						}
						support = {
							Mot_Recce_Comp = { x = 0 y = 0 }
							L_Engi_Comp = { x = 0 y = 1 }
						}
					}
				add_ideas = SUB_ros_gvard_idea
			}
			#REMOVED ROSGVARIA FROM SUBJECTS
			if = {
				limit = {
					OR = {
						original_tag = CHE
						original_tag = YAK
						original_tag = PMR
						original_tag = DAG
						original_tag = CRM
						original_tag = KAE
						original_tag = TAT
						original_tag = BSH
						original_tag = NEE
						original_tag = YAM
						original_tag = LPR
						original_tag = DPR
						original_tag = CKK
						original_tag = KHS
						original_tag = ALT
						original_tag = URA
						original_tag = SIB
						original_tag = FAR
						original_tag = GOR
						original_tag = KUB
						original_tag = TUV
						original_tag = KOM
						original_tag = ADY
						original_tag = KBK
						original_tag = KCC
						original_tag = ING
						original_tag = BRY
						original_tag = SOO
						original_tag = KLM
						original_tag = KHM
						original_tag = MLR
						original_tag = CHU
						original_tag = MEL
						original_tag = MOV
						original_tag = UDM
					}
					NOT = {
						has_autonomy_state = autonomy_republic_rf
					}
					has_idea = SUB_ros_gvard_idea
				}
				delete_unit_template_and_units = {
					division_template = "Rosgvardia"
					disband = yes
				}
				remove_ideas = SUB_ros_gvard_idea
			}
		}
	}
}
