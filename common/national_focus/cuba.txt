#Author: KurtFF8
#Project Started: July 2022

focus_tree = {
	id = cuba_focus
	continuous_focus_position = { x = 100 y = 1050 } 
	country = {
		factor = 0
		modifier = {
			add = 20
			tag = CUB
		}
	}

	#Political Focuses
	#Cuba's Future
	focus = {
		id = CUB_cubafuture
		icon = Election_graphics
		x = 15
		y = 0
		cost = 5
		mutually_exclusive = { focus = CUB_new_path }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		select_effect = { }
		completion_reward = {
			add_political_power = 100
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
				
	}	
	#Cuban Socialism
	
	focus = {
		id = CUB_cuban_socialism
		icon = Cuba_Communist
		x = 10
		y = 1
		cost = 10
		mutually_exclusive = { focus = CUB_new_path }
		prerequisite = { focus = CUB_cubafuture  }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
            add_popularity = {
                ideology = communism
                popularity = 0.05
				#! Testing this mechanic
				add_to_variable = {
					var = cub_sub_threat
					value = -5
				}
            }			
			
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}

	}

	#Overcoming the Special Period
	#This will be tied to a temporary national spirit about the SP
	#Need to have this add one or two factories in Cuba, not france
	focus = {
		id = CUB_end_sp
		x = -4
		y = 1
		relative_position_id = CUB_cuban_socialism
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			remove_ideas = CUB_idea_special_period
			set_temp_variable = { treasury_change = 1 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
		}
			add_stability = 0.02

		}
		prerequisite = { focus = CUB_cuban_socialism  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	
	#Revitalization via Tourism mutually exclusive with rectification
	focus = {
		id = CUB_revi_tour
		x = -1
		y = 1
		relative_position_id = CUB_end_sp
		prerequisite = { focus = CUB_end_sp  }
		icon = armenia_turizm
		cost = 10
		mutually_exclusive = { focus = CUB_rect_camp }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			
			#Needs work! Maybe minus the tooltip?
			add_ideas = CUB_idea_tourist_industry_1
			#set_variable = {CUB_tourism_1_effect = 0.5 }

			set_temp_variable = { treasury_change = -0.600 }
			modify_treasury_effect = yes
			increase_economic_growth = yes
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Tourism Projects
		focus = {
		id = CUB_tourism_projects
		x = -4
		y = 1
		relative_position_id = CUB_revi_tour
		icon = armenia_turizm
		cost = 5
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50

		}
		prerequisite = { focus = CUB_revi_tour  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Hotel Nacional
		focus = {
		id = CUB_hotel_nacional
		x = -1
		y = 1
		relative_position_id = CUB_tourism_projects
		icon = armenia_turizm
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = -0.100 }
			modify_treasury_effect = yes
			remove_ideas = CUB_idea_tourist_industry_1
			add_ideas = CUB_idea_tourist_industry_2
			add_political_power = 50

		}
		prerequisite = { focus = CUB_tourism_projects  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Develop  Varadero
		focus = {
		id = CUB_dev_varadero
		x = 0
		y = 1
		relative_position_id = CUB_hotel_nacional
		icon = armenia_turizm
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = -0.100 }
			modify_treasury_effect = yes			

			remove_ideas = CUB_idea_tourist_industry_2
			add_ideas = CUB_idea_tourist_industry_3
			add_political_power = 50

		}
		prerequisite = { focus = CUB_hotel_nacional  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
		#Cubana de AviaciÃ³n
		focus = {
		id = CUB_cubana
		x = 1
		y = 1
		relative_position_id = CUB_tourism_projects
		icon = armenia_turizm
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			set_temp_variable = { treasury_change = -0.500 }
			modify_treasury_effect = yes
				add_equipment_to_stockpile = {
					type = transport_helicopter2
					amount = 40
					producer = SOV
				}

		}
		prerequisite = { focus = CUB_tourism_projects  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	
	
	#Tolerate some small business #Add idea or $
	focus = {
		id = CUB_tol_smallb
		x = 0
		y = 1
		relative_position_id = CUB_revi_tour
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			#Needs work!
			add_ideas = CUB_idea_Tol_Biz_1
			swap_ideas = {
				remove_idea = labour_unions
				add_idea = small_medium_business_owners
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}


		}
		prerequisite = { focus = CUB_revi_tour  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Discuss more market reforms
	focus = {
		id = CUB_markettalk
		x = 1
		y = 1
		relative_position_id = CUB_tol_smallb
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_to_variable = { var = cub_subv_threat value = 5 }
			custom_effect_tooltip = cub_modify_subv_support_5_tt		
            swap_ideas = {
                remove_idea = md_closed_economy
                add_idea = consumption_economy
            }
		}
		prerequisite = { focus = CUB_tol_smallb  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Agricultural Co-ops
	focus = {
		id = CUB_agri_coops
		icon = agriculture2
		x = -1
		y = 1
		relative_position_id = CUB_tol_smallb
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_ideas = CUB_idea_coops 
			add_political_power = 50
			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes
	
		}
		prerequisite = { focus = CUB_tol_smallb  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
	

	#Rectification
	focus = {
		id = CUB_rect_camp
		icon = labor_unions
		x = 2
		y = 1
		cost = 10
		relative_position_id = CUB_end_sp
		mutually_exclusive = { focus = CUB_revi_tour }
		prerequisite = { focus = CUB_end_sp  }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			add_popularity = {
				ideology = communism
				popularity = 0.05
				}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

	}
		
		
	#Criticize Tourism
		focus = {
		id = CUB_crit_tourism

		x = 1
		y = 1
		relative_position_id = CUB_rect_camp

		cost = 10
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
				}
			add_stability = 0.05
		}
		prerequisite = { focus = CUB_rect_camp  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#Maintain State Agriculture
		focus = {
		id = CUB_state_agri
		icon = agriculture

		x = -1
		y = 1
		relative_position_id = CUB_rect_camp
		prerequisite = { focus = CUB_rect_camp  }

		cost = 10

		completion_reward = {
					set_temp_variable = { temp_opinion = -5 }
			change_farmers_opinion = yes
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#Crack down on illegal business
		focus = {
		id = CUB_crackon_biz

		x = 0
		y = 1
		relative_position_id = CUB_crit_tourism

		cost = 10

		prerequisite = { focus = CUB_crit_tourism  }
		completion_reward = {
			add_ideas = CUB_idea_biz_crackdown
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes	
			add_stability = 0.05
			add_to_variable = { var = cub_subv_threat value = 5 }
			custom_effect_tooltip = cub_modify_subv_support_5_tt	
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	#Another sub tree of Cuban Socialism
	#Primacy of the PCC
	focus = {
		id = CUB_prime_pcc
		x = 0
		y = 1
		relative_position_id = CUB_cuban_socialism
		cost = 10
		#mutually_exclusive = { focus = CUB_NAME FOR Multiparty }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_popularity = { 
			ideology = communism 
			popularity = 0.01 
			}
		
		}
		prerequisite = { focus = CUB_cuban_socialism  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	

	
	#Battle of Ideas - This will add event
	focus = {
		id = CUB_battle_ideas
		x = 2
		y = 1
		relative_position_id = CUB_prime_pcc
		prerequisite = { focus = CUB_prime_pcc }
		prerequisite = { focus = CUB_end_sp  } 
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = democratic
				popularity = 0.05
				}
			add_popularity = {
				ideology = communism
				popularity = 0.05
				}		
			add_to_variable = { var = cub_subv_threat value = 5 }
			custom_effect_tooltip = cub_modify_subv_support_5_tt				
				#cub_modify_subv_support= yes

		
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}

	}
	
	#Religious Question
	focus = {
		id = CUB_rel_quest
		x = 4
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_battle_ideas  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Atheism
	focus = {
		id = CUB_atheist

		x = -1
		y = 1
		relative_position_id = CUB_rel_quest
		prerequisite = { focus = CUB_rel_quest  }
		mutually_exclusive = {focus = CUB_approach_church }
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_opinion_modifier = { target = HLS modifier = ideological_disputes }
			HLS = {
				add_opinion_modifier = { target = ROOT modifier = ideological_disputes }
			}
			remove_ideas = christian
			add_ideas = DEN_idea_state_atheism

		}
		prerequisite = { focus = CUB_rel_quest  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#Ban Church
	focus = {
		id = CUB_ban_church
		icon = christianophobia
		x = 0
		y = 1
		relative_position_id = CUB_atheist
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_opinion_modifier = { target = HLS modifier = unprovoked_aggression }
			HLS = {
				add_opinion_modifier = { target = ROOT modifier = unprovoked_aggression }
			}
			add_stability = -0.05
			custom_effect_tooltip = cub_modify_subv_support_5_tt
			add_to_variable = { var = cub_subv_threat value = 5 }
		}
		prerequisite = { focus = CUB_atheist  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}	
	#Aproach the Church
	focus = {
		id = CUB_approach_church
		x = 1
		y = 1
		relative_position_id = CUB_rel_quest
		prerequisite = { focus = CUB_rel_quest  }
		mutually_exclusive = {focus = CUB_atheist}
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_opinion_modifier = { target = HLS modifier = diplomatic_support }
			HLS = {
				add_opinion_modifier = { target = ROOT modifier = diplomatic_support }
			}
			add_stability = 0.05
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Santeria
	focus = {
		id = CUB_santer
		x = 0
		y = 1
		relative_position_id = CUB_approach_church
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_approach_church  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 1
				is_historical_focus_on = yes
			}
		}
	}		
	#Palpal Visit
	focus = {
		id = CUB_pope_visit
		x = 0
		y = 1
		relative_position_id = CUB_santer
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_opinion_modifier = { target = HLS modifier = declaration_of_friendship }
			HLS = {
				add_opinion_modifier = { target = ROOT modifier = declaration_of_friendship }
			
			}
			add_stability = 0.04
			#Need to make this a tt or something
			add_to_variable = { var = cub_subv_threat value = 10 }
				clamp_variable = {
					var = cub_subv_threat
					min = 0
					max = 100
				}		
			CUB_modify_subv_support= yes
		}
		prerequisite = { focus = CUB_santer }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
	#Ratify Socialism - Parl Socialism
	focus = {
		id = CUB_parl_soc
		x = 1
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes	
			add_stability = 0.05			
		}
		prerequisite = { focus = CUB_battle_ideas  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
	#Strengthen CDRs
	focus = {
		id = CUB_st_cdrs
		x = -1
		y = 1
		relative_position_id = CUB_battle_ideas
		cost = 10
		prerequisite = { focus = CUB_battle_ideas  }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_CDR_Mobilize
			add_manpower = 2000
			custom_effect_tooltip = cub_unlock_cdr_tt
			set_temp_variable = { treasury_change = -0.300 }
			modify_treasury_effect = yes
			CUB = {
				division_template = {
					name = "CDR Militia 1"
					is_locked = no
				regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
				}
				}
			}			
			854 = {
				create_unit = {
					division = "name = \"Jose Marti CDR Division Pinar Del Rio\" division_template = \"CDR Militia 1\" start_experience_factor = 0.2"
					owner = CUB
					prioritize_location = 9625
					}
				}
		
			}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
		
	#Let Us Be Like Che!
	focus = {
		id = CUB_belike_che
		x = 0
		y = 2
		relative_position_id = CUB_battle_ideas
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
            add_manpower = 5000
		}
		prerequisite = { focus = CUB_parl_soc  }
		prerequisite = { focus = CUB_st_cdrs  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Social Media and internet
	
	#Control Internet
	focus = {
		id = CUB_internet_control
		x = -1
		y = 1
		relative_position_id = CUB_belike_che
		prerequisite = { focus = CUB_belike_che }
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50			
			custom_effect_tooltip = cub_modify_subv_support_m5_tt
			add_tech_bonus = {
				bonus = -0.05
				uses = 1
				category = internet_tech
				}	
			add_stability = 0.05
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
	#Deals w Venezuela
	focus = {
		id = CUB_int_ven_deal
		x = -2
		y = 1
		relative_position_id = CUB_internet_control
		prerequisite = { focus = CUB_internet_control }
		cost = 10
		mutually_exclusive = { focus = CUB_domestic_internet }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = -1.0 }
			modify_treasury_effect = yes
			add_political_power = 75
			add_tech_bonus = {
				bonus = 0.2
				uses = 2
				category = internet_tech
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}

		
	#Domest Internet Tech
	focus = {
		id = CUB_domestic_internet
		x = 0
		y = 1
		relative_position_id = CUB_internet_control
		prerequisite = { focus = CUB_internet_control }
		cost = 10
		mutually_exclusive = { focus = CUB_int_ven_deal }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = -2.0 }
			modify_treasury_effect = yes
			add_political_power = 100
			add_tech_bonus = {
				bonus = 0.3
				uses = 1
				category = internet_tech
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}


	#Open Internet
	focus = {
		id = CUB_internet_open
        icon = social_media
		x = 1
		y = 1
		relative_position_id = CUB_belike_che
		prerequisite = { focus = CUB_belike_che }
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_to_variable = { var = cub_subv_threat value = 15 }
			custom_effect_tooltip = cub_modify_subv_support_15_tt
			add_popularity = {
				ideology = democratic
				popularity = 0.05
				}

		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

	}	
	#European ISPs
	focus = {
		id = CUB_euro_isps
		x = 0
		y = 1
		relative_position_id = CUB_internet_open
		prerequisite = { focus = CUB_internet_open }
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_temp_variable = { treasury_change = -0.5 }			
			add_political_power = -50
			add_to_variable = { var = cub_subv_threat value = 5 }
			custom_effect_tooltip = cub_modify_subv_support_5_tt				
				add_tech_bonus = {
				bonus = 0.4
				uses = 2
				category = internet_tech
				}		
			add_popularity = {
				ideology = democratic
				popularity = 0.05
				}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}		

		
	#New Path
	focus = {
		id = CUB_new_path
		
		x = 10
		y = 0
		relative_position_id = CUB_cuban_socialism
		cost = 5
		mutually_exclusive = { focus = CUB_cuban_socialism }
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
		}
		prerequisite = { focus = CUB_cubafuture  }	
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}		
	}
		
	#Capitalist/Pro-Western Path
		focus = {
		id = CUB_pro_west
		x = 0
		y = 1
		relative_position_id = CUB_new_path
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		prerequisite = { focus = CUB_new_path  }
		completion_reward = {
			add_political_power = -100
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	#International Relations
	

		focus = {
		id = CUB_Intl_Rel
		icon = global_community

		x = 20
		y = -1
		relative_position_id = CUB_cuban_socialism
		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
		}
		cost = 5
		completion_reward = {
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}		
	#US Relations
	#To add: Cuban 5 Content, Embargo Content, Guantanamo conent
	#War on terror content if US has done so 
		focus = {
		id = CUB_USRel

		x = 7
		y = 1
		relative_position_id = CUB_Intl_Rel

		cost = 10
		prerequisite = { focus = CUB_Intl_Rel  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Guantanamo 
		focus = {
		id = CUB_Gitmo

		x = 4
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Guantanamo Political Pressure
		focus = {
		id = CUB_Gitmo_PP

		x = -2
		y = 1
		relative_position_id = CUB_Gitmo

		cost = 10
		prerequisite = { focus = CUB_Gitmo  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Guantanamo Demand Now
		focus = {
		id = CUB_Gitmo_DemandNow

		x = 0
		y = 1
		relative_position_id = CUB_Gitmo

		cost = 10
		prerequisite = { focus = CUB_Gitmo  }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

	}
	#Rally support to condemn blockade
		focus = {
		id = CUB_CondemnUS

		x = -1
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#Rally support to condemn blockade
		focus = {
		id = CUB_Demand_Block_Payment

		x = 0
		y = 1
		relative_position_id = CUB_CondemnUS

		cost = 10
		prerequisite = { focus = CUB_CondemnUS  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Demand release of the 5
		focus = {
		id = CUB_DemandThe5

		x = 1
		y = 1
		relative_position_id = CUB_USRel

		cost = 10
		prerequisite = { focus = CUB_USRel  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Latin America
		focus = {
		id = CUB_Latin_Am_Rel

		x = -6
		y = 1
		relative_position_id = CUB_Intl_Rel

		cost = 5
		prerequisite = { focus = CUB_Intl_Rel  }
		completion_reward = { add_political_power = 100 }
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Host the FARC - This will need work if internal conflict dynamics are added
		focus = {
		id = CUB_FARC_RR

		x = 2
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel }
		
		completion_reward = {
			add_manpower = 1000
			COL = { 
			add_opinion_modifier = { target = ROOT modifier = rebel_support }
			add_stability = -0.05
			}

		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Support Bolivian Left
		focus = {
		id = CUB_Support_Bol_Left

		x = -2
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel  }
	
		completion_reward = {
		add_political_power = -100
			BOL = {
				add_popularity = {
                ideology = communism
                popularity = 0.10
				decay = 0.01
				}
			}
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#ALB tree
	#Strengthen Ties with Venezuela
		focus = {
		id = CUB_Ven_Ties

		x = 0
		y = 1
		relative_position_id = CUB_Latin_Am_Rel

		cost = 10
		prerequisite = { focus = CUB_Latin_Am_Rel }
		
		completion_reward = {
			add_opinion_modifier = { target = VEN modifier = declaration_of_friendship }
			VEN = {
				add_opinion_modifier = { target = ROOT modifier = declaration_of_friendship }
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Pink Tide - This isn't all of the Pink Tide but considering how early it can be fired, it's best to keep the scope limited.
		focus = {
		id = CUB_Pink_Tide

		x = 0
		y = 1
		relative_position_id = CUB_Ven_Ties

		cost = 10
		prerequisite = { focus = CUB_Ven_Ties }
		
		completion_reward = {
			BRA = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			VEN = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			NIC = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			ARG = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			BOL = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			ECU = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
			HON = {
				add_popularity = {
                ideology = communism
                popularity = 0.05
				decay = 0.01
				}
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#ALBA
		focus = {
		id = CUB_ALBA

		x = 0
		y = 1
		relative_position_id = CUB_Pink_Tide

		cost = 10
		prerequisite = { focus = CUB_Pink_Tide }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#ALBA - Economic
		focus = {
		id = CUB_ALBA_Econ

		x = -2
		y = 1
		relative_position_id = CUB_ALBA

		cost = 10
		prerequisite = { focus = CUB_ALBA}
		mutually_exclusive = { focus = CUB_ALBA_Mili }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#PetroCaribe
		focus = {
		id = CUB_petro_car

		x = -2
		y = 1
		relative_position_id = CUB_ALBA_Econ

		cost = 10
		prerequisite = { focus = CUB_ALBA_Econ }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#ALBA - Invite Bolivia
		focus = {
		id = CUB_invite_bolivia

		x = 0
		y = 1
		relative_position_id = CUB_ALBA_Econ

		cost = 10
		prerequisite = { focus = CUB_ALBA_Econ }
		available = {
			BOL = {
			has_opinion = {
			target = CUB
					value > 99
		}
		OR = {
			has_government = communism
			has_government = neutrality
			#is_in_array = { ruling_party = 4  } #Communist-State
			#is_in_array = { ruling_party = 5  } #anarchist_communism
			#is_in_array = { ruling_party = 17 } #Neutral_green
			#is_in_array = { ruling_party = 18 } #neutral_Social
			#is_in_array = { ruling_party = 19 } #Neutral_Communism
			   }
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#TeleSUR
		focus = {
		id = CUB_telesur

		x = 2
		y = 1
		relative_position_id = CUB_ALBA_Econ

		cost = 10
		prerequisite = { focus = CUB_ALBA_Econ }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#ALBA - Military
		focus = {
		id = CUB_ALBA_Mili

		x = 4
		y = 1
		relative_position_id = CUB_ALBA

		cost = 10
		prerequisite = { focus = CUB_ALBA}
		mutually_exclusive = { focus = CUB_ALBA_Econ }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	#ALBA - Military - Training missions
		focus = {
		id = CUB_ALBA_Training

		x = 0
		y = 1
		relative_position_id = CUB_ALBA_Mili

		cost = 10
		prerequisite = { focus = CUB_ALBA_Mili}


		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}	
	}


	#ELAM - Add improved relations with some countries and perhaps manpower or health changes
		focus = {
		id = CUB_ELAM
		
		x = 0
		y = 1
		relative_position_id = CUB_Intl_Rel		
		
		cost = 10
		
		prerequisite = { focus = CUB_Intl_Rel }

		completion_reward = {
			add_political_power = 10
			#Add the following as idea, maybe an ELAM idead
			add_ideas = CUB_idea_elam
			add_tech_bonus = {
				bonus = 0.2
				uses = 2
				category = CAT_GENES
				}	
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Medical Internationalism
		focus = {
		id = CUB_Med_Int

		x = 0
		y = 1
		relative_position_id = CUB_ELAM

		cost = 10
		prerequisite = { focus = CUB_ELAM  }
		
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_MedDes
			custom_effect_tooltip = cub_unlock_medbrigade_tt
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#Medical Mission to Venezuela - will reduce manpower slightly but increase budget. In the case of Venezuela only maybe add factory as well.
		focus = {
		id = CUB_Med_Ven

		x = -2
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			VEN = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB
					has_opinion = {
						target = CUB
						value > 19
					}
					has_government = communism
					has_government = neutrality
				}

			}
			VEN = { exists = yes }
			VEN = { NOT = { has_war_with = CUB } }
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Ven_Med
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = VEN }
			change_influence_percentage = yes
			custom_effect_tooltip = cub_unlock_medbrigade_ven_tt			
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#Medical Mission to Haiti
		focus = {
		id = CUB_Med_Haiti

		x = 0
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Haiti_Med
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = HAI }
			change_influence_percentage = yes
			custom_effect_tooltip = cub_unlock_medbrigade_haiti_tt					
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 1
				is_historical_focus_on = yes
			}
		}	
	}
	#Medical Mission to Bolivia
		focus = {
		id = CUB_Med_Bolivia

		x = 2
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			BOL = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB
					has_government = communism
					has_government = neutrality
				}

			}
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_Bolivia_Brig
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = BOL }
			change_influence_percentage = yes	
			custom_effect_tooltip = cub_unlock_medbrigade_bolivia_tt					
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Medical Mission to South Africa
		focus = {
		id = CUB_Med_SA

		x = 4
		y = 1
		relative_position_id = CUB_Med_Int

		cost = 10
		prerequisite = { focus = CUB_Med_Int  }
		available = {
			SAF = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB
					has_government = communism
					has_government = neutrality

				}
			}
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_SA_Brig
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = SAF }
			change_influence_percentage = yes	
			custom_effect_tooltip = cub_unlock_medbrigade_southafrica_tt					
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Medical Mission to Brazil
		focus = {
		id = CUB_Med_BRA

		x = 0
		y = 1
		relative_position_id = CUB_Med_Haiti

		cost = 10
		prerequisite = { focus = CUB_Med_Ven  }
		prerequisite = { focus = CUB_Med_Haiti  }
		
		available = {
			BRA = {
				OR = {
					influence_higher_20 = yes
					is_puppet_of = CUB
					has_government = communism
					has_government = neutrality

				}
			}
		}
		completion_reward = {
			add_political_power = 100
			set_country_flag = CUB_BRA_Brig
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = CUB }
			set_temp_variable = { influence_target = BRA }
			change_influence_percentage = yes	
			custom_effect_tooltip = cub_unlock_medbrigade_brazil_tt					
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}


	#Succession Tree
	focus = {
		id = CUB_Succession_Question

		x = -5
		y = 7
		relative_position_id = CUB_Med_Int

		cost = 10
		available = {
			has_government = communism
            NOT = {
                has_country_leader = {
                    name = "Fidel Castro"
                    ruling_only = yes
                }
            }
		 #	 Will need a flag for Fidel not in power any more, seperate event for death for historical
         #   has_country_flag = Kim_Jong_il_Death_tt
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}
	#Raul Castro
	focus = {
		id = CUB_Raul

		x = -3
		y = 1
		relative_position_id = CUB_Succession_Question

		cost = 10
		prerequisite = { focus = CUB_Succession_Question  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	#Raul - Economic Reforms
	focus = {
		id = CUB_Raul_Economic_Reforms

		x = 1
		y = 1
		relative_position_id = CUB_Raul

		cost = 10
		prerequisite = { focus = CUB_Raul  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}	
	#Raul - Social Reforms
	focus = {
		id = CUB_Raul_Social_Reforms

		x = -2
		y = 1
		relative_position_id = CUB_Raul

		cost = 10
		prerequisite = { focus = CUB_Raul  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}	
	#Lift Exit Permits
	focus = {
		id = CUB_Raul_Lift_Exit

		x = -1
		y = 1
		relative_position_id = CUB_Raul_Social_Reforms

		cost = 10
		prerequisite = { focus = CUB_Raul_Social_Reforms  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}	
	#Lift Hotel Ban
	focus = {
		id = CUB_Raul_Lift_Hotel

		x = 1
		y = 1
		relative_position_id = CUB_Raul_Social_Reforms

		cost = 10
		prerequisite = { focus = CUB_Raul_Social_Reforms  }

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}	
	}	

	#6th Party Congress
	#focus = {
	#	id = CUB_6_PCC
#
#		x = 0
#		y = 1
#		relative_position_id = CUB_Succession_Question
#
#		cost = 10
#		prerequisite = { focus = CUB_Succession_Question }
#		available = {
#		date > 2011.1.1
#	}
#		ai_will_do = {
#			factor = 1
#		}	
#	}




### Military Tree, taken from Generic

	focus = {
		id = CUB_military_start
		
		x = 50
		y = 0
		
		cost = 5
		completion_reward = {		
			add_political_power = 100
		}
		ai_will_do = {
			factor = 1
		}
	}
	

 
	#Army Reform
	focus = {
		id = CUB_army_reform
		icon = infantry_allies

		x = -3
		y = 1
		relative_position_id = CUB_military_start
		cost = 10
		prerequisite = { focus = CUB_military_start   }
		available = { NOT = { has_idea = no_military } }
		search_filters = { FOCUS_FILTER_EXPENDITURE }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_army_reform"
			army_experience = 25
			add_command_power = 20
			increase_military_spending = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	#Expand Fund Union de Industrias Militares
	focus = {
		id = CUB_military_industrias 
		icon = general_staff

		x = 0
		y = 1
		relative_position_id = CUB_army_reform

		cost = 5

		search_filters = {FOCUS_FILTER_RESEARCH }
		prerequisite = { focus = CUB_army_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_military_industrias"
			set_temp_variable = { treasury_change = -0.500 }
			modify_treasury_effect = yes
			add_tech_bonus = {
				name = Cat_INF_WEP
				bonus = 0.5
				uses = 2
				category = Cat_INF_WEP
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Air Force Reform
	focus = {
		id = CUB_air_force_reform
		icon = air_force

		x = 0
		y = 1
		relative_position_id = CUB_military_start
		cost = 10
		prerequisite = { focus = CUB_military_start  }
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_air_force_reform"
			air_experience = 25
			add_tech_bonus = {
				name = CUB_air_force_reform
				uses = 1
				bonus = 0.25
				category = Cat_AIR_EQP
			}
			add_doctrine_cost_reduction = {
				name = CUB_air_force_reform
                category = air_doctrine
                uses = 1
                cost_reduction = 0.15
            }
		}

		ai_will_do = {
			factor = 1
		}
	}
#Naval Reform
	focus = {
		id = CUB_naval_reform
		icon = navy

		x = 3
		y = 1
		relative_position_id = CUB_military_start 
		cost = 10
		prerequisite = { focus = CUB_military_start   }
		search_filters = {FOCUS_FILTER_INTERNAL_FACTION}
		available = { any_owned_state = { is_coastal = yes } }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_reform"
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = CUB_naval_reform
				category = Cat_naval_doctrine
				uses = 1
				cost_reduction = 0.5
			}
			set_temp_variable = { temp_opinion = 5 }
			change_maritime_industry_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}











}







