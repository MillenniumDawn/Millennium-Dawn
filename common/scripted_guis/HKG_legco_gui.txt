scripted_gui = {
	open_LegCo_main_button = {
		context_type = player_context
		window_name = "main_LegCo_open_button"
		parent_window_name = "MapmodesInterface_Ingame"
		dirty = global.num_days
		visible = {
			original_tag = HKG
			NOT = {
				has_country_flag = HKG_LegCo_GONE
			}
		}
		effects = {
			open_LegCo_main_screen_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_LegCo_screen } }
					set_country_flag = open_LegCo_screen
				}
				else = {
					clr_country_flag = open_LegCo_screen
				}
			}
		}
	}

	hkg_legco_gui = {
		context_type = player_context
		window_name = "hkg_legco_mechanic_decision_ui_window"

		dirty = global.num_days

		visible = {
			ROOT = { has_country_flag = open_LegCo_screen }
		}


		effects = {
			close_hkg_legco_screen_click = {
				clr_country_flag = open_LegCo_screen
			}

			hkg_legco_boost_approval_seat_button_click = {
				add_political_power = -50
				legco_pay_off_approval_seat = yes
			}

			hkg_legco_change_bureaucracy_button_click = {
				add_political_power = -50
				set_country_flag = legco_increase_bureau
				activate_mission = legco_increase_administration_motion_clock
				set_temp_variable = { legco_PE_temp_support = 0.70 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.20 }
				HKG_legco_votes_initialize = yes
			}
			hkg_legco_change_bureaucracy_button_right_click = {
				add_political_power = -50
				set_country_flag = legco_decrease_bureau
				activate_mission = legco_decrease_administration_motion_clock
				set_temp_variable = { legco_PE_temp_support = 0.30 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}

			hkg_legco_change_police_button_click = {
				add_political_power = -50
				set_country_flag = legco_increase_police
				activate_mission = legco_increase_policing_motion_clock
				set_temp_variable = { legco_PE_temp_support = 0.60 }
				set_temp_variable = { legco_PD_temp_support = 0.40 }
				set_temp_variable = { legco_LC_temp_support = 0.40 }
				HKG_legco_votes_initialize = yes
			}
			hkg_legco_change_police_button_right_click = {
				add_political_power = -50
				set_country_flag = legco_decrease_police
				activate_mission = legco_decrease_policing_motion_clock
				set_temp_variable = { legco_PE_temp_support = 0.30 }
				set_temp_variable = { legco_PD_temp_support = 0.60 }
				set_temp_variable = { legco_LC_temp_support = 0.60 }
				HKG_legco_votes_initialize = yes
			}

			hkg_legco_change_education_button_click = {
				add_political_power = -50
				set_country_flag = legco_increase_education
				set_temp_variable = { legco_PE_temp_support = 0.60 }
				set_temp_variable = { legco_PD_temp_support = 0.80 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}
			hkg_legco_change_education_button_right_click = {
				add_political_power = -50
				set_country_flag = legco_decrease_education
				set_temp_variable = { legco_PE_temp_support = 0.50 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}

			hkg_legco_change_health_button_click = {
				add_political_power = -50
				set_country_flag = legco_increase_health
				set_temp_variable = { legco_PE_temp_support = 0.50 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}
			hkg_legco_change_health_button_right_click = {
				add_political_power = -50
				set_country_flag = legco_decrease_health
				set_temp_variable = { legco_PE_temp_support = 0.50 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}

			hkg_legco_change_social_button_click = {
				add_political_power = -50
				set_country_flag = legco_increase_social
				set_temp_variable = { legco_PE_temp_support = 0.50 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}
			hkg_legco_change_social_button_right_click = {
				add_political_power = -50
				set_country_flag = legco_decrease_social
				set_temp_variable = { legco_PE_temp_support = 0.50 }
				set_temp_variable = { legco_PD_temp_support = 0.50 }
				set_temp_variable = { legco_LC_temp_support = 0.50 }
				HKG_legco_votes_initialize = yes
			}
		}
		
		triggers = {
			hkg_legco_boost_approval_seat_button_click_enabled = {
				AND = {
					has_political_power > 49
					check_variable = { legco_approval_seats < legco_total_seats }
				}
			}
			hkg_legco_change_bureaucracy_button_click_enabled = {
				AND = {
					has_political_power > 49
				legco_not_has_a_active_motion = yes
				}
			}
			hkg_legco_change_police_button_click_enabled = {
				AND = {
					has_political_power > 49
				legco_not_has_a_active_motion = yes
				}
			}
			hkg_legco_change_education_button_click_enabled = {
				AND = {
					has_political_power > 49
				legco_not_has_a_active_motion = yes
				}
			}
			hkg_legco_change_health_button_click_enabled = {
				AND = {
					has_political_power > 49
				legco_not_has_a_active_motion = yes
				}
			}
			hkg_legco_change_social_button_click_enabled = {
				AND = {
					has_political_power > 49
				legco_not_has_a_active_motion = yes
				}
			}
			hkg_legco_boost_approval_seat_button_visible = {
				legco_has_a_active_motion = yes
			}
		}
	}
	
}