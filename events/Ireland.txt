#######################
# Irish Events
# Author: Megatos
#######################

add_namespace = ireland

# Stakeholders for irish data centers
country_event = {
	id = ireland.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.1" }
	title = ireland.1.t
	desc = ireland.1.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Sell to Amazon
		name = ireland.1.a
		log = "[GetDateText]: [This.GetName]: ireland.1.a executed"
		add_political_power = -30
		USA = { generic_grant_2_percent_influence_of_CURRENT_SCOPE = yes }
		add_opinion_modifier = {
			target = USA
			modifier = declaration_of_friendship
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = declaration_of_friendship
		}
		# Increase investments from country..
		ai_chance = {
			factor = 50
		}
	}

	option = { # Sell to China
		name = ireland.1.b
		log = "[GetDateText]: [This.GetName]: ireland.1.b executed"
		add_stability = -0.03
		CHI = { generic_grant_2_percent_influence_of_CURRENT_SCOPE = yes }
		add_opinion_modifier = {
			target = CHI
			modifier = declaration_of_friendship
		}
		reverse_add_opinion_modifier = {
			target = CHI
			modifier = declaration_of_friendship
		}
		add_popularity = {
    		ideology = communism
    		popularity = 0.03
		}
		# Increase investments from country..
		ai_chance = {
			factor = 50
		}
	}
}

## Abortion
country_event = { # Protection of Life during Pregnancy Act
	id = ireland.69420
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69420" }
	title = ireland.69420.t
	desc = ireland.69420.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.69420.a
		log = "[GetDateText]: [This.GetName]: ireland.69420.a executed"
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = ireland.69421 # Citizens Assembly on the Eight Amendment
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69421" }
	title = ireland.69421.t
	desc = ireland.69421.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.69421.a
		log = "[GetDateText]: [This.GetName]: ireland.69421.a executed"
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = ireland.69422 # Joint Committee on the Eighth Amendment
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69422" }
	title = ireland.69422.t
	desc = ireland.69422.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.69422.a
		log = "[GetDateText]: [This.GetName]: ireland.69422.a executed"
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = ireland.69423 # Referendum to Repeal the Eighth Amendment
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69423" }
	title = ireland.69423.t
	desc = ireland.69423.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.69423.a
		log = "[GetDateText]: [This.GetName]: ireland.69423.a executed"
		IRE = {
			swap_ideas = {
				remove_idea = IRE_abortion_banned
				add_idea = IRE_abortion_legalized
			}
		}
		####### Timer for Aontu Event
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ireland.69423.b
		log = "[GetDateText]: [This.GetName]: ireland.69423.a executed"

		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = ireland.69424 # Formation of Aontu
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69424" }
	title = ireland.69424.t
	desc = ireland.69424.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.69424.a
		log = "[GetDateText]: [This.GetName]: ireland.69424.a executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			#NOT = { has_government = #Sinn Fein }
        }
		set_temp_variable = { party_index = 2 }  # Fine Gael
		set_temp_variable = { party_popularity_increase = -0.02 }
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 1 }
		set_temp_variable = { party_popularity_increase = -0.02 } # Finna Fail
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 18 }
		set_temp_variable = { party_popularity_increase = -0.04 } # Sinn Fein
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 14 } # Aontu
		set_temp_variable = { party_popularity_increase = 0.06 }
		add_relative_party_popularity = yes
		set_country_flag = ire_aontuformed
	}
	option = {
		name = ireland.69424.b
		log = "[GetDateText]: [This.GetName]: ireland.69424.b executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
            # SF in gov
        }
		set_temp_variable = { party_index = 2 }  # Fine Gael
		set_temp_variable = { party_popularity_increase = -0.02 }
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 1 }
		set_temp_variable = { party_popularity_increase = -0.02 } # Finna Fail
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 18 }
		set_temp_variable = { party_popularity_increase = -0.04 } # Sinn Fein
		add_relative_party_popularity = yes

		set_temp_variable = { party_index = 14 } # Aontu
		set_temp_variable = { party_popularity_increase = 0.06 }
		add_relative_party_popularity = yes
		set_country_flag = ire_aontuformed
	}
}

## Policing Reform

country_event = { # Major Crime crackdown
	id = ireland.20161
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.20161" }
	title = ireland.20161.t
	desc = ireland.20161.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.20161.a
		log = "[GetDateText]: [This.GetName]: ireland.20161.a executed"
		ai_chance = {
			factor = 100
		}
	}
}

country_event = { # Major Crime crackdown
	id = ireland.20162
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.20162" }
	title = ireland.20162.t
	desc = ireland.20162.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.20162.a
		log = "[GetDateText]: [This.GetName]: ireland.20162.a executed"
		ai_chance = {
			factor = 100
		}
	}
}

country_event = { # Send Diplomats to Downing Street
	id = ireland.19221
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.19221" }
	title = ireland.19221.t
	desc = ireland.19221.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.19221.a
		log = "[GetDateText]: [This.GetName]: ireland.19221.a executed"
		custom_effect_tooltip = ireland.19921.a_tt
		IRE = { country_event = { id = ireland.192212 days = 1 } }
		ai_chance = {
			factor = 95
		}
	}
	option = {
		name = ireland.19221.b
		log = "[GetDateText]: [This.GetName]: ireland.19221.a executed"
		IRE = {add_ideas = IRE_ReferendumOnUlster}
		ENG = {add_ideas = IRE_ReferendumOnUlster}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { # Ireland Wins Referendum
	id = ireland.19224
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.19224" }
	title = ireland.19224.t
	desc = ireland.19224.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = { # England Returns NI
		name = ireland.19224.a
		log = "[GetDateText]: [This.GetName]: ireland.19222.a executed"
		IRE = { transfer_state = 17 }
		ai_chance = {
			factor = 95
		}
	}
	option = { # England does not return NI
		name = ireland.19224.b
		log = "[GetDateText]: [This.GetName]: ireland.19222.a executed"
		ai_chance = {
			factor = 5
		}
		IRE = {
			create_wargoal = {
				type = take_core_state
				target = ROOT
			}
		}
	}
}

country_event = { # UK Win Referendum
	id = ireland.19223
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.19223" }
	title = ireland.19223.t
	desc = ireland.19223.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.19223.a
		log = "[GetDateText]: [This.GetName]: ireland.19222.a executed"
		custom_effect_tooltip = ireland.19223.a_tt
		IRE = { country_event = { id = ireland.19223 days = 1 } }
		ai_chance = {
			factor = 100
		}
	}
}

country_event = { # Britan Refuses Referendum
	id = ireland.192212
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.192212" }
	title = ireland.192212.t
	desc = ireland.192212.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.192212.a
		log = "[GetDateText]: [This.GetName]: ireland.192212.a executed"
		ai_chance = {
			factor = 100
		}
	}
}


## Terror Attacks on UK
news_event = {
	id = ireland.19161 # London Attack
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.69422" }
	title = ireland.19161.t
	desc = ireland.19161.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	IMMEDIATE = {
		ENG = {
			stability = -0.05
			add_manpower = -421
		}
	}

	option = {
		name = ireland.19161.a # Everyone who's not Ireland or England
		log = "[GetDateText]: [This.GetName]: ireland.19161.a executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			NOT = {tag = IRE}
			NOT = {tag = ENG}
        }
	}
	option = {
		name = ireland.19161.b # Ireland
		log = "[GetDateText]: [This.GetName]: ireland.19161.b executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			tag = IRE
        }
	}
	option = {
		name = ireland.19161.c # Brits
		log = "[GetDateText]: [This.GetName]: ireland.19161.c executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			tag = ENG
        }
	}
}

news_event = {
	id = ireland.19162 # Big Ben Attack
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.19162" }
	title = ireland.19162.t
	desc = ireland.19162.d
	picture = GFX_generic_factory # perhaps change this picture

	fire_only_once = yes
	is_triggered_only = yes

	IMMEDIATE = {
		ENG = {
			stability = -0.1
			add_manpower = -27
		}
	}

	option = {
		name = ireland.19162.a # Everyone who's not Ireland or England
		log = "[GetDateText]: [This.GetName]: ireland.19162.a executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			NOT = {tag = IRE}
			NOT = {tag = ENG}
        }
	}
	option = {
		name = ireland.19162.b # Ireland
		log = "[GetDateText]: [This.GetName]: ireland.19162.b executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			tag = IRE
        }
	}
	option = {
		name = ireland.19162.c # Brits
		log = "[GetDateText]: [This.GetName]: ireland.19162.c executed"
		ai_chance = {
			factor = 100
		}
		trigger = {
			tag = ENG
        }
	}
}

news_event = {
	id = ireland.19163 # Downing Street Attack
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.19163" }
	set_variable = { var = ire_kill_pm_chance value = 100 }

	if = {
		limit = {ire_kill_pm_chance > 50} # PM Dies
		title = ireland.191631.t
		desc = ireland.191631.d
		picture = GFX_generic_factory # perhaps change this picture

		option = {
			name = ireland.191631.a # Everyone who's not Ireland or England
			log = "[GetDateText]: [This.GetName]: ireland.191631.a executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				NOT = {tag = IRE}
				NOT = {tag = ENG}
			}
		}
		option = {
			name = ireland.191631.b # Ireland
			log = "[GetDateText]: [This.GetName]: ireland.191631.b executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				tag = IRE
			}
		}
		option = {
			name = ireland.191631.c # Brits
			log = "[GetDateText]: [This.GetName]: ireland.191631.c executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				tag = ENG
			}
		}
		IMMEDIATE = {
			ENG = {
				stability = -0.2
				kill_country_leader = yes
			}
		}
	}
	else = { # PM lives
		title = ireland.191632.t
		desc = ireland.191632.d
		picture = GFX_generic_factory # perhaps change this picture
		IMMEDIATE = {
			ENG = {
				stability = -0.1
				war_support = 0.1
			}
		}
		option = {
			name = ireland.191632.a # Everyone who's not Ireland or England
			log = "[GetDateText]: [This.GetName]: ireland.191632.a executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				NOT = {tag = IRE}
				NOT = {tag = ENG}
			}
		}
		option = {
			name = ireland.191632.b # Ireland
			log = "[GetDateText]: [This.GetName]: ireland.191632.b executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				tag = IRE
			}
		}
		option = {
			name = ireland.191632.c # Brits
			log = "[GetDateText]: [This.GetName]: ireland.191632.c executed"
			ai_chance = {
				factor = 100
			}
			trigger = {
				tag = ENG
			}
		}
	}

	fire_only_once = yes
	is_triggered_only = yes
}

news_event = { # Ireland Invades Newry
	id = ireland.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.101" }
	title = ireland.101.t
	desc = ireland.101.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.101.a
		log = "[GetDateText]: [This.GetName]: ireland.101.a executed"
		trigger = {tag = ENG}
		ENG = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = IRE
			}
		}
		ai_chance = {
			factor = 80
		}
	}
	option = {
		name = ireland.101.b
		log = "[GetDateText]: [This.GetName]: ireland.101.a executed"
		ai_chance = {
			factor = 20
		}
		trigger = {
			tag = ENG
		}
	}
	option = {
		name = ireland.101.c
		log = "[GetDateText]: [This.GetName]: ireland.101.a executed"
		trigger = {
			NOT = { tag = ENG }
		}
		ai_chance = {
			factor = 100
		}
	}
}

news_event = { # Ireland Invades Newry
	id = ireland.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event ireland.102" }
	title = ireland.102.t
	desc = ireland.102.d
	picture = GFX_news_crime_fighting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ireland.102.a
		log = "[GetDateText]: [This.GetName]: ireland.102.a executed"
		trigger = {
			tag = ENG
		}
		ENG = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = IRE
			}
		}
		ai_chance = {
			factor = 80
		}
	}
	option = {
		name = ireland.102.b
		log = "[GetDateText]: [This.GetName]: ireland.102.a executed"
		ai_chance = {
			factor = 20
		}
		trigger = {
			tag = ENG
		}
	}
	option = {
		name = ireland.102.c
		log = "[GetDateText]: [This.GetName]: ireland.102.a executed"
		trigger = {
			NOT = { tag = ENG }
		}
		ai_chance = {
			factor = 100
		}
	}
}