# Written by XDucks

# Makes the AI actually budget right

inital_AI_NO_WANT_DEBT_set_up = {
	set_variable = { var = AI_NO_WANT_DEBT value = 0 }
}

update_AI_NO_WANT_DEBT = {
	set_variable = { var = AI_NO_WANT_DEBT value = interest_rate }
	set_variable = { var = temp value = AI_NO_WANT_DEBT }

	set_variable = { var = AI_WAR_SPEND_RATIO value = 0.5 }
	
	divide_variable = { var = temp value = 75 }
	subtract_from_variable = { var = AI_WAR_SPEND_RATIO value = temp }
	
	if = { limit = { has_war = yes } 
		add_to_variable = { var = AI_WAR_SPEND_RATIO value = 1000 }
	} 
	
	if { limit = { is_in_faction = yes }
		subtract_from_variable = { var = AI_WAR_SPEND_RATIO value = 0.15 }
	}
	
	if = { limit = { num_divisions > 20 } 
		add_to_variable = { var = AI_WAR_SPEND_RATIO value = 0.2 }
	}
	
	if = { limit = { num_divisions > 40 } 
		add_to_variable = { var = AI_WAR_SPEND_RATIO value = 0.2 }
	}
	
	if = { limit = { is_major = yes } 
		add_to_variable = { var = AI_WAR_SPEND_RATIO value = 0.3 }
	}
	
	if = { limit = { check_variable = { var = AI_WAR_SPEND_RATIO > 1 } } 
		set_variable = { var = AI_WAR_SPEND_RATIO value = 1 } }
		
	if = { limit = { check_variable = { var = AI_WAR_SPEND_RATIO < 0 } } 
		set_variable = { var = AI_WAR_SPEND_RATIO value = 0 } }
}

