focus_tree = {

	id = north_korea

	country = {
		factor = 0
		modifier = {
			add = 20
			tag = NKO
		}
	}
	continuous_focus_position = { x = 200 y = 4000 }
    #经济线
	focus = {
        id = NKO_Factories
        icon = bread_and_peace

        x = 2
        y = 0

        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        mutually_exclusive = { focus = NKO_Songun }

        search_filters = {}

        completion_reward = {
            add_political_power = 100
            add_stability = 0.03
            custom_effect_tooltip = NKO_Arduous_March_tt
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Factories executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_State_owned_reform
        icon = consumer_goods

        x = 2
        y = 1

        cost = 8

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Factories }
        search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_CORRUPTION}

        completion_reward = {
            decrease_corruption = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_State_owned_reform executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Songun
        icon = dprk_army

        x = 6
        y = 0

        cost = 10

        mutually_exclusive = { focus = NKO_Factories }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_political_power = 100
            add_war_support = 0.03
            custom_effect_tooltip = NKO_Arduous_March_tt
            custom_effect_tooltip = NKO_support_Songun_tt
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Songun executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Priority_food_supply
        icon = conscription
        relative_position_id = NKO_Songun
        x = 0
        y = 1

        cost = 8


        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Songun }
        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_war_support = 0.05
            increase_the_military_opinion = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Priority_food_supply executed"
        }

        ai_will_do = {
        	base = 10
        }
    }
	focus = {
        id = NKO_black_market
        icon = economic_crisis

        x = -2
        y = 2
        relative_position_id = NKO_Songun
        cost = 5

        prerequisite = { focus = NKO_Songun focus = NKO_Factories }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            add_political_power = 100
            custom_effect_tooltip = NKO_black_market_tt
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_black_market executed"
        }

        ai_will_do = {
        	base = 10
        }
    }
	focus = {
        id = NKO_milestone_win
        icon = juche

        x = -2
        y = 3
        relative_position_id = NKO_Songun
        cost = 6

        prerequisite = { focus = NKO_black_market }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            add_political_power = 100
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
            }
            add_timed_idea = {
                idea = NKO_milestone_win
                days = 90
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_milestone_win executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Develop_Food_factories
        icon = agriculture

        x = 3
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Develop_Food_factories executed"
        }

        ai_will_do = {
        	base = 15
        }
    }

	focus = {
        id = NKO_Restore_the_Healthcare_System
        icon = welfare

        x = -3
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            increase_healthcare_budget = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Restore_the_Healthcare_System executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Land_Reclamation
        icon = communism5

        x = 0
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_decrease_Misery_March_tt
            decrease_NKO_Arduous_March = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Land_Reclamation executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Industrial_Recovery
        icon = hammer_star

        x = 2
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation }
        prerequisite = { focus = NKO_Restore_the_Healthcare_System }
        prerequisite = { focus = NKO_Develop_Food_factories }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            remove_ideas = NKO_Industrial_collapse
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Recovery executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_support_private_markets
        icon = money

        x = -2
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation focus = NKO_Restore_the_Healthcare_System focus = NKO_Develop_Food_factories }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_reform_opening_up_tt
            swap_ideas = {
                remove_idea = NKO_the_black_market
                add_idea = NKO_the_private_markets
            }
			log = "[GetDateText]: [This.GetName]: focus NKO_support_private_markets executed"
        }


        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_support_black_economy
        icon = economic_crisis

        x = 0
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation focus = NKO_Restore_the_Healthcare_System focus = NKO_Develop_Food_factories }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            add_ideas = NKO_the_black_economy
			custom_effect_tooltip = 5_billion_revenue_tt
			add_to_variable = { treasury = 5 }
          log = "[GetDateText]: [This.GetName]: focus NKO_support_black_economy executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Nurture_Software_industry
        icon = science2

        x = -4
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy focus = NKO_support_private_markets focus = NKO_Industrial_Recovery }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			subtract_from_variable = { treasury = 3 }
			custom_effect_tooltip = 3_billion_expense_tt
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = computing_tech
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = internet_tech
			}
			increase_the_military_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Nurture_Software_industry executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Nurture_Donju
        icon = trade

        x = 4
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            increase_the_donju_opinion = yes
			custom_effect_tooltip = 5_billion_revenue_tt
			add_to_variable = { treasury = 5 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Nurture_Donju executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Construction_Boom
        icon = construction_engineering

        x = -2
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Construction_Boom executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Infrastructure_Development
        icon = infrastructure1

        x = 2
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			subtract_from_variable = { treasury = 5 }
			custom_effect_tooltip = 5_billion_expense_tt
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Infrastructure_Development executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Great_Victory
        icon = worker_paradise

        x = 0
        y = 4
        relative_position_id = NKO_milestone_win
        cost = 15
        prerequisite = { focus = NKO_Infrastructure_Development }
        prerequisite = { focus = NKO_Construction_Boom }
        prerequisite = { focus = NKO_Nurture_Donju }
        prerequisite = { focus = NKO_Nurture_Software_industry }
        cancel_if_invalid = yes
        available_if_capitulated = no
        available = { has_idea = NKO_Arduous_March_1 }

        search_filters = {}

        completion_reward = {
            remove_ideas = NKO_Arduous_March_1
            add_timed_idea = {
                idea = NKO_Great_Victory
                days = 365
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Great_Victory executed"
        }

        ai_will_do = {
        	base = 50
        }
    }

	focus = {
        id = NKO_Continue_Ryugyong_Hotel
        icon = Ryugyong_Hotel

        x = 0
        y = 5
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Infrastructure_Development }
        prerequisite = { focus = NKO_Construction_Boom }
        prerequisite = { focus = NKO_Nurture_Donju }
        prerequisite = { focus = NKO_Nurture_Software_industry }
        prerequisite = { focus = NKO_Great_Victory }
        cancel_if_invalid = yes
        available_if_capitulated = no

        available = {
    	}
        search_filters = {}

        completion_reward = {
			subtract_from_variable = { treasury = 1.5 }
			custom_effect_tooltip = 1_5_billion_expense_tt
            add_timed_idea = {
				idea = Ryugyong_Hotel
				days = 90
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Continue_Ryugyong_Hotel executed"
        }

        ai_will_do = {
        	base = 50
        }
    }

#####军队
	focus = {
        id = NKO_National_Defence_Force
        icon = dprk_army

        x = 34
        y = 0

        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        mutually_exclusive = { focus = NKO_People_Army }
        available = { NOT = { has_completed_focus = NKO_Preserve_Songun } }

        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
            add_stability = 0.1
            add_war_support = -0.15
            decrease_military_spending = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_National_Defence_Force executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_People_Army
        icon = Korean_Peoples_Army_Ground_Forces

        x = -4
        y = 0
        relative_position_id = NKO_National_Defence_Force
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        available = { has_completed_focus = NKO_Songun }
        mutually_exclusive = { focus = NKO_National_Defence_Force }

        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
            add_war_support = 0.05
            increase_NKO_Arduous_March = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Army executed"
        }

        ai_will_do = {
        	base = 10
        }
    }



#核武器
	focus = {
        id = NKO_Nuclear_test_reboot
        icon = nuclear_science

        x = -9
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_research_slot = 1
          log = "[GetDateText]: [This.GetName]: focus NKO_Nuclear_test_reboot executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_nuclear_weapon
        icon = nuclear_bomb

        x = -9
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Nuclear_test_reboot }

        cost = 105
        available = { has_idea = NKO_nuclear_tests_3 }

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_research_slot = 1
            remove_ideas = NKO_nuclear_tests_3
            add_ideas = NKO_nuclear_weapon
          log = "[GetDateText]: [This.GetName]: focus NKO_nuclear_weapon executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
#空军
	focus = {
        id = NKO_People_Air_force
        icon = Korean_Peoples_Airforce_Roundel

        x = -6
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            air_experience = 25
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Air_force executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
		id = NKO_improve_our_air_doctrine
		icon = air_doctrine
        x = -6
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 15

		prerequisite = { focus = NKO_People_Air_force }

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NKO_improve_our_air_doctrine"
			add_tech_bonus = {
				name = air_doctrine
				bonus = 0.5
				uses = 2
				category = air_doctrine
			}
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_construct_air_bases
		icon = air_defense
        x = -6
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_improve_our_air_doctrine }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NKO_construct_air_bases"
			603 = {
				add_building_construction = {
				type = air_base
				level = 3
				instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 40
		}
	}


#陆军
	focus = {
		id = NKO_Self-produced_rifles
		icon = small_arms_east
        x = 4
        y = 1
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

		completion_reward = {
			subtract_from_variable = { treasury = 12 }
			custom_effect_tooltip = 12_billion_expense_tt
			add_tech_bonus = {
				name = Cat_INF_WEP
				bonus = 0.5
				uses = 2
				category = Cat_INF_WEP
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Self-produced_rifles executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Tank_army
		icon = tanks
        x = 4
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Self-produced_rifles }

		completion_reward = {
			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 0.8
				uses = 1
				category = Cat_TANKS
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Tank_army executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Rocket_Artillery
		icon = artillery3
        x = 6
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Tank_army }

		completion_reward = {
			add_tech_bonus = {
				name = Cat_ARTILLERY
				bonus = 0.5
				uses = 1
				category = Cat_SP_R_ARTY
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Rocket_Artillery executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Army_Ideology
		icon = army_logistics
        x = 4
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Tank_army }

		completion_reward = {
			add_tech_bonus = {
				name = land_doctrine
				bonus = 0.4
				uses = 2
				category = land_doctrine
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Army_Ideology executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Network_Centric_Warfare
		icon = mass_assault
        x = 4
        y = 4
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Army_Ideology }

		completion_reward = {
			add_tech_bonus = {
				name = land_doctrine
				bonus = 0.6
				uses = 1
				category = Cat_NETWORK_CENTRIC_WARFARE
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}
#网络部队
	focus = {
        id = NKO_People_Cyber_Army
        icon = global_community

        x = -3
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no

        available = { has_tech = computing2 }

        search_filters = {FOCUS_FILTER_INFLUENCE}

        completion_reward = {
            custom_effect_tooltip = CHI_technology_inferior_tt
			custom_effect_tooltip = CHI_global_propaganda_tt
			add_to_array = { CHI.cyber_targets_propaganda = USA }
			add_to_array = { CHI.cyber_targets_propaganda = KOR }
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Cyber_Army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Industrial_Espionage
        icon = stolen_papers

        x = -3
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_People_Cyber_Army }

        cost = 10

        available = { has_tech = computing4 }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
			custom_effect_tooltip = CHI_industrial_espionage_tt
			add_to_array = { CHI.cyber_targets_tech = USA }
			add_to_array = { CHI.cyber_targets_tech = SOV }
            add_to_array = { CHI.cyber_targets_tech = CHI }
            add_to_array = { CHI.cyber_targets_tech = GER }
            add_to_array = { CHI.cyber_targets_tech = ENG }
            add_to_array = { CHI.cyber_targets_tech = FRA }
            add_to_array = { CHI.cyber_targets_tech = JAP }
            add_to_array = { CHI.cyber_targets_tech = KOR }
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
###金正日之死
	focus = {
        id = NKO_Kim_Jong_il_Death
        icon = death_of_kim

        x = 18
        y = 10
        cost = 1

        cancel_if_invalid = yes
        available_if_capitulated = no

		available = {
			has_government = communism
            NOT = {
            has_country_leader = {
                name = "Kim Jong-il"
                ruling_only = yes
                }
            }
            has_country_flag = Kim_Jong_il_Death_tt
		}

        search_filters = {}

        completion_reward = {
            add_timed_idea = {
                idea = Kim_Jong_il_Death
                days = 180
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_il_Death executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
#军方夺权
	focus = {
        id = NKO_Junta
        icon = military_mission2

        x = 12
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 100

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Kim_Jong_un focus = NKO_Kim_Jong_Nam }
		available = {
			always = no
		}
        search_filters = {}

        completion_reward = {
            set_politics = {
				ruling_party = nationalist
			}
            set_popularities = {
            	democratic = 0
            	neutrality = 0
            	fascism = 0
                nationalist = 51
            	communism = 49
            }
			create_country_leader = {
				name = "Choe Pu Il"
				picture = "Choe_Pu_Il.dds"
				ideology = Nat_Autocracy
				traits = {
					nationalist_Nat_Autocracy
					military_career
					rash
					interventionist
					pro_china
				}
			}
            CHI = {
                diplomatic_relation = {
                    country = NKO
                    relation = guarantee
                    active = no
                }
            }
	    	set_variable = { party_pop_array^0 = 0 } #Western_Autocracy
	    	set_variable = { party_pop_array^1 = 0 } #conservatism
	    	set_variable = { party_pop_array^2 = 0 } #liberalism
	    	set_variable = { party_pop_array^3 = 0 } #socialism
	    	set_variable = { party_pop_array^4 = 0.48 } #Communist-State
	    	set_variable = { party_pop_array^5 = 0.01 } #anarchist_communism
	    	set_variable = { party_pop_array^6 = 0 } #Conservative
	    	set_variable = { party_pop_array^7 = 0 } #Autocracy
	    	set_variable = { party_pop_array^8 = 0 } #Mod_Vilayat_e_Faqih
	    	set_variable = { party_pop_array^9 = 0 } #Vilayat_e_Faqih
	    	set_variable = { party_pop_array^10 = 0 } #Kingdom
	    	set_variable = { party_pop_array^11 = 0 } #Caliphate
	    	set_variable = { party_pop_array^12 = 0 } #Neutral_Muslim_Brotherhood
	    	set_variable = { party_pop_array^13 = 0 } #Neutral_Autocracy
	    	set_variable = { party_pop_array^14 = 0 } #Neutral_conservatism
	    	set_variable = { party_pop_array^15 = 0 } #oligarchism
	    	set_variable = { party_pop_array^16 = 0 } #Neutral_Libertarian
	    	set_variable = { party_pop_array^17 = 0 } #Neutral_green
	    	set_variable = { party_pop_array^18 = 0 } #neutral_Social
	    	set_variable = { party_pop_array^19 = 0 } #Neutral_Communism
	    	set_variable = { party_pop_array^20 = 0 } #Nat_Populism
	    	set_variable = { party_pop_array^21 = 0 } #Nat_Fascism
	    	set_variable = { party_pop_array^22 = 0.51 } #Nat_Autocracy
	    	set_variable = { party_pop_array^23 = 0 } #Monarchist
            clear_array = ruling_party
            clear_array = gov_coalition_array
            add_to_array = { ruling_party = 22 }
            update_government_coalition_strength = yes
            update_party_name = yes
            set_coalition_drift = yes
            hidden_effect = {
                set_partyall_banned = no
            	add_political_power = 230
                }
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
            mark_focus_tree_layout_dirty = yes
            clr_country_flag = Kim_Jong_il_Death_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Junta executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Preserve_Songun
        icon = communist_army

        x = 12
        y = 2
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Junta }

        search_filters = {}

        completion_reward = {
            add_popularity = {
                ideology = nationalist
                popularity = 0.20
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Preserve_Songun executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Entrench_Military_Authority
        icon = reactionary

        x = 8
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Preserve_Songun }

        search_filters = {}

        completion_reward = {
            increase_the_military_opinion = yes
            army_experience = 25
            air_experience = 25
            navy_experience = 20
          log = "[GetDateText]: [This.GetName]: focus NKO_Entrench_Military_Authority executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Smash_Black_Market
        icon = armoured_fist

        x = 16
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Preserve_Songun }
        available = { OR = { has_idea = NKO_the_black_market has_idea = NKO_the_private_markets } }

        search_filters = {}

        completion_reward = {
            if = {
                limit = {
                    has_idea = NKO_the_private_markets
                }
                remove_ideas = NKO_the_private_markets
            }
            if = {
                limit = {
                    has_idea = NKO_the_black_market
                }
                remove_ideas = NKO_the_black_market
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Smash_Black_Market executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Determining_the_loyalty_of_army
        icon = army_officers_communist

        x = 12
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Preserve_Songun }

        search_filters = {}

        completion_reward = {
            increase_the_military_opinion = yes
            add_stability = 0.10
          log = "[GetDateText]: [This.GetName]: focus NKO_Determining_the_loyalty_of_army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Purge_Dissenters
        icon = political_arrests2

        x = 10
        y = 4
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Entrench_Military_Authority }
        prerequisite = { focus = NKO_Determining_the_loyalty_of_army }

        search_filters = {}

        completion_reward = {
            add_stability = -0.05
            add_political_power = -50
            add_ideas = NKO_Anti_tatmadaw_sentiment
          log = "[GetDateText]: [This.GetName]: focus NKO_Purge_Dissenters executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Crush_the_Kims
        icon = juche3

        x = 8
        y = 5
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Purge_Dissenters }

        search_filters = {}

        completion_reward = {
            add_stability = -0.10
            add_political_power = -150
            swap_ideas = { remove_idea = Fallout_leadership_succession add_idea = Fallout_leadership_succession2 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Crush_the_Kims executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_High_pressure_politics
        icon = infilitration

        x = 9
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Crush_the_Kims }
        prerequisite = { focus = NKO_Constrain_the_Donju }

        search_filters = {}

        completion_reward = {
            add_stability = 0.15
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_High_pressure_politics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Empower_the_State_Security_Department
        icon = espionage3

        x = 11
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_High_pressure_politics }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = Fallout_leadership_succession }
                    remove_ideas = Fallout_leadership_succession
            }
            if = {
                limit = { has_idea = Fallout_leadership_succession2 }
                    remove_ideas = Fallout_leadership_succession2
            }
			swap_ideas = {
				remove_idea = communist_cadres
				add_idea = intelligence_community
			}
            custom_effect_tooltip = short_intelligence_community_positive_tt
            set_country_flag = positive_intelligence_community
          log = "[GetDateText]: [This.GetName]: focus NKO_Empower_the_State_Security_Department executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_CHI_military_support
        icon = align_to_china

        x = 11
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Empower_the_State_Security_Department }

        search_filters = {}

        completion_reward = {
            diplomatic_relation = {
                country = CHI
                relation = military_access
                active = YES
            }
            CHI = {
                diplomatic_relation = {
                    country = NKO
                    relation = guarantee
                    active = yes
                }
                diplomatic_relation = {
                    country = NKO
                    relation = non_aggression_pact
                    active = YES
                }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_CHI_military_support executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_secure_chinese_assistance_in_crushing_dissent
		icon = secret_police

        x = 11
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_CHI_military_support }

        search_filters = {}

        completion_reward = {
            remove_ideas = NKO_Anti_tatmadaw_sentiment
			NKO = {
				generic_grant_3_percent_influence_of_CHI = yes
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_secure_chinese_assistance_in_crushing_dissent executed"
		}


        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_request_chinese_protection
		icon = peoples_liberation_army

        x = 12
        y = 10
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_secure_chinese_assistance_in_crushing_dissent  focus = NKO_Military_Collectives }

        search_filters = {}

        completion_reward = {
            CHI = {
                set_autonomy = {
                        target = NKO
                        autonomy_state = autonomy_integrated_puppet
                }
            }
			log = "[GetDateText]: [This.GetName]: focus NKO_request_chinese_protection executed"
		}


        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_private_enterprise
        icon = central_planned_economy2

        x = 7
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_High_pressure_politics }

        search_filters = {}

        completion_reward = {
			subtract_from_variable = { treasury = 6 }
			custom_effect_tooltip = 6_billion_expense_tt
			random_owned_state = {
                add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_private_enterprise executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Market-based_economy
        icon = market_economy

        x = 7
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 20

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Encourage_private_enterprise }

        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = Planned_Economy
                add_idea = Socialist_Market_Economy_planned_1
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Market-based_economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Constrain_the_Donju
        icon = protectionist_economics

        x = 12
        y = 5
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Determining_the_loyalty_of_army }
        prerequisite = { focus = NKO_Smash_Black_Market }
        mutually_exclusive = { focus = NKO_End_the_Donju }

        search_filters = {}

        completion_reward = {
            decrease_the_donju_opinion = yes
			custom_effect_tooltip = 100_billion_revenue_tt
			add_to_variable = { treasury = 100 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Constrain_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_the_Donju
        icon = infiltration_tactics

        x = 16
        y = 5
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Smash_Black_Market }
        mutually_exclusive = { focus = NKO_Constrain_the_Donju }

        search_filters = {}

        completion_reward = {
			swap_ideas = {
				remove_idea = the_donju
				add_idea = industrial_conglomerates
			}
            set_country_flag = positive_industrial_conglomerates
          log = "[GetDateText]: [This.GetName]: focus NKO_End_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Prosperous_Nation
        icon = propaganda

        x = 17
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_End_the_Donju }

        search_filters = {}

        completion_reward = {
            add_political_power = -300
            add_stability = 0.15
          log = "[GetDateText]: [This.GetName]: focus NKO_Prosperous_Nation executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Reorganising_Government
        icon = government_beu

        x = 17
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Prosperous_Nation }

        search_filters = {}

        completion_reward = {
            add_stability = 0.10
            remove_ideas = NKO_Anti_tatmadaw_sentiment
          log = "[GetDateText]: [This.GetName]: focus NKO_Reorganising_Government executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Democratic_politics
        icon = Election

        x = 18
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Reorganising_Government }
        mutually_exclusive = { focus = NKO_Military_Collectives }

        search_filters = {}

        completion_reward = {
			set_country_flag = no_leader_change
			if = {
				limit = { has_government = communism }
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = democratic }
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = neutrality }
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = nationalist }
				set_politics = {
					ruling_party = nationalist
					elections_allowed = yes
				}
			}
			clr_country_flag = no_leader_change
            swap_ideas = { remove_idea = closed_nation add_idea = censored_nation_06 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Democratic_politics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Allow_Foreign_Social
        icon = facebook

        x = 2
        y = 1
        relative_position_id = NKO_Democratic_politics
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Democratic_politics }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = censored_nation_06 }
                    swap_ideas = { remove_idea = censored_nation_06 add_idea = censored_nation_04 }
            }
            if = {
                limit = { has_idea = censored_nation_04 }
                    swap_ideas = { remove_idea = censored_nation_04 add_idea = censored_nation_02 }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Freedom_of_Speech
        icon = pro_immigration1

        x = 4
        y = 1
        relative_position_id = NKO_Democratic_politics
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Democratic_politics }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = censored_nation_06 }
                    swap_ideas = { remove_idea = censored_nation_06 add_idea = censored_nation_04 }
            }
            if = {
                limit = { has_idea = censored_nation_04 }
                    swap_ideas = { remove_idea = censored_nation_04 add_idea = censored_nation_02 }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Unchain_the_Democraic_Parties
        icon = break_free2

        x = 3
        y = 2
        relative_position_id = NKO_Democratic_politics
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Freedom_of_Speech }
        prerequisite = { focus = NKO_Allow_Foreign_Social }

        search_filters = {}

        completion_reward = {
            swap_ideas = { remove_idea = censored_nation_02 add_idea = open_nation_02 }
            custom_effect_tooltip = Unchain_the_Democraic_Parties_tt
            hidden_effect = {
                set_partyall_banned = yes
                add_political_power = 230
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Unchain_the_Democraic_Parties executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_De-Politicize_the_Military
        icon = anti_fascism

        x = 3
        y = 3
        relative_position_id = NKO_Democratic_politics
        cost = 20

        prerequisite = { focus = NKO_Unchain_the_Democraic_Parties }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_04 }
          log = "[GetDateText]: [This.GetName]: focus NKO_De-Politicize_the_Military executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Support_the_Non_Aligned_Coalition
        icon = neutrality

        x = 4
        y = 4
        relative_position_id = NKO_Democratic_politics
        cost = 15

        prerequisite = { focus = NKO_De-Politicize_the_Military }
		mutually_exclusive = { focus = NKO_Support_the_Communists }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			recalculate_party = yes
			swap_ideas = {
				remove_idea = communist_cadres
				add_idea = landowners
			}
			set_country_flag = positive_landowners
			custom_effect_tooltip = short_landowners_positive_tt
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_07 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Support_the_Non_Aligned_Coalition executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Support_the_Communists
        icon = communism

        x = 2
        y = 4
        relative_position_id = NKO_Democratic_politics
        cost = 15

        prerequisite = { focus = NKO_De-Politicize_the_Military }
		mutually_exclusive = { focus = NKO_Support_the_Non_Aligned_Coalition }
        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {}

        completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			recalculate_party = yes
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_07 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Support_the_Communists executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Military_Collectives
        icon = authoritarian_democracy2

        x = 16
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Reorganising_Government }
        mutually_exclusive = { focus = NKO_Democratic_politics }

        search_filters = {}

        completion_reward = {
			add_to_variable = {
				var = party_pop_array^22
				value = 0.1
			}
			custom_effect_tooltip = NKO_Junta_support_increase_10_tt
			recalculate_party = yes
            increase_the_military_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Planned_Economy_keep
        icon = central_planned_economy3

        x = 15
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 20

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Military_Collectives }
        mutually_exclusive = { focus = NKO_Leave_Room_for_Private_Sector }

        search_filters = {}

        completion_reward = {
            add_timed_idea = {
                idea = a_new_leap_forward
                days = 60
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Planned_Economy_keep executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Leave_Room_for_Private_Sector
        icon = liberalization_policies

        x = 17
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 20

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Military_Collectives focus = NKO_Democratic_politics }
        mutually_exclusive = { focus = NKO_Planned_Economy_keep }

        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = Planned_Economy
                add_idea = Free_Market_Economy
            }
			swap_ideas = {
				remove_idea = industrial_conglomerates
				add_idea = international_bankers
			}
            set_country_flag = positive_international_bankers
            custom_effect_tooltip = short_international_bankers_positive_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Leave_Room_for_Private_Sector executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

#金正恩
	focus = {
        id = NKO_Kim_Jong_un
        icon = Kim_Jong_un2

        x = -2
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Junta focus = NKO_Kim_Jong_Nam }

		available = {
			always = no
		}
        search_filters = {}

        completion_reward = {
			create_country_leader = {
				name = "Kim Jong-un"
				picture = "Kim_Jong-un.dds"
				ideology = Communist-State
				traits = {
					military_career
					emerging_Communist-State
					stubborn
					dictator
					capable
					ruthless
					emotional
					narcissist
				}
			}
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
            mark_focus_tree_layout_dirty = yes
            clr_country_flag = Kim_Jong_il_Death_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_un executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Consolidate_power
        icon = autonomy

        x = -2
        y = 2
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_un }


        search_filters = {}

        completion_reward = {
            add_political_power = 50
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Consolidate_power executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Light_Industry_Develop
        icon = industry_civilian

        x = -3
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Consolidate_power }

        search_filters = {}

        completion_reward = {
			random_owned_state = {
                add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Light_Industry_Develop executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Criticize_Ineptitude
        icon = anti_establishment

        x = -3
        y = 4
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Light_Industry_Develop }

        search_filters = {}

        completion_reward = {
            add_political_power = -150
            swap_ideas = {
                remove_idea = Fallout_leadership_succession
                add_idea = Fallout_leadership_succession2
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Criticize_Ineptitude executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Improvement_of_People's_live
        icon = agriculture

        x = -1
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Consolidate_power }

        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 3_billion_expense_tt
			subtract_from_variable = { treasury = 3 }
            add_stability = 0.05
          log = "[GetDateText]: [This.GetName]: focus NKO_Improvement_of_People's_live executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_People's_support
        icon = family

        x = -1
        y = 4
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Improvement_of_People's_live }

        search_filters = {}

        completion_reward = {
            add_stability = 0.10
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_People's_support executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Centralize_Power
        icon = stability

        x = -2
        y = 5
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Criticize_Ineptitude }
        prerequisite = { focus = NKO_People's_support }

        search_filters = {}

        completion_reward = {
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_Centralize_Power executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Root_out_Corruption
        icon = concessions2

        x = -2
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {}

        completion_reward = {
            decrease_corruption = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Root_out_Corruption executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Formalize_Power_Structures
        icon = judiciary

        x = -4
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {}

        completion_reward = {
            add_stability = 0.15
          log = "[GetDateText]: [This.GetName]: focus NKO_Formalize_Power_Structures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Assassinate_Kim_Jong-Nam
        icon = sniper

        x = 0
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {}

        completion_reward = {
            remove_ideas = Fallout_leadership_succession2
          log = "[GetDateText]: [This.GetName]: focus NKO_Assassinate_Kim_Jong-Nam executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Appoint_Loyalists
        icon = aristocratic_funding

        x = -1
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Assassinate_Kim_Jong-Nam }
        prerequisite = { focus = NKO_Formalize_Power_Structures }
        prerequisite = { focus = NKO_Root_out_Corruption }

        search_filters = {}

        completion_reward = {
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_Appoint_Loyalists executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Civilian_Control_of_the_Economy
        icon = generic_banks

        x = -3
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Assassinate_Kim_Jong-Nam }
        prerequisite = { focus = NKO_Formalize_Power_Structures }
        prerequisite = { focus = NKO_Root_out_Corruption }

		available = {
			OR = { has_idea = NKO_the_private_markets
                has_idea = NKO_the_black_market }
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Civilian_Control_of_the_Economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Party_State_Army
        icon = communism9

        x = -4
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Civilian_Control_of_the_Economy }
        prerequisite = { focus = NKO_Appoint_Loyalists }
		mutually_exclusive = {
			focus = NKO_Party_Unchecked
		}

        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = closed_nation
                add_idea = censored_nation_05
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Party_State_Army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Party_Unchecked
        icon = juche

        x = 0
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Civilian_Control_of_the_Economy }
        prerequisite = { focus = NKO_Appoint_Loyalists }
		mutually_exclusive = {
			focus = NKO_Party_State_Army
		}

        search_filters = {}

        completion_reward = {
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_Party_Unchecked executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Eternal_Juche_sasang
        icon = juche4

        x = -2
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Party_State_Army focus = NKO_Party_Unchecked }
		mutually_exclusive = {
            focus = NKO_The_Choson_Dream
            focus = NKO_Democracy_with_North_Characteristics
		}

        search_filters = {}

        completion_reward = {
            add_ideas = Juche_sasang
          log = "[GetDateText]: [This.GetName]: focus NKO_Eternal_Juche_sasang executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

#金正男
	focus = {
        id = NKO_Kim_Jong_Nam
        icon = Kim_Jong_nam

        x = -14
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Junta focus = NKO_Kim_Jong_un }

		available = {
			always = no
		}
        search_filters = {}

        completion_reward = {
			create_country_leader = {
				name = "Kim Jong-nam"
				picture = "Kim Jong-nam.dds"
				ideology = Communist-State
				traits = {
					emerging_Communist-State
					rash
					pro_china
				}
			}
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
            mark_focus_tree_layout_dirty = yes
            clr_country_flag = Kim_Jong_il_Death_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_Nam executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Face_world
        icon = global_community

        x = -2
        y = 1
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_Nam }


		available = {
		}
        search_filters = {}

        completion_reward = {
			every_other_country = {
				add_opinion_modifier = {
					target = NKO
					modifier = friendship
				}
			}

          log = "[GetDateText]: [This.GetName]: focus NKO_Face_world executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Conciliatory_Rhetoric
        icon = intelligence_exchange

        x = -2
        y = 2
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Face_world }

		available = {
		}
        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = Massive_International_Sanctions }
            swap_ideas = {
                remove_idea = Massive_International_Sanctions
                add_idea = Reduced_Western_Sanctions
                }
            }
            if = {
                limit = { has_idea = international_sanctions }
            swap_ideas = {
                remove_idea = international_sanctions
                add_idea = Reduced_Western_Sanctions
                }
            }
            if = {
                limit = { has_idea = Western_Sanctions }
            swap_ideas = {
                remove_idea = Western_Sanctions
                add_idea = Reduced_Western_Sanctions
                }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Conciliatory_Rhetoric executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Diplomatic_Overtures
        icon = tripartite_pact

        x = -2
        y = 3
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Conciliatory_Rhetoric }

		available = {
		}
        search_filters = {}

        completion_reward = {
			every_other_country = {
				add_opinion_modifier = {
					target = NKO
					modifier = stage_peaceful
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Diplomatic_Overtures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_step_up_joint_Ventures
        icon = treaty2

        x = -2
        y = 4
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Diplomatic_Overtures }

		available = {
		}
        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 15_billion_revenue_tt
			add_to_variable = { treasury = 15 }
            add_offsite_building = { type = industrial_complex level = 3 }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_step_up_joint_Ventures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
	focus = {
        id = NKO_Embrace_the_people
        icon = communism5

        x = 2
        y = 1
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_Nam }


		available = {
		}
        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = closed_nation
                add_idea = censored_nation_05
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Embrace_the_people executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Loosen_Information_monopoly
        icon = liberal_press

        x = 2
        y = 2
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Embrace_the_people }

		available = {
		}
        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_05
                add_idea = censored_nation_04
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_Loosen_Information_monopoly executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Tone_Down_Propaganda
        icon = propaganda

        x = 2
        y = 3
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Loosen_Information_monopoly }

		available = {
		}
        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_04
                add_idea = censored_nation_03
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Tone_Down_Propaganda executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_forced_Labor
        icon = pro_immigration2

        x = 2
        y = 4
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Tone_Down_Propaganda }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_stability = 0.10
            remove_ideas = Fallout_leadership_succession
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_End_forced_Labor executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Expand_SEZs
        icon = market_socialism

        x = -4
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        allow_branch = { has_completed_focus = NKO_step_up_joint_Ventures has_completed_focus = NKO_End_forced_Labor }

		available = {
			custom_trigger_tooltip = {
				tooltip = NKO_CHI_PROPOSE_TRADE_AGREEMENT_TOOLTIP
                ROOT = { has_country_flag = trade_agreementCHI }
			}
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
            remove_ideas = Reduced_Western_Sanctions
          log = "[GetDateText]: [This.GetName]: focus NKO_Expand_SEZs executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_Juche
        icon = juche3

        x = -4
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Expand_SEZs }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = YES
          log = "[GetDateText]: [This.GetName]: focus NKO_End_Juche executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Foreign_Knowledge
        icon = examine_foreign_science

        x = -4
        y = 7
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_End_Juche }

		available = {
		}
        search_filters = {}

        completion_reward = {
			subtract_from_variable = { treasury = 8 }
			custom_effect_tooltip = 8_billion_expense_tt
            add_research_slot = 1
          log = "[GetDateText]: [This.GetName]: focus NKO_Foreign_Knowledge executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
	focus = {
        id = NKO_Join_the_WTO
        icon = wto

        x = -4
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Foreign_Knowledge }

		available = {
		}
        search_filters = {}

        completion_reward = {
			if = {
				limit = { has_start_date < 2020.01.01 }
				add_timed_idea = {
					idea = recently_acceded_to_wto
					days = 365
				}
                increase_Free_Market_Economy = YES
			}
				every_country = {
					news_event = { id = korea_north.2 }
				}
          log = "[GetDateText]: [This.GetName]: focus NKO_Join_the_WTO executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Preserve_the_Party
        icon = communism10

        x = -1
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        mutually_exclusive = { focus = NKO_People_before_Party }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_Preserve_the_Party executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Appeal_to_the_Youth
        icon = national_unity_red

        x = -1
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Preserve_the_Party }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Appeal_to_the_Youth executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Choson_Dream
        icon = Choson_Dream

        x = -1
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Appeal_to_the_Youth focus = NKO_Free_Expression focus = NKO_Party_State_Army }
		mutually_exclusive = {
			focus = NKO_Eternal_Juche_sasang
            focus = NKO_Democracy_with_North_Characteristics
		}
		available = {
		}
        search_filters = {}

        completion_reward = {
            add_ideas = Choson_Dream
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Choson_Dream executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_People_before_Party
        icon = democracy

        x = 2
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        mutually_exclusive = { focus = NKO_Preserve_the_Party }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_stability = 0.05
          log = "[GetDateText]: [This.GetName]: focus NKO_People_before_Party executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Elections
        icon = democracy6

        x = 2
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_People_before_Party }

		available = {
		}
        search_filters = {}

        completion_reward = {
			if = {
				limit = { has_government = communism }
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = democratic }
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = neutrality }
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = nationalist }
				set_politics = {
					ruling_party = nationalist
					elections_allowed = yes
				}
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.03
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			recalculate_party = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Elections executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Free_Expression
        icon = social_media

        x = 2
        y = 7
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Elections }

		available = {
		}
        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_03
                add_idea = censored_nation_02
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Free_Expression executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Democracy_with_North_Characteristics
        icon = blue_democracy

        x = 2
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Free_Expression }
		mutually_exclusive = {
			focus = NKO_Eternal_Juche_sasang
            focus = NKO_The_Choson_Dream
		}

		available = {
		}
        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_02
                add_idea = open_nation_01
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Democracy_with_North_Characteristics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
#政治共用线
	focus = {
        id = NKO_Byungjin
        icon = national_unity_red

        x = -8
        y = 2
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Kim_Jong_Nam focus = NKO_Kim_Jong_un }
        allow_branch = { OR = { has_completed_focus = NKO_Kim_Jong_Nam has_completed_focus = NKO_Kim_Jong_un } }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -50
          log = "[GetDateText]: [This.GetName]: focus NKO_Byungjin executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Scale_Back_Spending
        icon = anti_establishment

        x = -1
        y = 1
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Byungjin }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -200
			custom_effect_tooltip = 5_billion_revenue_tt
			add_to_variable = { treasury = 5 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Scale_Back_Spending executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_Consumption
        icon = economic_prosperity2

        x = -1
        y = 2
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Scale_Back_Spending }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_Consumption executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Loosen_Grip_on_SOEs
        icon = market_economy

        x = -1
        y = 3
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Encourage_Consumption }
        prerequisite = { focus = NKO_Resorts_and_Tourism }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_stability = -0.08
            add_political_power = -150
          log = "[GetDateText]: [This.GetName]: focus NKO_Loosen_Grip_on_SOEs executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_State_owned_Enterprises_Competition
        icon = industry_democratic3

        x = 1
        y = 1
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Byungjin }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -100
			custom_effect_tooltip = 1_billion_revenue_tt
			add_to_variable = { treasury = 1 }
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_State_owned_Enterprises_Competition executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Resorts_and_Tourism
        icon = play_our_hand

        x = 1
        y = 2
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_State_owned_Enterprises_Competition }

		available = {
		}
        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 12_billion_expense_tt
			subtract_from_variable = { treasury = 12 }
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Resorts_and_Tourism executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Samjiyon
        icon = kim_il_sung

        x = 1
        y = 3
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Resorts_and_Tourism }
        prerequisite = { focus = NKO_Encourage_Consumption }

		available = {
		}
        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 2_billion_expense_tt
			subtract_from_variable = { treasury = 2 }
            add_popularity = {
                ideology = communism
                popularity = 0.10
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Samjiyon executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Incentive-Based_Economy
        icon = decentralized_economy

        x = 0
        y = 4
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Samjiyon }
        prerequisite = { focus = NKO_Loosen_Grip_on_SOEs }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Incentive-Based_Economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Empower_the_Donju
        icon = maritime_trade

        x = -2
        y = 5
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Incentive-Based_Economy }
        mutually_exclusive = { focus = NKO_Weaken_the_Donju }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_the_donju_opinion = yes
            add_political_power = -100
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Empower_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Weaken_the_Donju
        icon = communist_purge

        x = 2
        y = 5
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Incentive-Based_Economy }
        mutually_exclusive = { focus = NKO_Empower_the_Donju }

		available = {
		}
        search_filters = {}

        completion_reward = {
            decrease_the_donju_opinion = yes
            add_stability = 0.06
          log = "[GetDateText]: [This.GetName]: focus NKO_Weaken_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Protect_State_Owned_Businness
        icon = protectionist_economics

        x = 2
        y = 6
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Weaken_the_Donju focus = NKO_Empower_the_Donju }
        mutually_exclusive = { focus = NKO_Encourage_Foreign_Investment }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_stability = 0.02
          log = "[GetDateText]: [This.GetName]: focus NKO_Protect_State_Owned_Businness executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_Foreign_Investment
        icon = trade_with_north_korea

        x = -2
        y = 6
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Weaken_the_Donju focus = NKO_Empower_the_Donju }
        mutually_exclusive = { focus = NKO_Protect_State_Owned_Businness }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -90
            add_stability = -0.05
            add_timed_idea = {
                idea = CHI_foreign_investment
                days = 60
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_Foreign_Investment executed"
        }

        ai_will_do = {
        	base = 1
        }
    }


	focus = {
        id = NKO_Privatize_Means_of_Production
        icon = industry_united_states

        x = 0
        y = 8
        relative_position_id = NKO_Byungjin
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Protect_State_Owned_Businness focus = NKO_Encourage_Foreign_Investment }

		available = {
		}
        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = Free_Market_Economy }
                remove_ideas = Free_Market_Economy
            }
            else = {
                increase_Free_Market_Economy = yes
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Privatize_Means_of_Production executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
###三八线
	focus = {
        id = NKO_The_38th_Parallel
        icon = two_korea

        x = 60
        y = 0
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}

        completion_reward = {
            add_political_power = 50

          log = "[GetDateText]: [This.GetName]: focus NKO_The_38th_Parallel executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Road_to_Peace
        icon = DPRK-ROK_shake_flags

        x = -4
        y = 1
        relative_position_id = NKO_The_38th_Parallel
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_The_38th_Parallel }

        completion_reward = {
            add_stability = 0.02
            add_war_support = -0.02
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Road_to_Peace executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Road_to_War
        icon = small_arms_east

        x = 4
        y = 1
        relative_position_id = NKO_The_38th_Parallel
        cost = 5

        cancel_if_invalid = yes
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_The_38th_Parallel }

        completion_reward = {
            add_war_support = 0.02
            add_stability = -0.02
            increase_the_military_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Road_to_War executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

###工业发展
	focus = {
        id = NKO_Economy_Revival
        icon = coins

        x = 14
        y = 0
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        available = { has_completed_focus = NKO_Great_Victory }
        allow_branch = { has_completed_focus = NKO_Great_Victory }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_political_power = 150
          log = "[GetDateText]: [This.GetName]: focus NKO_Economy_Revival executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Priorit_for_Civilian_Industry
        icon = industry_civilian

        x = -3
        y = 1
        relative_position_id = NKO_Economy_Revival
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Economy_Revival }
        mutually_exclusive = { focus = NKO_Priorit_for_Army_Industry }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = { idea = NKO_Revival_Industry1 days = 70 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Priorit_for_Civilian_Industry executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Priorit_for_Army_Industry
        icon = industry_military

        x = 3
        y = 1
        relative_position_id = NKO_Economy_Revival
        cost = 15

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Economy_Revival }
        mutually_exclusive = { focus = NKO_Priorit_for_Civilian_Industry }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = { idea = NKO_Revival_Industry2 days = 70 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Priorit_for_Army_Industry executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Kaesong
        icon = industry_communist2

        x = -3
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Priorit_for_Civilian_Industry focus = NKO_Priorit_for_Army_Industry }

		available = {
		}
        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 15_billion_expense_tt
			subtract_from_variable = { treasury = 15 }
			603 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Kaesong executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Arms_Trafficking
        icon = small_arms2

        x = 3
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Priorit_for_Civilian_Industry focus = NKO_Priorit_for_Army_Industry }

		available = {
            has_equipment = {
                infantry_weapons1 > 49999
            }
		}
        search_filters = {}

        completion_reward = {
			custom_effect_tooltip = 12_billion_revenue_tt
			add_to_variable = { treasury = 12 }
				add_equipment_to_stockpile = {
					type = infantry_weapons1
					amount = -50000
					producer = NKO
				}
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Arms_Trafficking executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Recognition_of_Economic_Backwardness
        icon = better_money

        x = 0
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Priorit_for_Army_Industry focus = NKO_Priorit_for_Civilian_Industry }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_stability = -0.05
            add_political_power = -150
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Recognition_of_Economic_Backwardness executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_2009_Revaluation
        icon = better_money_on_fire

        x = 0
        y = 3
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Recognition_of_Economic_Backwardness }
        prerequisite = { focus = NKO_Arms_Trafficking }
        prerequisite = { focus = NKO_Kaesong }
        allow_branch = { has_completed_focus = NKO_Recognition_of_Economic_Backwardness }


		available = {
            date > 2009.09.01
		}
        search_filters = {}

        completion_reward = {
            country_event = korea_north.3
          log = "[GetDateText]: [This.GetName]: focus NKO_2009_Revaluation executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Revaluation_Success
        icon = economic_prosperity

        x = -2
        y = 4
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_2009_Revaluation }
        mutually_exclusive = { focus = NKO_Revaluation_Failure }

		available = {
            always = no
		}
        search_filters = {}

        completion_reward = {
          log = "[GetDateText]: [This.GetName]: focus NKO_Revaluation_Success executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Revaluation_Failure
        icon = money_on_fire

        x = 2
        y = 4
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_2009_Revaluation }
        mutually_exclusive = { focus = NKO_Revaluation_Success }

		available = {
            always = no
		}
        search_filters = {}

        completion_reward = {
          log = "[GetDateText]: [This.GetName]: focus NKO_Revaluation_Failure executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Air_Koryo
        icon = modern_bomber

        x = -2
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
			    custom_effect_tooltip = 6_billion_expense_tt
			    subtract_from_variable = { treasury = 6 }
            }
            if = {
                limit = { has_country_flag = Revaluation_Failure }
			    custom_effect_tooltip = 11_25_billion_revenue_tt
			    subtract_from_variable = { treasury = 11.25 }
            }
            602 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            603 = {
                add_building_construction = {
                    type = air_base
                    level = 3
                    instant_build = yes
                }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Air_Koryo executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Reform_of_the_Privatisation_of_Collective_Farms
        icon = agriculture2

        x = 4
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
                add_stability = 0.10
                add_political_power = -50
            }
            if = {
                limit = { has_country_flag = Revaluation_Failure }
                add_stability = 0.04
                add_political_power = -100
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Reform_of_the_Privatisation_of_Collective_Farms executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Construction_of_Hydraulic_Facilities
        icon = water_conservation

        x = -4
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
					custom_effect_tooltip = 12_billion_expense_tt
					subtract_from_variable = { treasury = 12 }
            		603 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            		602 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            		601 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            	}
            if = {
                limit = { has_country_flag = Revaluation_Failure }
					custom_effect_tooltip = 20_billion_revenue_tt
					subtract_from_variable = { treasury = 20 }
            		603 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            		602 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            		601 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            	}
          log = "[GetDateText]: [This.GetName]: focus NKO_Construction_of_Hydraulic_Facilities executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Free_Housing
        icon = house

        x = 2
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10

        cancel_if_invalid = yes
        available_if_capitulated = no
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Failure }
			        custom_effect_tooltip = 6_billion_expense_tt
			        subtract_from_variable = { treasury = 6 }
                    603 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 3
                            instant_build = yes
                        }
                    }
                    601 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                            }
                        }
                    random_owned_state = {
                        add_extra_state_shared_building_slots = 2
                        add_building_construction = {
                                type = industrial_complex
                                level = 2
                                instant_build = yes
                            }
                        }
                    }
            if = {
                limit = { has_country_flag = Revaluation_Success }
			        custom_effect_tooltip = 3_billion_expense_tt
			        subtract_from_variable = { treasury = 3 }
                    603 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 3
                            instant_build = yes
                        }
                    }
                    601 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                            }
                        }
                    random_owned_state = {
                        add_extra_state_shared_building_slots = 2
                        add_building_construction = {
                                type = industrial_complex
                                level = 2
                                instant_build = yes
                            }
                        }
                    }
          log = "[GetDateText]: [This.GetName]: focus NKO_Construction_of_Hydraulic_Facilities executed"
        }

        ai_will_do = {
        	base = 1
        }
    }