GRN_update_alcohol_abuse = {
	# Clear the Ideas first
	if = {
		limit = {
			OR = {
				has_idea = GRN_Subsidized_Mass_Alcoholism
				has_idea = GRN_extremely_high_alcohol_abuse
				has_idea = GRN_very_high_alcohol_abuse
				has_idea = GRN_high_alcohol_abuse
				has_idea = GRN_medium_alcohol_abuse
				has_idea = GRN_low_alcohol_abuse
				has_idea = GRN_very_low_alcohol_abuse
				has_idea = GRN_extremely_low_alcohol_abuse
				has_idea = GRN_Sober_Populace
			}
		}
		custom_effect_tooltip = GRN_remove_alcohol_abuse_tt
		hidden_effect = {
			remove_ideas = {
				GRN_Subsidized_Mass_Alcoholism
				GRN_extremely_high_alcohol_abuse
				GRN_very_high_alcohol_abuse
				GRN_high_alcohol_abuse
				GRN_medium_alcohol_abuse
				GRN_low_alcohol_abuse
				GRN_very_low_alcohol_abuse
				GRN_extremely_low_alcohol_abuse
				GRN_Sober_Populace
			}
		}
	}

	# Add Alcohol Abuse Idea
	if = { 
		limit = { 
			check_variable = { alcohol_abuse_var > 95 }
		}
		add_ideas = GRN_Subsidized_Mass_Alcoholism
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 96 }
			check_variable = { alcohol_abuse_var > 75 }
		}
		add_ideas = GRN_extremely_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 76 }
			check_variable = { alcohol_abuse_var > 50 }
		}
		add_ideas = GRN_very_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 51 }
			check_variable = { alcohol_abuse_var > 25 }
		}
		add_ideas = GRN_high_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < 26 }
			check_variable = { alcohol_abuse_var > -25 }
		}
		add_ideas = GRN_medium_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -26 }
			check_variable = { alcohol_abuse_var > -50 }
		}
		add_ideas = GRN_low_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -51 }
			check_variable = { alcohol_abuse_var > -75 }
		}
		add_ideas = GRN_very_low_alcohol_abuse
	}
	else_if = {
		limit = {
			check_variable = { alcohol_abuse_var < -76 }
			check_variable = { alcohol_abuse_var > -95 }
		}
		add_ideas = GRN_extremely_low_alcohol_abuse
	}
	else = {
		add_ideas = GRN_Sober_Populace
	}

	clamp_variable = { var = alcohol_abuse_var min = -100 max = 100 }
}

# set_temp_variable = { modify_alcohol_abuse = +- }

GRN_modify_alcohol_abuse = {
	add_to_variable = { alcohol_abuse_var = modify_alcohol_abuse }
	custom_effect_tooltip = GRN_modify_alcohol_abuse_tt
	GRN_update_alcohol_abuse = yes
}

GRN_update_cultural_integrity = {
	# Clear the Ideas first
	if = {
		limit = {
			OR = {
				has_idea = GRN_Happy_Populace
				has_idea = GRN_High_Cultural_integrity
				has_idea = GRN_Medium_Cultural_integrity
				has_idea = GRN_Low_Cultural_integrity
				has_idea = GRN_Assimilated_Populace
			}
		}
		custom_effect_tooltip = GRN_remove_cultural_integrity_tt
		hidden_effect = {
			remove_ideas = {
				GRN_Happy_Populace
				GRN_High_Cultural_integrity
				GRN_Medium_Cultural_integrity
				GRN_Low_Cultural_integrity
				GRN_Assimilated_Populace
			}
		}
	}

	# Add Cultural_integrity Idea
	if = { 
		limit = { 
			check_variable = { cultural_integrity_var > 95 }
		}
		add_ideas = GRN_Happy_Populace
	}
	else_if = {
		limit = {
			check_variable = { cultural_integrity_var < 96 }
			check_variable = { cultural_integrity_var > 65 }
		}
		add_ideas = GRN_High_Cultural_integrity
	}
	else_if = {
		limit = {
			check_variable = { cultural_integrity_var < 66 }
			check_variable = { cultural_integrity_var > 35 }
		}
		add_ideas = GRN_Medium_Cultural_integrity
	}
	else_if = {
		limit = {
			check_variable = { cultural_integrity_var < 36 }
			check_variable = { cultural_integrity_var > 5 }
		}
		add_ideas = GRN_Low_Cultural_integrity
	}
	else = {
		add_ideas = GRN_Assimilated_Populace
	}

	clamp_variable = { var = cultural_integrity_var min = -100 max = 100 }
}

# set_temp_variable = { modify_cultural_integrity = +- }

GRN_modify_cultural_integrity = {
	add_to_variable = { cultural_integrity_var = modify_cultural_integrity }
	custom_effect_tooltip = GRN_modify_cultural_integrity_tt
	GRN_update_cultural_integrity = yes
}