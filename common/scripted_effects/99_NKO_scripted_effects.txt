modify_voj_separ_support = {
	add_to_variable = { unions_state = modify_voj_separ }

	custom_effect_tooltip = SER_voj_separ_TT

	clamp_variable = {
		var = ROOT.voj_separ
		min = 0
		max = 100
	}
}
modify_voj_integr_support = {
	add_to_variable = { unions_state = modify_voj_integr }

	custom_effect_tooltip = SER_voj_integr_TT

	clamp_variable = {
		var = ROOT.voj_integr
		min = 0
		max = 50
	}
}
###########FLEET - POSITIVE CHANGE EFFECT###########
NKO_fleet_positive = {
	if = {
		limit = { 
			has_idea = NKO_The_Green_Water_Navy3
		}
		swap_ideas = {
			remove_idea = NKO_The_Green_Water_Navy3
			add_idea = NKO_The_Green_Water_Navy4
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_The_Green_Water_Navy2
		}
		swap_ideas = {
			remove_idea = NKO_The_Green_Water_Navy2
			add_idea = NKO_The_Green_Water_Navy3
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_The_Green_Water_Navy1
		}
		swap_ideas = {
			remove_idea = NKO_The_Green_Water_Navy1
			add_idea = NKO_The_Green_Water_Navy2
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_The_Green_Water_Navy
		}
		swap_ideas = {
			remove_idea = NKO_The_Green_Water_Navy
			add_idea = NKO_The_Green_Water_Navy1
		}
	}
}
###########INTERNATIONAL SANCTIONS - POSITIVE CHANGE EFFECT###########
NKO_sanctions_positive = {
	if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea4
		}
		remove_ideas = NKO_international_sanctions_idea4
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea3
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea3
			add_idea = NKO_international_sanctions_idea4
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea2
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea2
			add_idea = NKO_international_sanctions_idea3
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea1
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea1
			add_idea = NKO_international_sanctions_idea2
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea
			add_idea = NKO_international_sanctions_idea1
		}
	}
}
###########INTERNATIONAL SANCTIONS - NEGATIVE CHANGE EFFECT###########
NKO_sanctions_negative = {
	if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea1
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea1
			add_idea = NKO_international_sanctions_idea
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea2
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea2
			add_idea = NKO_international_sanctions_idea1
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea3
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea3
			add_idea = NKO_international_sanctions_idea2
		}
	}
	else_if = {
		limit = { 
			has_idea = NKO_international_sanctions_idea4
		}
		swap_ideas = {
			remove_idea = NKO_international_sanctions_idea4
			add_idea = NKO_international_sanctions_idea3
		}
	}
	else_if = {
		limit = { 
			NOT = {
				OR = {
					has_idea = NKO_international_sanctions_idea
					has_idea = NKO_international_sanctions_idea1
					has_idea = NKO_international_sanctions_idea2
					has_idea = NKO_international_sanctions_idea3
					has_idea = NKO_international_sanctions_idea4
				}
			}
		}
		add_ideas = NKO_international_sanctions_idea4
	}
}
###########CIVIL WAR IN SOUTH KOREA -  EFFECT###########
NKO_civil_war_south = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = KOR
			copy_tag = KOR
			transfer_state = 604
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			set_popularities = {
				democratic = 0
				neutrality = 0
				fascism = 0
				communism = 99
				nationalist = 1
			}
			inherit_technology = KOR
			clear_array = ruling_party
			clear_array = gov_coalition_array
			add_to_array = {
				ruling_party = 4
			}
			set_temp_variable = {
				current_cons_popularity = party_pop_array^4
			}
			multiply_temp_variable = {
				current_cons_popularity = 0.5
			}
			add_to_variable = {
				party_pop_array^4 = current_cons_popularity
			}
			recalculate_party = yes
			update_government_coalition_strength = yes
			update_party_name = yes
			set_coalition_drift = yes
			set_ruling_leader = yes
			set_leader = yes
			retire_country_leader = yes
			KOR = {
				transfer_units_fraction = {
					target = PREV
					size = 0.1
					stockpile_ratio = 0.1
					army_ratio = 0.1
					navy_ratio = 0.1
					air_ratio = 0.1
				}
			}
			declare_war_on = {
				target = KOR
				type = civil_war
			}
			add_civil_war_target = KOR
			country_event = { id = korea.39 }
		}
	}
}
