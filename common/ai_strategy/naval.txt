###Non-MTG Generic Naval Unit production###
MD4_minor_Naval_unit_prod_non_mtg = { #Screen's only | mil 0 - 10
	allowed = { always = no }
	enable = {

		num_of_military_factories < 11 #10 or less
	}

	abort = {
		or = {
			num_of_military_factories > 10 #11 or greater
		}
	}
	#Carrier
	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 0
	}
	ai_strategy = {
		type = equipment_production_factor
		id = carrier
		value = 0
	}
	ai_strategy = {
		type = role_ratio
		id = naval_carrier ##idk if this will work?
		value = 0
	}

	#capital_ship
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 0
	}
	ai_strategy = {
		type = equipment_production_factor
		id = capital_ship
		value = 0
	}
	ai_strategy = {
		type = role_ratio
		id = naval_capital
		value = 0
	}

	#submarine
	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 20
	}
	ai_strategy = {
		type = equipment_production_factor
		id = submarine
		value = 20
	}
	ai_strategy = {
		type = role_ratio
		id = naval_sub
		value = 20
	}

	#screen_ship
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 50
	}
	ai_strategy = {
		type = equipment_production_factor
		id = screen_ship
		value = 50
	}
	ai_strategy = {
		type = role_ratio
		id = naval_screen
		value = 50
	}

	#convoy
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 30
	}
	ai_strategy = {
		type = equipment_production_factor
		id = convoy
		value = 30
	}
}
MD4_Low_Secondary_Naval_unit_prod_non_mtg = { #Screen's/subs | Mil 11 - 20
	allowed = { always = no }
	enable = {
		num_of_military_factories > 10 #11 or greater
		num_of_military_factories < 21 #20 or less

	}

	abort = {
		or = {
			num_of_military_factories > 20 #21 or greater
			num_of_military_factories < 11 #10 or less
		}
	}
	#carrier
	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 0
	}
	ai_strategy = {
		type = equipment_production_factor
		id = carrier
		value = 0
	}

	#capital_ship
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 0
	}
	ai_strategy = {
		type = equipment_production_factor
		id = capital_ship
		value = 0
	}

	#submarine
	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 20
	}
	ai_strategy = {
		type = equipment_production_factor
		id = submarine
		value = 20
	}

	#screen_ship
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 50
	}
	ai_strategy = {
		type = equipment_production_factor
		id = screen_ship
		value = 50
	}

	#convoy
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 30
	}
	ai_strategy = {
		type = equipment_production_factor
		id = convoy
		value = 30
	}
}

MD4_High_Secondary_Naval_unit_prod = { #carrier/capital/Screen's/subs | mil 21 - 35
	allowed = { always = no }
	enable = {
		num_of_military_factories > 20 #21 or greater
		num_of_military_factories < 36 #35 or less
	}

	abort = {
		or = {
			num_of_military_factories > 35 #36 or more
			num_of_military_factories < 21 #20 or less
		}
	}

	#carrier
	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 5
	}
	ai_strategy = {
		type = equipment_production_factor
		id = carrier
		value = 5
	}

	#capital_ship
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 20
	}
	ai_strategy = {
		type = equipment_production_factor
		id = capital_ship
		value = 20
	}

	#submarine
	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 15
	}
	ai_strategy = {
		type = equipment_production_factor
		id = submarine
		value = 15
	}

	#screen_ship
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 30
	}
	ai_strategy = {
		type = equipment_production_factor
		id = screen_ship
		value = 30
	}

	#convoy
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 30
	}
	ai_strategy = {
		type = equipment_production_factor
		id = convoy
		value = 30
	}


}
MD4_Major_Naval_unit_prod = { #carrier/capital/Screen's/subs | Mil 36+
	allowed = { always = no }
	enable = {

		num_of_military_factories > 35 #36 or greater
		# is_major = yes
	}

	abort = {

		#or = {
			num_of_military_factories < 35 #36 or less
			# is_major = no
		# }
	}

	#carrier
	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 20
	}
	ai_strategy = {
		type = equipment_production_factor
		id = carrier
		value = 20
	}

	#capital_ship
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 10
	}
	ai_strategy = {
		type = equipment_production_factor
		id = capital_ship
		value = 10
	}

	#submarine
	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 15
	}
	ai_strategy = {
		type = equipment_production_factor
		id = submarine
		value = 15
	}

	#screen_ship
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 30
	}
	ai_strategy = {
		type = equipment_production_factor
		id = screen_ship
		value = 30
	}

	#convoy
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 25
	}
	ai_strategy = {
		type = equipment_production_factor
		id = convoy
		value = 25
	}
}

default_role_ratios = {
	enable = { always = yes }

	ai_strategy = { type = role_ratio id = naval_screen value = 100 }
	ai_strategy = { type = role_ratio id = naval_submarine value = 25}
	ai_strategy = { type = role_ratio id = naval_capital_bb value = -100 } ##Avoid Heavy vessels where you can
	ai_strategy = { type = role_ratio id = naval_capital_bc value = -25 }
	ai_strategy = { type = role_ratio id = naval_carrier value = -50 }
	ai_strategy = { type = role_ratio id = naval_cruiser_light value = 25 } ##Cruisers later on.
	ai_strategy = { type = role_ratio id = naval_cruiser_heavy value = 20 }
	ai_strategy = { type = role_ratio id = naval_mine_sweeper value = 15 }
	ai_strategy = { type = role_ratio id = naval_mine_layer value = 15 }
}

convoy_production_strategy_1 = {
	enable = {
		num_of_naval_factories > 0
		if = {
			limit = {
				OR = {
					original_tag = USA ##MD Majors
					original_tag = CHI
					original_tag = FRA
					original_tag = ENG
					original_tag = SOV
					original_tag = JAP
					original_tag = BRA
					original_tag = ARG
					original_tag = SAF
					original_tag = ITA
					original_tag = GER
				}
			}
			stockpile_ratio = { archetype = convoy ratio < 1000 }
		}
		else = {
			stockpile_ratio = { archetype = convoy ratio < 500 }
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = { type = equipment_production_min_factories id = convoy value = 2 } #Minimally assigns 2 factories to convoys
}

ill_show_you_mine = {
	enable = {
		has_dlc = "Man the Guns"
		mine_threat > 0.2
	}
	abort = {
		mine_threat < 0.2
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_heavy
		value = -20
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_sweeper
		value = 25
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = -10
	}
}

ill_show_you_mine_2 = {
	enable = {
		has_dlc = "Man the Guns"
		mine_threat > 0.5
	}
	abort = {
		mine_threat < 0.5
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_light
		value = -20
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_sweeper
		value = 25
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = -10
	}
}