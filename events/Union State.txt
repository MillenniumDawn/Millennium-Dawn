# Author(s): Deflinok
# Last Modified January 9th, 2025
add_namespace = union_state

#We are Union state
country_event = {
	id = union_state.1
	title = union_state.1.t
	desc = union_state.1.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.1.a
		log = "[GetDateText]: [This.GetName]: union_state.1.a executed"
	}
}
#We are not Union state
country_event = {
	id = union_state.2
	title = union_state.2.t
	desc = union_state.2.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.2.a
		log = "[GetDateText]: [This.GetName]: union_state.2.a executed"
	}
}
#Union state We
country_event = {
	id = union_state.3
	title = union_state.3.t
	desc = union_state.3.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.3.a
		log = "[GetDateText]: [This.GetName]: union_state.3.a executed"
		SOV = { country_event = union_state.4 }
		BLR_union_state_pro_rus_create = yes
		ai_chance = {
			base = 50
			modifier = {
				SOV = { nationalist_fascist_are_in_power = yes }
				BLR = { nationalist_fascist_are_in_power = yes }
				add = 50
			}
			modifier = {
				BLR = {
					OR = {
						nationalist_right_wing_populists_are_in_power = yes
						nationalist_monarchists_are_in_power = yes
					}
				}
				add = -50
			}
		}
	}
	option = {
		name = union_state.3.b
		log = "[GetDateText]: [This.GetName]: union_state.3.b executed"
		SOV = { country_event = union_state.5 }
		ai_chance = {
			base = 50
		}
	}
}
#They are Union state
country_event = {
	id = union_state.4
	title = union_state.4.t
	desc = union_state.4.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.4.a
		log = "[GetDateText]: [This.GetName]: union_state.4.a executed"
	}
}
#They are not Union state
country_event = {
	id = union_state.5
	title = union_state.5.t
	desc = union_state.5.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.5.a
		log = "[GetDateText]: [This.GetName]: union_state.5.a executed"
		SOV = { add_opinion_modifier = { target = BLR modifier = betrayed_our_cause } }
	}
}
#Union state We
country_event = {
	id = union_state.6
	title = union_state.6.t
	desc = union_state.6.d
	picture = GFX_union_state

	is_triggered_only = yes

	option = {
		name = union_state.6.a
		log = "[GetDateText]: [This.GetName]: union_state.6.a executed"
		hidden_effect = {
			set_temp_variable = { percent_change = -18 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = ROOT }
			change_influence_percentage = yes
			SOV = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_union_state
				}
			}
		}
	}
	option = {
		name = union_state.6.b
		log = "[GetDateText]: [This.GetName]: union_state.6.b executed"
	}
}
#Serbia Union State
country_event = {
	id = union_state.7
	title = union_state.7.t
	desc = union_state.7.d
	picture = GFX_union_state
	is_triggered_only = yes
	option = {
		name = union_state.7.a
		ai_chance = {
			base = 55
			modifier = {
				has_opinion = { target = SER value > 39 }
				add = 45
			}
		}
		log = "[GetDateText]: [This.GetName]: union_state.7.a executed"
		SER = {
			remove_ideas = SER_International_Isolation_1
			set_country_flag = BLR_unionstate_agree
		}
		set_autonomy = {
			target = SER
			autonomy_state = autonomy_union_state
		}
	}
	option = {
		name = union_state.7.b
		log = "[GetDateText]: [This.GetName]: union_state.7.a executed"
		SER = {
			country_event = {
				id = union_state.8
				days = 1
			}
		}
		ai_chance = { base = 45 }
	}
}
#We are not Union state
country_event = {
	id = union_state.8
	title = union_state.8.t
	desc = union_state.8.d
	picture = GFX_union_state
	is_triggered_only = yes
	option = {
		name = union_state.8.a
		log = "[GetDateText]: [This.GetName]: union_state.8.a executed"
	}

}
#Russia knows we prepare to Union state
country_event = {
	id = union_state.9
	title = union_state.9.t
	desc = union_state.9.d
	picture = GFX_union_state
	is_triggered_only = yes
	option = {
		name = union_state.9.a
		log = "[GetDateText]: [This.GetName]: union_state.9.a executed"
	}
}
