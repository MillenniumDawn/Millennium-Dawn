scripted_gui = {

	scripted_influence_option_buttons = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "influence_option_buttons"
		
		visible = {
		  always = yes
		}
		
		properties = {
			opt_influence_action_button = {
				image = "[select_influence_action_button]"
			}
			opt_aid_button = {
				image = "[select_aid_button]"
			}
			opt_aid_military_button = {
				image = "[select_aid_military_button]"
			}
			opt_target_other_button = {
				image = "[select_target_other_button]"
			}
			opt_manipulate_politics_button = {
				image = "[select_manipulate_politics_button]"
			}
			opt_coup_button = {
				image = "[select_coup_button]"
			}
			opt_economic_exploitation_button = {
				image = "[select_economic_exploitation_button]"
			}
			opt_make_puppet_button = {
				image = "[select_make_puppet_button]"
			}
		}
		
		triggers = {
		
			opt_influence_action_button_click_enabled = {
				ROOT = { has_political_power > 100 }
			}
		}
		
		effects = {
		
			opt_influence_action_button_click = {
			
				ROOT = { add_political_power = -100 }
				
				set_temp_variable = { influence_gain = ROOT.influence_multiplier } #from global rank idea
				multiply_temp_variable = { influence_gain = 10 } #base gain
				for_loop_effect = {
					end = influence_array^num
					value = v
					if = {
						limit = {
							check_variable = { influence_array^v = ROOT }
						}
						add_to_variable = { influence_array_val^v = influence_gain }
						set_country_flag = found
					}
				}
				if = {
					limit = { NOT = { has_country_flag = found } }
						add_to_array = { influence_array = ROOT.id }
						add_to_array = { influence_array_val = influence_gain }
				}
				clr_country_flag = found
				recalculate_influence = yes
			}
		}
	}

	domestic_influence_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "domestic_influence_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_1_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_1_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_2_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_2_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_3_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_3_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_4_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_4_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_5_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_5_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_6_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_6_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
	position_7_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_7_diplo"
		
		visible = {
		  always = yes
		}
		
		effects = { }
	}
}

