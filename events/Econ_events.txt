# Economic events
add_namespace = econvent
add_namespace = econvent_remove_flag
add_namespace = bankrupcy
add_namespace = News_bankrupcy
add_namespace = influence
add_namespace = News_influence

### Contents ###
# 1-5 Financial Crisis / Economic Collapse Chain
# 6-> Smaller Adjustments
# ?-> Droughts and poor Global South specific economic events

### Planned Additions ###
# IMF / BRICS-Bank conditional assistance
# ASEAN: Access ASEAN+3 Crisis funds feature
# EU: Ask for help from ECU (esp. if high debt)
# Make crisises in larger neigbour countries affect situation, especially IF ingame friends and have trade
# Flavor events for high debt situations
# Add in pics and better texts

### Influence Action events ###

country_event = {
	id = influence.0
	title = influence.0.t
	desc = influence.0.d
	#picture = GFX_united_states_dollar
	
	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		set_variable = { gift_sum = size_modifier }
		multiply_variable = { gift_sum = 20 }
		clamp_variable = {
			var = gift_sum
			min = 1
			max = 10000
		}
		FROM = { country_event = { id = influence.1 } }
	}

	option = {
		name = influence.0.a
		log = "[GetDateText]: [This.GetName]: influence.0.a executed"
	}
}


country_event = {
	id = influence.1
	title = influence.1.t
	desc = influence.1.d
	picture = GFX_united_states_dollar
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	#Give it
	option = {
		name = influence.1.a
		log = "[GetDateText]: [This.GetName]: influence.1.a executed"
		ai_chance = {
			factor = 10
		}
		custom_effect_tooltip = influence_0_TT
		subtract_from_variable = { treasury = FROM.gift_sum }

		custom_effect_tooltip = aid_influence_gain_relative_TT
		
		reverse_add_opinion_modifier = {
				target = FROM
				modifier = given_gift
		}
		FROM = {
			#influence addition
			set_temp_variable = { influence_gain = ROOT.influence_multiplier } #from global rank idea
			multiply_temp_variable = { influence_gain = 5 } #base gain
			for_loop_effect = {
				end = influence_array^num
				value = v
				if = {
					limit = {
						check_variable = { influence_array^v = ROOT }
					}
					add_to_variable = { influence_array_val^v = influence_gain }
					set_country_flag = found
				}
			}
			if = {
				limit = { NOT = { has_country_flag = found } }
					add_to_array = { influence_array = ROOT.id }
					add_to_array = { influence_array_val = influence_gain }
			}
			clr_country_flag = found
			recalculate_influence = yes
			news_event = { id = News_influence.0 } 
		}
	}
	#Let's not bother
	option = {
		name = influence.1.b
		log = "[GetDateText]: [This.GetName]: influence.1.b executed"
		ai_chance = { factor = 0 }
	}
}


news_event = {
	id = News_influence.0
	title = News_influence.0.t
	desc = News_influence.0.d
	picture = GFX_news_update_gdpc
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	#yeah...
	option = {
		name = News_influence.0.a
		log = "[GetDateText]: [This.GetName]: News_influence.0.a executed"
		custom_effect_tooltip = influence_from_0_TT
		add_to_variable = { treasury = gift_sum }
	}
}


country_event = {
	id = influence.2
	title = influence.2.t
	desc = influence.2.d
	#picture = GFX_united_states_dollar
	
	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		FROM = { country_event = { id = influence.3 } }
	}

	option = {
		name = influence.2.a
		log = "[GetDateText]: [This.GetName]: influence.2.a executed"
	}
}


country_event = {
	id = influence.3
	title = influence.3.t
	desc = influence.3.d
	picture = GFX_united_states_dollar
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	#Give it
	option = {
		name = influence.3.a
		log = "[GetDateText]: [This.GetName]: influence.3.a executed"
		ai_chance = {
			factor = 10
		}
		trigger = {
			FROM = {
				has_variable = influence_array^0
				NOT = {
					check_variable = { influence_array^0 = ROOT }
				}
			}
		}
		custom_effect_tooltip = influence_0_TT
		subtract_from_variable = { treasury = FROM.gift_sum }

		custom_effect_tooltip = aid_influence_gain_relative_TT
		
		var:FROM.influence_array^0 = {
				country_event = { id = bankrupcy.1 }
		}
		reverse_add_opinion_modifier = {
				target = FROM
				modifier = given_gift
		}
		FROM = {
			#influence addition
			set_temp_variable = { influence_gain = ROOT.influence_multiplier } #from global rank idea
			multiply_temp_variable = { influence_gain = 5 } #base gain
			for_loop_effect = {
				end = influence_array^num
				value = v
				if = {
					limit = {
						check_variable = { influence_array^v = ROOT }
					}
					add_to_variable = { influence_array_val^v = influence_gain }
					set_country_flag = found
				}
			}
			if = {
				limit = { NOT = { has_country_flag = found } }
					add_to_array = { influence_array = ROOT.id }
					add_to_array = { influence_array_val = influence_gain }
			}
			clr_country_flag = found
			recalculate_influence = yes
			news_event = { id = News_influence.2 } 
		}
	}
	option = {
		name = bankrupcy.0.1
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.1 executed"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				is_in_faction_with = influence_array^0
			}
			modifier = {
				factor = 0.1
				var:influence_array^0 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^0 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^0
			var:influence_array^0 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^0 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
		}
	}
	#Let's not bother
	option = {
		name = influence.3.b
		log = "[GetDateText]: [This.GetName]: influence.3.b executed"
		ai_chance = { factor = 0 }
	}
}

# attacked our influence in another country
news_event = {
	id = News_influence.1
	title = News_influence.1.t
	desc = News_influence.1.d
	picture = GFX_news_update_gdpc
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	#yeah...
	option = {
		name = News_influence.1.a
		log = "[GetDateText]: [This.GetName]: News_influence.1.a executed"
		add_opinion_modifier = {
				target = FROM
				modifier = attacked_our_influence
		}
	}
}

# attacked our domestic influence
news_event = {
	id = News_influence.2
	title = News_influence.2.t
	desc = News_influence.2.d
	picture = GFX_news_update_gdpc
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	#yeah...
	option = {
		name = News_influence.2.a
		log = "[GetDateText]: [This.GetName]: News_influence.2.a executed"
		add_opinion_modifier = {
				target = FROM
				modifier = attacked_our_influence
		}
	}
}


### Bailout needed ###
country_event = {
	id = bankrupcy.0
	title = bankrupcy.0.t
	desc = bankrupcy.0.d
	picture = GFX_stock_market
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = bailout_happened #prevent to trigger again even if not given - yet.
	}
	
	#Ask for help
	option = {
		name = bankrupcy.0.1
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.1 executed"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				is_in_faction_with = influence_array^0
			}
			modifier = {
				factor = 0.1
				var:influence_array^0 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^0 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^0
			var:influence_array^0 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^0 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
		}
		
		var:influence_array^0 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	option = {
		name = bankrupcy.0.2
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.2 executed"
		ai_chance = {
			factor = 7
			modifier = {
				factor = 5
				is_in_faction_with = influence_array^1
			}
			modifier = {
				factor = 0.1
				var:influence_array^1 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^1 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^1
			var:influence_array^1 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^1 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
		}
		
		var:influence_array^1 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	option = {
		name = bankrupcy.0.3
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.3 executed"
		ai_chance = {
			factor = 5
			modifier = {
				factor = 5
				is_in_faction_with = influence_array^2
			}
			modifier = {
				factor = 0.1
				var:influence_array^2 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^2 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^2
			var:influence_array^2 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^2 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
		}
		
		var:influence_array^2 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	
	option = {
		name = bankrupcy.0.4
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.4 executed"
		ai_chance = {
			factor = 3
			modifier = {
				factor = 3
				is_in_faction_with = var:influence_array^3
			}
			modifier = {
				factor = 0.1
				var:influence_array^3 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^3 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^3
			var:influence_array^3 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^3 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
			#only if previous could not
			NOT = {
				count_triggers = { 
					amount = 3
					AND = {
						has_variable = influence_array^0
						var:influence_array^0 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^0 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^1
						var:influence_array^1 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^1 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^2
						var:influence_array^2 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^2 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}	
				}
			}
		}
		
		var:influence_array^3 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	
	option = {
		name = bankrupcy.0.5
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.5 executed"
		ai_chance = {
			factor = 2
			modifier = {
				factor = 3
				is_in_faction_with = var:influence_array^4
			}
			modifier = {
				factor = 0.1
				var:influence_array^4 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^4 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^4
			var:influence_array^4 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^4 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
			#only if previous could not
			NOT = {
				count_triggers = {
					amount = 3
					AND = {
						has_variable = influence_array^0
						var:influence_array^0 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^0 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^1
						var:influence_array^1 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^1 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^2
						var:influence_array^2 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^2 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^3
						var:influence_array^3 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^3 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}					
				}
			}
		}
		
		var:influence_array^4 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	
	option = {
		name = bankrupcy.0.6
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.6 executed"
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				is_in_faction_with = influence_array^5.id
			}
			modifier = {
				factor = 0.1
				var:influence_array^5 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^5 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^5
			var:influence_array^5 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^5 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
			#only if previous could not
			NOT = {
				count_triggers = {
					amount = 3
					AND = {
						has_variable = influence_array^0
						var:influence_array^0 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^0 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^1
						var:influence_array^1 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^1 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^2
						var:influence_array^2 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^2 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^3
						var:influence_array^3 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^3 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^4
						var:influence_array^4 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^4 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}					
				}
			}
		}
		
		var:influence_array^5 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	
	option = {
		name = bankrupcy.0.7
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.7 executed"
		ai_chance = {
			factor = 0.5
			modifier = {
				factor = 3
				is_in_faction_with = influence_array^6.id
			}
			modifier = {
				factor = 0.1
				var:influence_array^6 = {
					has_opinion = {
						target = ROOT
						value < 1
					}
				}
			}
			modifier = {
				factor = 2
				var:influence_array^6 = {
					ic_ratio = { tag = PREV ratio > 10.0 } #has lotsa capacity
				}
			}
		}
		
		trigger = {
			has_variable = influence_array^6
			var:influence_array^6 = {
				ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
			}
			var:influence_array^6 = {
				has_opinion = {
					target = PREV
					value > -11
				}
			}
			#only if previous could not
			NOT = {
				count_triggers = {
					amount = 3
					AND = {
						has_variable = influence_array^0
						var:influence_array^0 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^0 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^1
						var:influence_array^1 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^1 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^2
						var:influence_array^2 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^2 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^3
						var:influence_array^3 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^3 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^4
						var:influence_array^4 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^4 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^5
						var:influence_array^5 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^5 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}					
				}
			}
		}
		
		var:influence_array^6 = {
				country_event = { id = bankrupcy.1 days = 1 }
		}
	
	}
	
	#We don't need no help, thank you
	option = {
		name = bankrupcy.0.b
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.b executed"
		ai_chance = { factor = 0 }
		trigger = {
			OR = {
				AND = {
					has_variable = influence_array^0
					var:influence_array^0 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^0 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^1
					var:influence_array^1 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^1 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^2
					var:influence_array^2 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^2 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^3
					var:influence_array^3 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^3 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^4
					var:influence_array^4 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^4 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^5
					var:influence_array^5 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^5 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
				AND = {
					has_variable = influence_array^6
					var:influence_array^6 = {
						ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
					}
					var:influence_array^6 = {
						has_opinion = {
							target = PREV
							value > -11
						}
					}
				}
			}
		}
	}
	#we don't have anyone we can ask
	option = {
		name = bankrupcy.0.c
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.c executed"
		ai_chance = { factor = 0 }
		trigger = {
			NOT = {
				OR = {
					AND = {
						has_variable = influence_array^0
						var:influence_array^0 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^0 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^1
						var:influence_array^1 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^1 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^2
						var:influence_array^2 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^2 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^3
						var:influence_array^3 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^3 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^4
						var:influence_array^4 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^4 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^5
						var:influence_array^5 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^5 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
					AND = {
						has_variable = influence_array^6
						var:influence_array^6 = {
							ic_ratio = { tag = PREV ratio > 2.0 } #has capacity
						}
						var:influence_array^6 = {
							has_opinion = {
								target = PREV
								value > -11
							}
						}
					}
				}
			}
		}
	}
}

### Bailout Requested ###
country_event = {
	id = bankrupcy.1
	title = bankrupcy.1.t
	desc = bankrupcy.1.d
	picture = GFX_stock_market
	
	is_triggered_only = yes
	
	immediate = {
		#10% of debt
		set_variable = { bailout_sum = FROM.debt }
		multiply_variable = { bailout_sum = 0.1 }
	}
	
	#Give it
	option = {
		name = bankrupcy.1.1
		log = "[GetDateText]: [This.GetName]: bankrupcy.1.1 executed"
		ai_chance = {
			factor = 10
		}
		custom_effect_tooltip = bankrupcy_bailout_sum_TT
		subtract_from_variable = { treasury = bailout_sum }
		custom_effect_tooltip = bankrupcy_bailout_influence_TT
		FROM = { news_event = { id = News_bankrupcy.2 days = 1 } }
	}
	#We have no help to offer
	option = {
		name = bankrupcy.1.b
		log = "[GetDateText]: [This.GetName]: bankrupcy.0.b executed"
		ai_chance = { factor = 0 }
	}
}

### we got the bailout
news_event = {
	id = News_bankrupcy.2
	title = News_bankrupcy.2.t
	desc = News_bankrupcy.2.d
	#picture = GFX_stock_market
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = bailout_given
		startup_extra_setup = yes #safety reboot
	}
	
	#yeah...
	option = {
		name = News_bankrupcy.2.a
		log = "[GetDateText]: [This.GetName]: News_bankrupcy.2.a executed"
		custom_effect_tooltip = interest_rate_reduced_10_TT
		give_military_access = FROM
		multiply_variable = { domestic_influence_amount = 0.33 }
		if = { limit = { check_variable = { influence_array^0 = FROM } }
			multiply_variable = { influence_array_val^0 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^1 = FROM } }
			multiply_variable = { influence_array_val^1 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^2 = FROM } }
			multiply_variable = { influence_array_val^2 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^3 = FROM } }
			multiply_variable = { influence_array_val^3 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^4 = FROM } }
			multiply_variable = { influence_array_val^4 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^5 = FROM } }
			multiply_variable = { influence_array_val^5 = 3 }
		}
		else_if = { limit = { check_variable = { influence_array^6 = FROM } }
			multiply_variable = { influence_array_val^6 = 3 }
		}
		recalculate_influence = yes
	}
}

### OOOPS BANKRUPT!! ###
news_event = {
	id = News_bankrupcy.6
	title = News_bankrupcy.6.t
	desc = News_bankrupcy.6.d
	#picture = GFX_stock_market
	
	is_triggered_only = yes
	
	immediate = {
		add_timed_idea = { idea = bankrupcy days = 1825 } #5-years
		
		custom_effect_tooltip = econvent.list.depression_tt
		hidden_effect = { add_ideas = depression }
		
		#sells reserves
		subtract_from_variable = { debt = int_investments }
		set_variable = { int_investments = 0 }
		multiply_variable = { debt = 0.2 } #reduces debt
		
		set_variable = { reduction_factor = 0.25 }
		remove_civilian_industry_effect = yes
		
		clear_variable = reduction_factor
		
		startup_extra_setup = yes #safety reboot
		
		#init_influence = yes
	set_variable = { domestic_influence_amount = 0 }
		recalculate_influence = yes
	}
	
	#Give it
	option = {
		name = News_bankrupcy.6.a
		log = "[GetDateText]: [This.GetName]: News_bankrupcy.6.a executed"
		
	}
}

### Central Bank warns of housing bubble & possible crisis ###
country_event = {
	id = econvent.1
	title = econvent.1.t
	desc = econvent.1.d
	
	trigger = {
		NOT = { has_idea = depression }
		NOT = { has_idea = recession } 
		NOT = { has_idea = stagnation }
		NOT = { has_country_flag = possible_housing_bubble }
		NOT = { has_country_flag = housing_crash }
	}
	
	mean_time_to_happen = {
		days = 1500
		modifier = {
			factor = 0.6
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.8
			has_idea = fast_growth
		}
	}
	
	#Take steps to avoid crisis
	option = {
		name = econvent.1.a
		log = "[GetDateText]: [This.GetName]: econvent.1.a executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = economic_boom }
		custom_effect_tooltip = econvent.1.a1_tt 
		hidden_effect = {
			add_ideas = fast_growth
		}
	
	}
	option = {
		name = econvent.1.a
		log = "[GetDateText]: [This.GetName]: econvent.1.a executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = fast_growth }
		custom_effect_tooltip = econvent.1.a2_tt
		hidden_effect = {
			add_ideas = stable_growth
			}
			
	}
	option = {
		name = econvent.1.a
		log = "[GetDateText]: [This.GetName]: econvent.1.a executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = stable_growth }
		custom_effect_tooltip = econvent.1.a3_tt 
		hidden_effect = {
			add_ideas = stagnation
			}
			
	}
	#Crisis?! What crisis!?
	option = {
		name = econvent.1.b
		log = "[GetDateText]: [This.GetName]: econvent.1.b executed"
		ai_chance = { factor = 0 }
		custom_effect_tooltip = econvent.1.b_tt 
		set_country_flag = possible_housing_bubble
	}
}


	

#### Collapsing housing prices ####
country_event = {
	id = econvent.2
	title = econvent.2.t
	desc = econvent.2.d
	
	trigger = {
		has_country_flag = possible_housing_bubble
		NOT = { has_idea = depression }
		NOT = { has_idea = recession } 
		NOT = { has_idea = stagnation }
	}
	
	mean_time_to_happen = {
		days = 830
		modifier = {
			factor = 0.6
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.8
			has_idea = fast_growth
		}
		modifier = {
			factor = 0.5
			has_country_flag = consumption_slowdown
		}
	}
	
	immediate = {
		set_country_flag = {
			flag = housing_crash
			value = 1
		}
		clr_country_flag = possible_housing_bubble
	}
	
	#Lower interest-rates and demand banks increase lending 
	option = {
		name = econvent.2.a
		log = "[GetDateText]: [This.GetName]: econvent.2.a executed"
		ai_chance = { factor = 0 }
		trigger = { has_idea = economic_boom }
		set_country_flag = {
			 flag = voodoo_economics
			 value = 1
		 }
			hidden_effect = { country_event = { id = econvent_remove_flag.2 days = 365 } } #clears voodoo_economics flag
			hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 365 } } #clears housing_crash flag
			#add_timed_idea = { idea = voodoo_economics days = 1 } ## Need to make
			custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			70 = {
				custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			20 = {
				custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			10 = {
				custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
		custom_effect_tooltip = econvent.voodoo_economics_tt
	}
	option = {
		name = econvent.2.a
		log = "[GetDateText]: [This.GetName]: econvent.2.a executed"
		ai_chance = { factor = 0 }
		trigger = { has_idea = fast_growth }
		set_country_flag = { #just flag for now
			 flag = voodoo_economics
			 value = 1
		 }
			hidden_effect = {  country_event = { id = econvent_remove_flag.2 days = 365 } } #clears voodoo_economics flag
			hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 365 } } #clears housing_crash flag
			#add_timed_idea = { idea = voodoo_economics days = 1 } ## Need to make
			custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			70 = {
				custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			20 = {
				custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			10 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
		custom_effect_tooltip = econvent.voodoo_economics_tt
	}
	option = {
		name = econvent.2.a
		log = "[GetDateText]: [This.GetName]: econvent.2.a executed"
		ai_chance = { factor = 0 }
		trigger = { has_idea = stable_growth }
		set_country_flag = { #just flag for now
			 flag = voodoo_economics
			 value = 1
		 }
			hidden_effect = {  country_event = { id = econvent_remove_flag.2 days = 365 } } #clears voodoo_economics flag
			hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 365 } } #clears housing_crash flag
			#add_timed_idea = { idea = voodoo_economics days = 1 } ## Need to make
			custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			80 = {
				custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			20 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
		custom_effect_tooltip = econvent.voodoo_economics_tt
	}
	option = {
		name = econvent.2.a
		log = "[GetDateText]: [This.GetName]: econvent.2.a executed"
		ai_chance = { factor = 0 }
		trigger = { has_idea = stagnation }
		set_country_flag = { #just flag for now
			 flag = voodoo_economics
			 value = 1
		 }
			hidden_effect = {  country_event = { id = econvent_remove_flag.2 days = 365 } } #clears voodoo_economics flag
			hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 1365 } } #clears housing_crash flag
			#add_timed_idea = { idea = voodoo_economics days = 1 } ## Need to make
			custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			50 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			50 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
		custom_effect_tooltip = econvent.voodoo_economics_tt
	}
	option = {
		name = econvent.2.a
		log = "[GetDateText]: [This.GetName]: econvent.2.a executed"
		ai_chance = { factor = 0 }
		trigger = { has_idea = recession }
		set_country_flag = { #just flag for now
			 flag = voodoo_economics
			 value = 1
		 }
			hidden_effect = {  country_event = { id = econvent_remove_flag.2 days = 365 } } #clears voodoo_economics flag
			hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 365 } } #clears housing_crash flag
			#add_timed_idea = { idea = voodoo_economics days = 1 } ## Need to make
			custom_effect_tooltip = econvent.from_recession_tt
			random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
		custom_effect_tooltip = econvent.voodoo_economics_tt
	}
			
	#This adjustment is painful, but nessesary
	#Crash Effects
	option = {
		name = econvent.2.b
		log = "[GetDateText]: [This.GetName]: econvent.2.b executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = economic_boom }
		modify_country_flag = {
			 flag = housing_crash
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 245 } } #clears housing_crash flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			65 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			20 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			15 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			
		}
		custom_effect_tooltip = econvent.2.b_tt
	}
	option = {
		name = econvent.2.b
		log = "[GetDateText]: [This.GetName]: econvent.2.b executed"
		trigger = { has_idea = fast_growth }
		ai_chance = { factor = 100 }
		modify_country_flag = {
			 flag = housing_crash
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 245 } } #clears housing_crash flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			65 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			35 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
		custom_effect_tooltip = econvent.2.b_tt
	}
	option = {
		name = econvent.2.b
		log = "[GetDateText]: [This.GetName]: econvent.2.b executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = stable_growth }
		modify_country_flag = {
			 flag = housing_crash
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 245 } } #clears housing_crash flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			65 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			35 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
		custom_effect_tooltip = econvent.2.b_tt
	}
	option = {
		name = econvent.2.b
		log = "[GetDateText]: [This.GetName]: econvent.2.b executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = stagnation }
		modify_country_flag = {
			 flag = housing_crash
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 245 } } #clears housing_crash flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			90 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
		custom_effect_tooltip = econvent.2.b_tt
	}
	option = {
		name = econvent.2.b
		log = "[GetDateText]: [This.GetName]: econvent.2.b executed"
		ai_chance = { factor = 100 }
		trigger = { has_idea = recession }
		modify_country_flag = {
			 flag = housing_crash
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.1 days = 245 } } #clears housing_crash flag
		custom_effect_tooltip = econvent.from_recession2_tt
		custom_effect_tooltip = econvent.list.depression_tt
		hidden_effect = { add_ideas = depression }
		custom_effect_tooltip = econvent.2.b_tt
		
		}
}

### Stock Market Crash
country_event = {
	id = econvent.3
	title = econvent.3.t
	desc = econvent.3.d
	
	trigger = {
		has_country_flag = housing_crash
		NOT = { has_idea = depression }
		NOT = { has_idea = recession } 
	}
	
	mean_time_to_happen = {
		days = 950
		modifier = {
			factor = 0.4
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.7
			has_idea = fast_growth
		}
		modifier = {
			factor = 0.5
			has_country_flag = voodoo_economics
		}
		modifier = {
			factor = 0.5
			has_country_flag = consumption_slowdown
		}
	}
	
	immediate = {
		set_country_flag = {
			 flag = stock_market_crash
			 value = 1
		 }
	}
	
	#Crash Effects
	option = {
		name = econvent.3.a
		log = "[GetDateText]: [This.GetName]: econvent.3.a executed"
		trigger = { has_idea = economic_boom }
		custom_effect_tooltip = econvent.from_booming_tt
		hidden_effect = { country_event = { id = econvent_remove_flag.3 days = 365 } } #clears stock_market_crash flag
		random_list = {
			70 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			30 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.3.a
		log = "[GetDateText]: [This.GetName]: econvent.3.a executed"
		trigger = { has_idea = fast_growth }
		custom_effect_tooltip = econvent.from_fast_growth_tt
		hidden_effect = { country_event = { id = econvent_remove_flag.3 days = 365 } } #clears stock_market_crash flag
		random_list = {
			75 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			25 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.3.a
		log = "[GetDateText]: [This.GetName]: econvent.3.a executed"
		trigger = { has_idea = stable_growth }
		custom_effect_tooltip = econvent.from_stable_growth_tt
		hidden_effect = { country_event = { id = econvent_remove_flag.3 days = 365 } } #clears stock_market_crash flag
		random_list = {
			80 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			20 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.3.a
		log = "[GetDateText]: [This.GetName]: econvent.3.a executed"
		trigger = { has_idea = stagnation }
		custom_effect_tooltip = econvent.from_stagnation_tt
		hidden_effect = { country_event = { id = econvent_remove_flag.3 days = 365 } } #clears stock_market_crash flag
		random_list = {
			90 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	option = {
		name = econvent.3.a
		log = "[GetDateText]: [This.GetName]: econvent.3.a executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.3 days = 365 } } #clears stock_market_crash flag
		custom_effect_tooltip = econvent.from_recession2_tt
		custom_effect_tooltip = econvent.list.depression_tt
		hidden_effect = { add_ideas = depression }
		
		}
}

### Bank Crisis
country_event = {
	id = econvent.4
	title = econvent.4.t
	desc = econvent.4.d
	
	trigger = {
		has_country_flag = housing_crash
		has_country_flag = stock_market_crash
		NOT = { has_idea = depression }
		NOT = { has_idea = recession } 
	}
	
	mean_time_to_happen = {
		days = 1000
		modifier = {
			factor = 0.3
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.6
			has_idea = fast_growth
		}
		modifier = {
			factor = 0.5
			has_country_flag = voodoo_economics
		}
		modifier = {
			factor = 0.5
			has_country_flag = consumption_slowdown
		}
	}
	
	immediate = {
		set_country_flag = {
			flag = bank_crisis
			value = 1
		}
	}
	
	#Bail them out!
	option = {
		name = econvent.4.a
		log = "[GetDateText]: [This.GetName]: econvent.4.a executed"
		trigger = { has_idea = economic_boom }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 365 } } #clears bank_crisis flag
		#increase_debtcount_by_12 = yes
		#custom_effect_tooltip = econvent.debt_10p_tt
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
		}
	}
	option = {
		name = econvent.4.a
		log = "[GetDateText]: [This.GetName]: econvent.4.a executed"
		trigger = { has_idea = fast_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 365 } } #clears bank_crisis flag
		#increase_debtcount_by_12 = yes
		#custom_effect_tooltip = econvent.debt_10p_tt
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.4.a
		log = "[GetDateText]: [This.GetName]: econvent.4.a executed"
		trigger = { has_idea = stable_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 365 } } #clears bank_crisis flag
		#increase_debtcount_by_12 = yes
		#custom_effect_tooltip = econvent.debt_10p_tt
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			70 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			30 = {
				custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.4.a
		log = "[GetDateText]: [This.GetName]: econvent.4.a executed"
		trigger = { has_idea = stagnation }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 365 } } #clears bank_crisis flag
		#increase_debtcount_by_12 = yes
		#custom_effect_tooltip = econvent.debt_10p_tt
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			80 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			20 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.4.a
		log = "[GetDateText]: [This.GetName]: econvent.4.a executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 365 } } #clears bank_crisis flag
		#increase_debtcount_by_12 = yes
		#custom_effect_tooltip = econvent.debt_10p_tt
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			90 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			10 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	
	#Avoid bailouts, but help savers if banks go bankrupt
	option = {
		name = econvent.4.b
		log = "[GetDateText]: [This.GetName]: econvent.4.b executed"
		trigger = { has_idea = economic_boom }
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 305 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			80 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			20 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.4.b
		log = "[GetDateText]: [This.GetName]: econvent.4.b executed"
		trigger = { has_idea = fast_growth }
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 305 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			85 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			15 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.4.b
		log = "[GetDateText]: [This.GetName]: econvent.4.b executed"
		trigger = { has_idea = stable_growth }
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 305 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			90 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.4.b
		log = "[GetDateText]: [This.GetName]: econvent.4.b executed"
		trigger = { has_idea = stagnation }
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 305 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			70 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	option = {
		name = econvent.4.b
		log = "[GetDateText]: [This.GetName]: econvent.4.b executed"
		trigger = { has_idea = recession }
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 305 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			30 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			70 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	
	#Survival of the fittest is what makes capitalism beautiful
	option = {
		name = econvent.4.c
		log = "[GetDateText]: [This.GetName]: econvent.4.c executed"
		trigger = { has_idea = economic_boom }
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 245 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			60 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			40 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.4.c
		log = "[GetDateText]: [This.GetName]: econvent.4.c executed"
		trigger = { has_idea = fast_growth }
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 245 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			65 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			35 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.4.c
		log = "[GetDateText]: [This.GetName]: econvent.4.c executed"
		trigger = { has_idea = stable_growth }
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 245 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			70 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			30 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.4.c
		log = "[GetDateText]: [This.GetName]: econvent.4.c executed"
		trigger = { has_idea = stagnation }
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 245 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			80 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
			20 = {
			custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	option = {
		name = econvent.4.c
		log = "[GetDateText]: [This.GetName]: econvent.4.c executed"
		trigger = { has_idea = recession }
		modify_country_flag = {
			 flag = bank_crisis
			 value = 1
		 }
		hidden_effect = { country_event = { id = econvent_remove_flag.4 days = 245 } } #clears bank_crisis flag
		custom_effect_tooltip = econvent.from_recession2_tt
		custom_effect_tooltip = econvent.list.depression_tt
		hidden_effect = { add_ideas = depression }
		
	}
}


### Slowdown in consumption as pessimism and unemployment on the rise ###

country_event = {
	id = econvent.5
	title = econvent.5.t
	desc = econvent.5.d
	
	trigger = {
		has_war = no
		NOT = { has_idea = depression }
	}
	
	mean_time_to_happen = {
		days = 2000
		modifier = {
			factor = 0.3
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.6
			has_idea = fast_growth
		}
		modifier = {
			factor = 1.3
			has_idea = recession
		}
		modifier = {
			factor = 0.5
			has_country_flag = voodoo_economics
		}
		modifier = {
			factor = 0.5
			has_country_flag = stock_market_crash
		}
		modifier = {
			factor = 0.5
			has_country_flag = housing_crash
		}
	}
	
	immediate = {
		set_country_flag = {
			 flag = consumption_slowdown
			 value = 1
		 }
	}
	
	#Transfer some shopping money
	option = {
		name = econvent.5.a
		log = "[GetDateText]: [This.GetName]: econvent.5.a executed"
		trigger = { has_idea = economic_boom }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
		}
	}
	option = {
		name = econvent.5.a
		log = "[GetDateText]: [This.GetName]: econvent.5.a executed"
		trigger = { has_idea = fast_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.5.a
		log = "[GetDateText]: [This.GetName]: econvent.5.a executed"
		trigger = { has_idea = stable_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		custom_effect_tooltip = econvent.stable_growth
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.5.a
		log = "[GetDateText]: [This.GetName]: econvent.5.a executed"
		trigger = { has_idea = stagnation }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.5.a
		log = "[GetDateText]: [This.GetName]: econvent.5.a executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		#increase_debtcount_by_6 = yes
		#custom_effect_tooltip = econvent.debt_5p_tt
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			60 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			40 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	
	#Do nothing
	option = {
		name = econvent.5.b
		log = "[GetDateText]: [This.GetName]: econvent.5.b executed"
		trigger = { has_idea = economic_boom }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			80 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			20 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.5.b
		log = "[GetDateText]: [This.GetName]: econvent.5.b executed"
		trigger = { has_idea = fast_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			85 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			15 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.5.b
		log = "[GetDateText]: [This.GetName]: econvent.5.b executed"
		trigger = { has_idea = stable_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			90 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.5.b
		log = "[GetDateText]: [This.GetName]: econvent.5.b executed"
		trigger = { has_idea = stagnation }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			10 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			80 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
	option = {
		name = econvent.5.b
		log = "[GetDateText]: [This.GetName]: econvent.5.b executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.5 days = 365 } } #clears consumption_slowdown flag
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			80 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
}

### Lower demand for our goods in int. markets
country_event = {
	id = econvent.6
	title = econvent.6.t
	desc = econvent.6.d
	
	trigger = {
		has_war = no
		NOT = { has_idea = depression }
	}
	
	mean_time_to_happen = {
		days = 1500
		modifier = {
			factor = 0.6
			has_idea = economic_boom
		}
		modifier = {
			factor = 0.8
			has_idea = fast_growth
		}
		modifier = {
			factor = 2.5
			has_idea = recession
		}
	}
	
	#Not much to do about this
	option = {
		name = econvent.6.a
		log = "[GetDateText]: [This.GetName]: econvent.6.a executed"
		trigger = { has_idea = economic_boom }
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			70 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.6.a
		log = "[GetDateText]: [This.GetName]: econvent.6.a executed"
		trigger = { has_idea = fast_growth }
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			5 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.6.a
		log = "[GetDateText]: [This.GetName]: econvent.6.a executed"
		trigger = { has_idea = stable_growth }
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			80 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.6.a
		log = "[GetDateText]: [This.GetName]: econvent.6.a executed"
		trigger = { has_idea = stagnation }
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			25 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.6.a
		log = "[GetDateText]: [This.GetName]: econvent.6.a executed"
		trigger = { has_idea = recession }
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			50 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			50 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
}

#### Things for poor countries ####
###Work in progress

### Drought!
country_event = {
	id = econvent.7
	title = econvent.7.t
	desc = econvent.7.d
	
	trigger = {
	is_arid_nation = yes
	OR {
	  has_idea = gdp_1
	  has_idea = gdp_2
	  has_idea = gdp_3
	
	}
	NOT = { has_idea = depression }
	}
	
	mean_time_to_happen = {
		days = 2400
		modifier = {
			factor = 0.6
			is_african_nation = yes #Africa has worst irrigation
		}
		modifier = {
			factor = 0.8
			has_idea = gdp_1
		}
		modifier = {
			factor = 0.9
			has_idea = gdp_2
		}
		modifier = {
			factor = 1.2
			has_idea = gdp_3
		}
	}
	
	immediate = {
		set_country_flag = {
			 flag = drought
			 value = 1
		 }
	}
	
	#Not much to do about this
	option = {
		name = econvent.7.a
		log = "[GetDateText]: [This.GetName]: econvent.7.a executed"
		trigger = { has_idea = economic_boom }
		hidden_effect = { country_event = { id = econvent_remove_flag.6 days = 120 } } #clears drought flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			70 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.7.a
		log = "[GetDateText]: [This.GetName]: econvent.7.a executed"
		trigger = { has_idea = fast_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.6 days = 120 } } #clears drought flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			5 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.7.a
		log = "[GetDateText]: [This.GetName]: econvent.7.a executed"
		trigger = { has_idea = stable_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.6 days = 120 } } #clears drought flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			80 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.7.a
		log = "[GetDateText]: [This.GetName]: econvent.7.a executed"
		trigger = { has_idea = stagnation }
		hidden_effect = { country_event = { id = econvent_remove_flag.6 days = 120 } } #clears drought flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			25 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.7.a
		log = "[GetDateText]: [This.GetName]: econvent.7.a executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.6 days = 120 } } #clears drought flag
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			50 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			50 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
}

### Drought causes famine
country_event = {
	id = econvent.8
	title = econvent.8.t
	desc = econvent.8.d
	
	trigger = {
	has_country_flag = drought
	NOT = { has_idea = depression }
	}
	
	mean_time_to_happen = {
		days = 1200
		modifier = {
			factor = 0.7
			has_idea = gdp_1
		}
		modifier = {
			factor = 0.9
			has_idea = gdp_2
		}
		modifier = {
			factor = 1.2
			has_idea = gdp_3
		}
	}
	
	immediate = {
		set_country_flag = {
			 flag = famine
			 value = 1
		 }
	}
	
	#Not much to do about this
	option = {
		name = econvent.8.a
		log = "[GetDateText]: [This.GetName]: econvent.8.a executed"
		trigger = { has_idea = economic_boom }
		hidden_effect = { country_event = { id = econvent_remove_flag.7 days = 200 } } #clears famine flag
		custom_effect_tooltip = econvent.from_booming_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			70 = {
			custom_effect_tooltip = econvent.list.fast_growth_tt
				hidden_effect = { add_ideas = fast_growth }
				
			}
			10 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
		}
	}
	option = {
		name = econvent.8.a
		log = "[GetDateText]: [This.GetName]: econvent.8.a executed"
		trigger = { has_idea = fast_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.7 days = 200 } } #clears famine flag
		custom_effect_tooltip = econvent.from_fast_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
			custom_effect_tooltip = econvent.list.stable_growth_tt
				hidden_effect = { add_ideas = stable_growth }
				
			}
			5 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.8.a
		log = "[GetDateText]: [This.GetName]: econvent.8.a executed"
		trigger = { has_idea = stable_growth }
		hidden_effect = { country_event = { id = econvent_remove_flag.7 days = 200 } } #clears famine flag
		custom_effect_tooltip = econvent.from_stable_growth_tt
		random_list = {
			20 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			80 = {
			custom_effect_tooltip = econvent.list.stagnation_tt
				hidden_effect = { add_ideas = stagnation }
				
			}
		}
	}
	option = {
		name = econvent.8.a
		log = "[GetDateText]: [This.GetName]: econvent.8.a executed"
		trigger = { has_idea = stagnation }
		hidden_effect = { country_event = { id = econvent_remove_flag.7 days = 200 } } #clears famine flag
		custom_effect_tooltip = econvent.from_stagnation_tt
		random_list = {
			25 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			75 = {
				custom_effect_tooltip = econvent.list.recession_tt
				hidden_effect = { add_ideas = recession }
				
			}
		}
	}
	option = {
		name = econvent.8.a
		log = "[GetDateText]: [This.GetName]: econvent.8.a executed"
		trigger = { has_idea = recession }
		hidden_effect = { country_event = { id = econvent_remove_flag.7 days = 200 } } #clears famine flag
		custom_effect_tooltip = econvent.from_recession_tt
		random_list = {
			50 = {
				custom_effect_tooltip = econvent.list.no_effect_tt
			}
			50 = {
				custom_effect_tooltip = econvent.list.depression_tt
				hidden_effect = { add_ideas = depression }
				
			}
		}
	}
}

#clears housing_crash flag
country_event = {
	id = econvent_remove_flag.1

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = housing_crash
	}
}

#clears voodoo_economics flag
country_event = {
	id = econvent_remove_flag.2

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = voodoo_economics
	}
	
	option = {
		name = econvent_remove_flag.2.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.2.a executed"
	}
}
#clears stock_market_crash flag
country_event = {
	id = econvent_remove_flag.3

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = stock_market_crash
	}
	
	option = {
		name = econvent_remove_flag.3.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.3.a executed"
	}
}
#clears bank_crisis flag
country_event = {
	id = econvent_remove_flag.4

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = bank_crisis
	}
	
	option = {
		name = econvent_remove_flag.4.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.4.a executed"
	}
}
#clears consumption_slowdown flag
country_event = {
	id = econvent_remove_flag.5

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = consumption_slowdown
	}
	
	option = {
		name = econvent_remove_flag.5.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.5.a executed"
	}
}
#clears drought flag
country_event = {
	id = econvent_remove_flag.6

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = drought
	}
	
	option = {
		name = econvent_remove_flag.6.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.6.a executed"
	}
}
#clears famine flag
country_event = {
	id = econvent_remove_flag.7

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		clr_country_flag = famine
	}
	
	option = {
		name = econvent_remove_flag.7.a
		log = "[GetDateText]: [This.GetName]: econvent_remove_flag.7.a executed"
	}
}

##Generic Loss of Industry##
country_event = {
	id = econvent.100
	title = econvent.100.t
	desc = econvent.100.d

	is_triggered_only = yes
	
	option = {
		name = econvent.100.a
		set_variable = { reduction_factor = 0.1 }
		#log = "ecovent100 evt: Lose §R[?reduction_factor|%0]§! of civilian factories."
		#log = "Ind: [?reduction_factor] [?reduction_factor|%0]"
		remove_civilian_industry_effect = yes
		#remove_civilian_industry_small_effect = yes
		log = "[GetDateText]: [This.GetName]: econvent.100.a executed"
	}
}

##Industry Relocates##
country_event = {
	id = econvent.101
	title = econvent.101.t
	desc = econvent.101.d

	is_triggered_only = yes
	
	option = {
		name = econvent.101.a
		set_variable = { reduction_factor = 0.1 }
		#log = "2Lose §R[?reduction_factor|%0]§! of civilian factories."
		#log = "Ind: [?reduction_factor] [?reduction_factor|%0]"
		migrate_industry_to_random_effect = yes
		log = "[GetDateText]: [This.GetName]: econvent.101.a executed"
	}
}

country_event = {
	id = econvent.102
	title = econvent.102.t
	desc = econvent.102.d

	is_triggered_only = yes
	
	option = {
		name = econvent.102.a
		custom_effect_tooltip = factories_migrated_to_us_tt # <ind_factories> Factories from <FROM> have relocate somewhere in <ROOT>.
		hidden_effect = {
			FROM = {
				set_variable = { iterations = 0 }
			}
			civ_factory_relocate_from_from_build_loop_effect = yes
		}
		log = "[GetDateText]: [This.GetName]: econvent.102.a executed"
	}
}


