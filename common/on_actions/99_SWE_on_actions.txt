on_actions = {
	on_weekly_SWE = {
		effect = {
			#only snow and moose
		}
	}
	on_monthly_SWE = {
		effect = {
			if = { limit = { has_country_flag = SWE_Crypto_invest }
				if = {
					limit = {
						has_war = yes
						has_stability < 0.5
					}
					set_variable = { SWE_Crypto_income_effect = 0 }
				}
				else_if = {
					limit = {
						has_stability > 0.5
						has_stability < 0.6
					}
					random_list = {
						5 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						50 = {
							set_variable = { SWE_Crypto_income_effect = 0 }
						}
						20 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.03 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
					}
				}
				else_if = {
					limit = {
						has_stability > 0.6
						has_stability < 0.7
					}
					random_list = {
						5 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						40 = {
							set_variable = { SWE_Crypto_income_effect = 0 }
						}
						20 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.03 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
					}
				}
				else_if = {
					limit = {
						has_stability > 0.7
						has_stability < 0.8
					}
					random_list = {
						5 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						20 = {
							set_variable = { SWE_Crypto_income_effect = 0 }
						}
						20 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.03 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
					}
				}
				else_if = {
					limit = {
						has_stability > 0.8
					}
					random_list = {
						5 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = 0 }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.01 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						15 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.02 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						10 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.03 } 
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
					}
				}
			}
			### Swedish BOP effects ###
			if = {
				limit = {
					threat > 0.3
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = USA
		 						value > 15
		 					}
						}
						
						USA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = USA
						NOT = { has_war_with = USA }
						USA = { NOT = { has_government = fascism } }
						USA = { NOT = { has_government = communism } }
						USA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.025
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = ENG
		 						value > 15
		 					}
						}
						
						ENG = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { NOT = { has_government = fascism } }
						ENG = { NOT = { has_government = communism } }
						ENG = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.025
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = GER
		 						value > 15
		 					}
						}
						
						GER = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { NOT = { has_government = fascism } }
						GER = { NOT = { has_government = communism } }
						GER = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.025
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = FRA
		 						value > 15
		 					}
						}
						
						FRA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = FRA
						NOT = { has_war_with = FRA }
						FRA = { NOT = { has_government = fascism } }
						FRA = { NOT = { has_government = communism } }
						FRA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.025
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = SOV
		 						value > 15
		 					}
						}
						
						SOV = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { NOT = { has_government = democratic } }
						SOV = { NOT = { has_government = neutrality } }
						SOV = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.035
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = CHI
		 						value > 15
		 					}
						}
						
						CHI = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = CHI
						NOT = { has_war_with = CHI }
						CHI = { NOT = { has_government = democratic } }
						CHI = { NOT = { has_government = neutrality } }
						CHI = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.035
					}
				}
			}
			if = {
				limit = {
					threat > 0.5
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = USA
		 						value > 15
		 					}
						}
						
						USA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = USA
						NOT = { has_war_with = USA }
						USA = { NOT = { has_government = fascism } }
						USA = { NOT = { has_government = communism } }
						USA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = ENG
		 						value > 15
		 					}
						}
						
						ENG = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { NOT = { has_government = fascism } }
						ENG = { NOT = { has_government = communism } }
						ENG = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = GER
		 						value > 15
		 					}
						}
						
						GER = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { NOT = { has_government = fascism } }
						GER = { NOT = { has_government = communism } }
						GER = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = FRA
		 						value > 15
		 					}
						}
						
						FRA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = FRA
						NOT = { has_war_with = FRA }
						FRA = { NOT = { has_government = fascism } }
						FRA = { NOT = { has_government = communism } }
						FRA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = SOV
		 						value > 15
		 					}
						}
						
						SOV = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { NOT = { has_government = democratic } }
						SOV = { NOT = { has_government = neutrality } }
						SOV = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = CHI
		 						value > 15
		 					}
						}
						
						CHI = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = CHI
						NOT = { has_war_with = CHI }
						CHI = { NOT = { has_government = democratic } }
						CHI = { NOT = { has_government = neutrality } }
						CHI = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
			}
			if = {
				limit = {
					threat > 0.70
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = USA
		 						value > 15
		 					}
						}
						
						USA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = USA
						NOT = { has_war_with = USA }
						USA = { NOT = { has_government = fascism } }
						USA = { NOT = { has_government = communism } }
						USA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = ENG
		 						value > 15
		 					}
						}
						
						ENG = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { NOT = { has_government = fascism } }
						ENG = { NOT = { has_government = communism } }
						ENG = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = GER
		 						value > 15
		 					}
						}
						
						GER = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { NOT = { has_government = fascism } }
						GER = { NOT = { has_government = communism } }
						GER = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = democratic
								has_government = neutrality
							}
							has_opinion = {
		 						target = FRA
		 						value > 15
		 					}
						}
						
						FRA = {
							OR = {
								has_idea = EU_member
								has_idea = NATO_member
								has_government = democratic
								has_government = neutrality
							}
						}
						country_exists = FRA
						NOT = { has_war_with = FRA }
						FRA = { NOT = { has_government = fascism } }
						FRA = { NOT = { has_government = communism } }
						FRA = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = SOV
		 						value > 15
		 					}
						}
						
						SOV = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { NOT = { has_government = democratic } }
						SOV = { NOT = { has_government = neutrality } }
						SOV = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
				if = {
					limit = {
						SWE = {
							OR = {
								has_government = fascism
								has_government = communism
							}
							has_opinion = {
		 						target = CHI
		 						value > 15
		 					}
						}
						
						CHI = {
							OR = {
								has_idea = CSTO_member
								has_government = fascism
								has_government = communism
							}
						}
						country_exists = CHI
						NOT = { has_war_with = CHI }
						CHI = { NOT = { has_government = democratic } }
						CHI = { NOT = { has_government = neutrality } }
						CHI = { has_idea = NATO_member }
							
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
			}
			#influencer
			If = {
				limit = {
					threat > 40
				} 
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = SOV }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = SOV }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = SOV }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = CHI }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = CHI }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = CHI }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = 0.02
					}
				}
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = USA }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = USA }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = USA }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = FRA }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = FRA }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = FRA }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = ENG }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = ENG }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = ENG }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				If = {
					limit = {
						OR = {
							AND = {
								check_variable = { influence_array^0 = GER }
								check_variable = { influence_array_val^0 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^1 = GER }
								check_variable = { influence_array_val^1 > 29.999 }
							}
							AND = {
								check_variable = { influence_array^2 = GER }
								check_variable = { influence_array_val^2 > 29.999 }
							}
						}
					}
					add_power_balance_value = {
						id = SWE_balance_of_power
						value = -0.01
					}
				}
				if = {
					limit = {
						SWE = {
							check_variable = { SWE_royal_acceptance_status < 25 }
							NOT = {
								has_country_flag = SWE_flag_end_monarchy_dec
							}
						}					
					}
					remove_ideas = SWE_idea_Royal_2
					remove_ideas = SWE_idea_Royal_3
					add_ideas = SWE_idea_Royal_1
				}
				if = {
					limit = {
						SWE = {
							check_variable = { SWE_royal_acceptance_status > 25 }
							check_variable = { SWE_royal_acceptance_status < 75 }
							NOT = {
								has_country_flag = SWE_flag_end_monarchy_dec
							}
						}					
					}
					remove_ideas = SWE_idea_Royal_1
					remove_ideas = SWE_idea_Royal_3
					add_ideas = SWE_idea_Royal_2
				}
				if = {
					limit = {
						SWE = {
							check_variable = { SWE_royal_acceptance_status > 75 }
							NOT = {
								has_country_flag = SWE_flag_end_monarchy_dec
							}
						}					
					}
					remove_ideas = SWE_idea_Royal_2
					remove_ideas = SWE_idea_Royal_1
					add_ideas = SWE_idea_Royal_3
				}
			}
		}
	}
}
