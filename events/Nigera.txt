###########
####NIG####
###########

##Author: Bird

add_namespace = nigeria_md
add_namespace = nigeria_news

##Religious Conversion Events
####Peaceful Religious Conversion in [statenamehere]!
country_event = {
	id = nigeria_md.1
	title = nigeria_md.1.t
	desc = nigeria_md.1.d
	
	is_triggered_only = yes
	
	option = {
		name = nigeria_md.1.a 
		log = "[GetDateText]: [This.GetName]: nigeria_md.1.a executed"
		
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_ireland
			}
			add_stability = -0.041
			add_popularity = { ideology = fascism popularity = 0.027 }
			119 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
	}
}

###Non-Violent Protests
country_event = {
	id = nigeria_md.2
	title = nigeria_md.2.t
	desc = nigeria_md.2.d
	
	is_triggered_only = yes 
	
	option = {
		name = nigeria_md.2.a 
		log = "[GetDateText]: [This.GetName]: nigeria_md.2.a executed"
		
	}
}

#Violent Resistance to Coversions
country_event = {
	id = nigeria_md.3
	title = nigeria_md.3.t
	desc = nigeria_md.3.d
	
	is_triggered_only = yes 
	
	option = {
		name = nigeria_md.3.a 
		log = "[GetDateText]: [This.GetName]: nigeria_md.3.a executed"
		
	}
}

##Religious Civil War!
country_event = {
	id = nigeria_md.4
	title = nigeria_md.4.t #Temp will script two different localization for all
	desc = nigeria_md.4.d
	
	is_triggered_only = yes 
	
	#Civil War!
	option = {
		name = nigeria_md.4.a
		log = "[GetDateText]: [This.GetName]: nigeria_md.4.a executed"
		
		#if = {
			#limit = { NIG_has_islamic_majority = yes }
		#}
		#if = {
			#limit = { NIG_has_christian_majority = yes }
		#}
	}
}

##Party Switch Event 
country_event = {
	id = nigeria_md.5
	title = {
		text = nigeria_md.5.t1
		trigger = { has_country_flag = NIG_the_anpp_flag }
	}
	title = {
		text = nigeria_md.5.t2
		trigger = { has_country_flag = NIG_the_pdp_flag }
	}
	desc = {
		text = nigeria_md.5.d1
		trigger = { has_country_flag = NIG_the_anpp_flag }
	}
	desc = {
		text = nigeria_md.5.d2
		trigger = { has_country_flag = NIG_the_pdp_flag }
	}
	#picture = unknown
	
	option = {
		name = nigeria_md.5.a 
		log = "[GetDateText]: [This.GetName]: nigeria_md.5.a executed
		trigger = { has_country_flag = NIG_the_anpp_flag }
		add_popularity = { ideology = neutrality popularity = 0.10 }
		add_to_variable = { party_pop_array^14 = 0.25 }
		recalculate_party = yes
		hidden_effect = {
			clear_array = ruling_party
			clear_array = gov_coalition_array
			add_to_array = { ruling_party = 14 }
			update_government_coalition_strength = yes
			update_party_name = yes
			set_coalition_drift = yes
			meta_effect = {
				text = {
					set_country_flag = [META_SET_RULING_PARTY]
				}
				META_SET_RULING_PARTY = "[meta_set_ruling_leader]"
			}
			set_leader = yes
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
		}
		custom_effect_tooltip = NIG_the_pdp_TT
	}
	
	option = {
		name = nigeria_md.5.b 
		log = "[GetDateText]: [This.GetName]: nigeria_md.5.b executed
		trigger = { has_country_flag = NIG_the_pdp_flag }
		add_popularity = { ideology = neutrality popularity = 0.10 }
		add_to_variable = { party_pop_array^3 = 0.25 }
		recalculate_party = yes
		hidden_effect = {
			clear_array = ruling_party
			clear_array = gov_coalition_array
			add_to_array = { ruling_party = 3 }
			update_government_coalition_strength = yes
			update_party_name = yes
			set_coalition_drift = yes
			meta_effect = {
				text = {
					set_country_flag = [META_SET_RULING_PARTY]
				}
				META_SET_RULING_PARTY = "[meta_set_ruling_leader]"
			}
			set_leader = yes
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
		}
		custom_effect_tooltip = NIG_anpp_empower_TT
	}
}
