on_actions = {
	on_annex = {
		effect = {
			if = {
				limit = { 
					FROM = { has_idea = EU_member }
				}
				FROM = {
					clr_country_flag = EU_voted
					clr_country_flag = gov_strong_resist
					clr_country_flag = gov_resist
					clr_country_flag = gov_support
					clr_country_flag = gov_strong_support
					clr_country_flag = EU_voted_yes
					clr_country_flag = EU_voted_no
				
					remove_ideas = EU_member
					EU_Clear_Voting = yes
					remove_ideas = the_euro
					
					### EU law and offices
					#EU laws
					remove_ideas = CFR_EU
					remove_ideas = ECB_zero_interest_rate_policy
					remove_ideas = euro_bonds
					remove_ideas = european_debt_crisis
					remove_ideas = euro_rescue_package
					remove_ideas = fiscal_union
					remove_ideas = European_Economic_Government
					remove_from_tech_sharing_group = EU_Tech_Share	
					remove_ideas = European_Defence_Fund
					remove_ideas = European_Security_Council
					remove_ideas = EU_nuke_power
					remove_ideas = GDPR
					remove_ideas = EU_copyright			
					remove_ideas = Migrant_Crisis_Europe
					remove_ideas = relocation_asylum_seekers
					remove_ideas = EU_Turkey_deal
					remove_ideas = European_Asylum_Agency	 
					remove_ideas = Frontex
					#EU offices	 
					remove_ideas = EU_commission_president
					remove_ideas = EU_council_president
					remove_ideas = EU_foreign_minister
					remove_ideas = EU_parliament_president
					remove_ideas = ECB_president
					remove_ideas = EU_finance_minister
					remove_ideas = frontex_ExDir
					remove_ideas = EuroArmy_SC
					remove_ideas = EuroNavy_SC
					remove_ideas = EU_ambassador_UNSC
					remove_ideas = EU_president					
					### EU law and offices
					###focus tree flags
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU101 }
						}
							FROM = { clr_country_flag = focus_EU101 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU101_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU102_maj }
						}
							FROM = { clr_country_flag = focus_EU102_maj }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU102_maj_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU103 }
						}
							FROM = { clr_country_flag = focus_EU103 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU103_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU104 }
						}
							FROM = { clr_country_flag = focus_EU104 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU104_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU105 }
						}
							FROM = { clr_country_flag = focus_EU105 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU105_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU201_maj }
						}
							FROM = { clr_country_flag = focus_EU201_maj }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU201_maj_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU202 }
						}
							FROM = { clr_country_flag = focus_EU202 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU202_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU202_QMV }
						}
							FROM = { clr_country_flag = focus_EU202_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU202_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU203 }
						}
							FROM = { clr_country_flag = focus_EU203 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU203_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU204 }
						}
							FROM = { clr_country_flag = focus_EU204 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU204_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU205 }
						}
							FROM = { clr_country_flag = focus_EU205 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU205_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU206 }
						}
							FROM = { clr_country_flag = focus_EU206 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU206_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU207 }
						}
							FROM = { clr_country_flag = focus_EU207 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU207_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU208 }
						}
							FROM = { clr_country_flag = focus_EU208 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU208_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU301 }
						}
							FROM = { clr_country_flag = focus_EU301 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU301_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU301_QMV }
						}
							FROM = { clr_country_flag = focus_EU301_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU301_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU302 }
						}
							FROM = { clr_country_flag = focus_EU302 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU302_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU302_QMV }
						}
							FROM = { clr_country_flag = focus_EU302_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU302_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU303 }
						}
							FROM = { clr_country_flag = focus_EU303 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU303_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU303_QMV }
						}
							FROM = { clr_country_flag = focus_EU303_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU303_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU304 }
						}
							FROM = { clr_country_flag = focus_EU304 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU304_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU304_QMV }
						}
							FROM = { clr_country_flag = focus_EU304_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU304_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU305 }
						}
							FROM = { clr_country_flag = focus_EU305 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU305_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU305_QMV }
						}
							FROM = { clr_country_flag = focus_EU305_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU305_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU306 }
						}
							FROM = { clr_country_flag = focus_EU306 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU306_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU306_QMV }
						}
							FROM = { clr_country_flag = focus_EU306_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU306_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU307 }
						}
							FROM = { clr_country_flag = focus_EU307 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU307_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU307_QMV }
						}
							FROM = { clr_country_flag = focus_EU307_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU307_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU308 }
						}
							FROM = { clr_country_flag = focus_EU308 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU308_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU308_QMV }
						}
							FROM = { clr_country_flag = focus_EU308_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU308_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU401 }
						}
							FROM = { clr_country_flag = focus_EU401 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU401_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU401_QMV }
						}
							FROM = { clr_country_flag = focus_EU401_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU401_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU402 }
						}
							FROM = { clr_country_flag = focus_EU402 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU402_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU402_QMV }
						}
							FROM = { clr_country_flag = focus_EU402_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU402_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU403 }
						}
							FROM = { clr_country_flag = focus_EU403 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU403_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU403_QMV }
						}
							FROM = { clr_country_flag = focus_EU403_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU403_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU404 }
						}
							FROM = { clr_country_flag = focus_EU404 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU404_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU404_QMV }
						}
							FROM = { clr_country_flag = focus_EU404_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU404_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU405 }
						}
							FROM = { clr_country_flag = focus_EU405 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU405_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU405_QMV }
						}
							FROM = { clr_country_flag = focus_EU405_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU405_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU406 }
						}
							FROM = { clr_country_flag = focus_EU406 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU406_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU406_QMV }
						}
							FROM = { clr_country_flag = focus_EU406_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU406_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU407 }
						}
							FROM = { clr_country_flag = focus_EU407 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU407_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU407_QMV }
						}
							FROM = { clr_country_flag = focus_EU407_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU407_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU408 }
						}
							FROM = { clr_country_flag = focus_EU408 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU408_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU408_QMV }
						}
							FROM = { clr_country_flag = focus_EU408_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU408_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU601 }
						}
							FROM = { clr_country_flag = focus_EU601 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU601_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU601_QMV }
						}
							FROM = { clr_country_flag = focus_EU601_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU601_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU602 }
						}
							FROM = { clr_country_flag = focus_EU602 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU602_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU602_QMV }
						}
							FROM = { clr_country_flag = focus_EU602_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU602_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU603 }
						}
							FROM = { clr_country_flag = focus_EU603 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU603_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU603_QMV }
						}
							FROM = { clr_country_flag = focus_EU603_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU603_QMV_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU110_maj }
						}
							FROM = { clr_country_flag = focus_EU110_maj }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU110_maj_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU111 }
						}
							FROM = { clr_country_flag = focus_EU111 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU111_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU112 }
						}
							FROM = { clr_country_flag = focus_EU112 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU112_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU113 }
						}
							FROM = { clr_country_flag = focus_EU113 }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU113_retry
							}
					}
					if = {
						limit = {
							FROM = { has_country_flag = focus_EU113_QMV }
						}
							FROM = { clr_country_flag = focus_EU113_QMV }
							every_country = {
								limit = { has_idea = EU_member }
									set_global_flag = focus_EU113_QMV_retry
							}
					}					
					###focus tree flags					

				
			
				}
			}
		}
	}
	on_startup = {
		any_country = {
			country_event = {
				id = EUclear.2
				days = 90
			}
		}
	}
}