#Medical Brigades
# Support for subversives
CUB_ter_defence_category ={

	CUB_ter_oboronaup_start = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 854 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}

	CUB_ter_oboronaup = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 855 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}
}
CUB_blockade_fight_category ={
	CUB_un = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_1 }
			}
		}
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CUB_unt"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_1
					days = 200
					value = 1
				}
			}
		}
	CUB_us_citizens_propoganda = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_2 }
			}
		}
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_us_citizens_propoganda"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_2
					days = 70
					value = 1
				}
			}
		}
	CUB_cuban_us = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 50
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_3 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_cuban_us"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_3
					days = 100
					value = 1
				}
			}
		}
	CUB_smi = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_4 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_smi "
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_4
					days = 40
					value = 1
				}
			}
		}
	}

CUB_internal_support_category = {

	CUB_arrest_dissidents = {
		icon = GFX_decision_oppression

		cost = 100

		visible = {
			original_tag = CUB
		}

		days_re_enable = 30

		complete_effect = {
			add_to_variable = { var = cub_subv_threat value = -10 }
			custom_effect_tooltip = cub_modify_subv_support_m10_tt
			#CUB_modify_subv_support= yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}

	CUB_release_dissidents = {
		icon = GFX_decision_generic_political_discourse
		cost = 100
		visible = {
			original_tag = CUB
		}
		days_re_enable = 30
		complete_effect = {
				add_to_variable = {
					var = cub_subv_threat
					value = 15
				}
				clamp_variable = {
					var = cub_subv_threat
					min = 0
					max = 100
				}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_communist_cadres_opinion = yes
		set_country_flag = dissidents_released
		log = "[GetDateText]: [This.GetName]: decision release_dissidents executed"
	}

	CUB_mobilize_cdrs = {
		icon = GFX_decision_oppression
		cost = 100
		visible = {
			has_country_flag = CUB_CDR_Mobilize
		}
		days_re_enable = 30
		complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}
}
#ALBA Candidates
CUB_ALBA_candidate_category = {

	CUB_bolivia_invite = {
		cost = 100
		visible = {
			original_tag = CUB
			original_tag = VEN
		has_country_flag = ALBA_member
		}
	}
}


