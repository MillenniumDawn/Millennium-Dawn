# economy_decisions:
# Generic economic decisions for the player
economy_decisions = {
	lease_military_factories = {
		icon = ger_mefo_bills
		allowed = { always = yes }
		fire_only_once = no
		days_remove = 90
		days_re_enable = 50

		available = {
			NOT = { has_decision = lease_civilian_factories }
			NOT = { has_decision = lease_naval_factories }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete_effect lease_military_factories"
			add_offsite_building = { level = 3 type = arms_factory }
			if = {
				limit = {
					has_idea = defense_industry
					NOT = { has_country_flag = lease_modifier_economic_decisions }
				}
				set_country_flag = { flag = lease_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				# Modify Opinion
				set_temp_variable = { temp_opinion = -10 }
				change_defense_industry_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_lease_mils_TT
		}

		remove_effect = {
			add_offsite_building = { level = -3 type = arms_factory }
		}

		# Disabled AI for this Decision
	}

	lease_civilian_factories = {
		allowed = { always = yes }
		icon = ger_mefo_bills

		fire_only_once = no
		days_remove = 90
		days_re_enable = 30

		available = {
			NOT = { has_decision = lease_military_factories }
			NOT = { has_decision = lease_naval_factories }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision lease_civilian_factories"
			add_offsite_building = { level = 3 type = industrial_complex }
			if = {
				limit = {
					OR = {
						has_idea = industrial_conglomerates
						has_idea = the_donju
						has_idea = the_bazaar
						has_idea = chaebols
						has_idea = small_medium_business_owners
					}
					NOT = { has_country_flag = lease_modifier_economic_decisions }
				}
				set_country_flag = { flag = lease_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				# Modify Opinion
				set_temp_variable = { temp_opinion = -10 }
				change_industrial_conglomerates_opinion = yes
				change_small_medium_business_owners_opinion = yes
				change_the_donju_opinion = yes
				change_the_bazaar_opinion = yes
				change_chaebols_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_lease_civs_TT
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove lease_civilian_factories"
			add_offsite_building = { level = -3 type = industrial_complex }
		}
		# Disabled AI for this Decision
	}

	lease_naval_factories = {
		allowed = { always = yes }
		icon = ger_mefo_bills

		fire_only_once = no
		days_remove = 90
		days_re_enable = 30

		available = {
			NOT = { has_decision = lease_military_factories }
			NOT = { has_decision = lease_civilian_factories }
			any_owned_state = { is_coastal = yes }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision lease_naval_factories"
			add_offsite_building = { level = 3 type = dockyard }
			if = {
				limit = {
					has_idea = maritime_industry
					NOT = { has_country_flag = lease_modifier_economic_decisions }
				}
				set_country_flag = { flag = lease_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				set_temp_variable = { temp_opinion = -10 }
				change_maritime_industry_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_lease_navs_TT
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove lease_naval_factories"
			add_offsite_building = { level = -3 type = dockyard }
		}

		# Disabled AI for this Decision
	}

	industrial_projects = {
		icon = generic_construction
		allowed = { always = yes }
		fire_only_once = no
		days_remove = 120
		days_re_enable = 30

		available = {
			NOT = {
				has_decision = infrastructure_projects
				has_decision = arms_factory_projects
				has_decision = dockyard_projects
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision industrial_projects"
			if = {
				limit = {
					OR = {
						has_idea = industrial_conglomerates
						has_idea = the_donju
						has_idea = the_bazaar
						has_idea = chaebols
						has_idea = small_medium_business_owners
					}
					NOT = { has_country_flag = recent_modifier_economic_decisions }
				}
				set_country_flag = { flag = recent_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				set_temp_variable = { temp_opinion = 5 }
				change_small_medium_business_owners_opinion = yes
				change_industrial_conglomerates_opinion = yes
				change_the_donju_opinion = yes
				change_the_bazaar_opinion = yes
				change_chaebols_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_projects_TT
		}
		modifier = {
			production_speed_industrial_complex_factor = 0.25
		}

		# Disabled this Decision  for the AI
	}

	infrastructure_projects = {
		icon = generic_construction
		allowed = { always = yes }
		fire_only_once = no
		days_remove = 120
		days_re_enable = 30

		available = {
			NOT = {
				has_decision = industrial_projects
				has_decision = arms_factory_projects
				has_decision = dockyard_projects
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision infrastructure_projects"
			if = {
				limit = {
					OR = {
						has_idea = industrial_conglomerates
						has_idea = the_donju
						has_idea = the_bazaar
						has_idea = chaebols
						has_idea = small_medium_business_owners
					}
					NOT = { has_country_flag = recent_modifier_economic_decisions }
				}
				set_country_flag = { flag = recent_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				set_temp_variable = { temp_opinion = 5 }
				change_small_medium_business_owners_opinion = yes
				change_industrial_conglomerates_opinion = yes
				change_the_donju_opinion = yes
				change_the_bazaar_opinion = yes
				change_chaebols_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_projects_TT
		}
		modifier = {
			production_speed_infrastructure_factor = 0.25
		}

		# Disabled AI for this decision
	}

	arms_factory_projects = {
		icon = generic_construction
		allowed = { always = yes }
		fire_only_once = no
		days_remove = 120
		days_re_enable = 30

		available = {
			NOT = {
				has_decision = infrastructure_projects
				has_decision = industrial_projects
				has_decision = dockyard_projects
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision arms_factory_projects"
			if = {
				limit = {
					has_idea = defense_industry
					NOT = { has_country_flag = recent_modifier_economic_decisions }
				}
				set_country_flag = { flag = recent_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				set_temp_variable = { temp_opinion = 5 }
				change_defense_industry_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_projects_TT
		}
		modifier = {
			production_speed_arms_factory_factor = 0.25
		}

		# Disabled AI for this decision
	}

	dockyard_projects = {
		icon = generic_construction
		allowed = { always = yes }
		fire_only_once = no
		days_remove = 120
		days_re_enable = 45

		available = {
			any_owned_state = {
				is_coastal = yes
			}
			NOT = {
				has_decision = infrastructure_projects
				has_decision = arms_factory_projects
				has_decision = industrial_projects
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision dockyard_projects"
			if = {
				limit = {
					has_idea = maritime_industry
					NOT = { has_country_flag = recent_modifier_economic_decisions }
				}
				set_country_flag = { flag = recent_modifier_economic_decisions days = 365 value = 1 }
				custom_effect_tooltip = internal_faction_every_year_tt

				set_temp_variable = { temp_opinion = 5 }
				change_maritime_industry_opinion = yes
			}
			custom_effect_tooltip = treasury_loss_projects_TT
		}
		modifier = {
			production_speed_dockyard_factor = 0.25
		}

		# Disabled AI for this decision
	}

	temporary_tax_cuts = {
		icon = ger_mefo_bills
		allowed = { always = yes }
		available = {
			custom_trigger_tooltip = {
				check_variable = { population_tax_rate  > 3 }
				tooltip = per_tax_rate_at_least_3_tt
			}
			custom_trigger_tooltip = {
				check_variable = { var = population_tax_rate value = 50 compare = less_than_or_equals }
				tooltip = per_tax_rate_less_than_or_equals_50
			}
			hidden_trigger = {
				NOT = { has_country_flag = no_personal_tax_rate_change }
			}
		}

		fire_only_once = no
		days_remove = 120

		# Triggers Immediately
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision temporary_tax_cuts"

			set_temp_variable = { pop_change = -3 }
			modify_population_tax_rate_effect = yes
			disable_personal_tax_rate_change = yes
		}

		# After 120 days this fires
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove temporary_tax_cuts"

			set_temp_variable = { pop_change = 3 }
			modify_population_tax_rate_effect = yes
			enable_personal_tax_rate_change = yes
		}

		# Disabled AI for this decision
	}
}