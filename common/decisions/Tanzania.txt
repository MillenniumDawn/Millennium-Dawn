# Author(s): AngriestBird
TNZ_action_on_indian_ocean_category = {

		TNZ_comoros_incursion_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_incursion_on_anjouan
				COM = {
					has_idea = COM_anjouan
				}
			}

			available = {
				NOT = {
					has_idea = defence_00
					has_idea = intervention_isolation
					has_idea = intervention_local_security
					has_active_mission = TNZ_combat_pirates_dec
				}
				divisions_in_state = {
					size > 0
					state = 258
				}
				ships_in_area = {
					area = 102
					size > 1
				}
			}

			cost = 100

			days_remove = 14

			highlight_states = {
				state = 269
			}

			Is_good = yes

			fire_only_once = no

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_comoros_incursion_dec"
			}

			remove_effect = {
				country_event = tnz.21
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_combat_pirates_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_somali_pirates
			}

			available = {
				NOT = {
					has_idea = defence_00
					has_idea = intervention_isolation
					has_idea = intervention_local_security
					has_active_mission = TNZ_comoros_incursion_dec
				}
				OR = {
					ships_in_area = {
						area = 102
						size > 1
					}
					ships_in_area = {
						area = 204
						size > 1
					}
				}
				SOM = {
					OR = {
						has_war_with = SNA
						has_war_with = JUB
						has_war_with = PUN
					}
				}
			}

			cost = 20

			days_remove = 120

			Is_good = yes

			fire_only_once = no

			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_combat_pirates_dec"
				SNA = {
					if =  {
						limit = {
							has_war_with = SOM
						}
						add_stability = -0.01
						add_political_power = -30
					}
				}
				JUB = {
					if =  {
						limit = {
							has_war_with = SOM
						}
						add_stability = -0.01
						add_political_power = -30
					}
				}
				PUN = {
					if =  {
						limit = {
							has_war_with = SOM
						}
						add_stability = -0.01
						add_political_power = -30
					}
				}
				set_temp_variable = { percent_change = 3 }
				set_temp_variable = { tag_index = TNZ }
				set_temp_variable = { influence_target = SOM.id }
				change_influence_percentage = yes
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_exercise_influence_dec = {
			icon = unknown

			visible = {
				has_completed_focus = TNZ_third_wheel
				NOT = {
					COM = {
						is_subject_of = TNZ
					}
				}
				country_exists = COM
			}

			available = {
				NOT = {
					has_idea = police_01
				}
			}


			cost = 25

			days_remove = 90

			highlight_states = {
				state = 269
			}

			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_exercise_influence_dec"
				set_temp_variable = { percent_change = 3 }
				set_temp_variable = { tag_index = TNZ }
				set_temp_variable = { influence_target = COM.id }
				change_influence_percentage = yes
			}

		}

		TNZ_encroach_com_independence_dec = {
			icon = unknown

			visible = {
				has_completed_focus = TNZ_third_wheel
				COM = {
					is_subject_of = TNZ
				}
			}

			available = {
				NOT = {
					has_idea = police_01
				}
				has_idea = TNZ_zanzibar
				NOT = {
					has_idea = bureau_05
				}
			}


			cost = 50

			days_remove = 90

			highlight_states = {
				state = 269
			}

			remove_effect = {
				COM = {
					add_autonomy_ratio = {
						value = -0.1
						localization = TNZ_comoros_autonomy_tt
					}
				}
			}

		}

		TNZ_comoros_integration_dec = {
			icon = unknown

			visible = {
				has_completed_focus = TNZ_third_wheel
				COM = {
					is_subject_of = TNZ
				}
			}

			available = {
			}


			available = {
				has_idea = TNZ_zanzibar
				NOT = {
					has_idea = bureau_05
				}
				COM = {
					has_autonomy_state = autonomy_autonomous_state
				}
			}

			cost = 200

			highlight_states = {
				state = 269
			}

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_comoros_incursion_dec"
				country_event = tnz.20
			}


		}
}




TNZ_party_ccm_category = {



		TNZ_radicalism_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_ccm_factionalism
			}

			available = {
				always = yes
			}

			cost = 10


			Is_good = yes

			fire_only_once = no

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_"
			}


			ai_will_do = {
				factor = 1
			}
		}





		TNZ_next_candidate_dec = {
			icon = unknown

			activation = {
				always = no
			}

			visible = {
				has_completed_focus = TNZ_next_leader
			}

			available = {
				always = yes
			}


			days_mission_timeout = 90
			selectable_mission = yes
			is_good = yes
			fire_only_once = no

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_next_candidate_dec"
				country_event = tnz.61
			}

			timeout_effect = {
				random_list = {
					70 = {
						create_country_leader = {
							name = "Edward Lowassa"
							picture = "Edward_Lowassa.dds"
							ideology = neutral_Social
							traits = {
								scientist
								neutrality_neutral_Social
								greedy
								political_elite
							}
						}
					}
					20 = {
						create_country_leader = {
							name = "John Magufuli"
							picture = "John_Magufuli.dds"
							ideology = neutral_Social
							desc = "POLITICS_JOHN_MAGUFULI_DESC"
							traits = {
								doctor
								neutrality_neutral_Social
								likeable
								rash
								megaproject_maniac
							}
						}
					}
					5 = {
						create_country_leader = {
							name = "Amina Salum Ali"
							picture = "Amina_Ali.dds"
							ideology = neutral_Social
							traits = {
								businessman
								neutrality_neutral_Social
								rational
							}
						}
					}
					5 = {
						create_country_leader = {
							name = "Asha Migiro"
							picture = "Asha_Migiro.dds"
							ideology = neutral_Social
							traits = {
								lawyer
								neutrality_neutral_Social
								capable
							}
						}
					}
				}
			}
		}

		TNZ_populist_rhetoric_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_populist_rhetoric
			}

			available = {
				custom_trigger_tooltip = {
					check_variable = { party_pop_array^18 > 0.60 }
					tooltip = TNZ_60_support_tt
				}
			}

			cost = 25


			Is_good = yes

			fire_only_once = no

			days_remove = 60

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_populist_rhetoric_dec"

			}

			remove_effect = {
				add_popularity = { ideology = neutrality popularity = 0.01 }
				custom_effect_tooltip = TNZ_gain_1_ccm_support_tt
				add_stability = -0.001
				hidden_effect = {
					add_to_variable = { party_pop_array^18 = 0.01 }
					recalculate_party = yes
				}
				hidden_effect = {
					add_country_leader_trait = populist
				}
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_speech_crackdown_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_free_speech
			}

			available = {
				OR = {
					has_idea = police_04
					has_idea = police_05
				}
				custom_trigger_tooltip = {
					check_variable = { party_pop_array^18 > 0.60 }
					tooltip = TNZ_60_support_tt
				}
			}

			cost = 25


			Is_good = yes

			fire_only_once = no

			days_remove = 60

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_speech_crackdown_dec"

			}

			remove_effect = {
				add_popularity = { ideology = neutrality popularity = 0.01 }
				custom_effect_tooltip = TNZ_gain_1_ccm_support_tt
				hidden_effect = {
					add_to_variable = { party_pop_array^18 = 0.01 }
					recalculate_party = yes
				}
				add_stability = -0.002
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_purge_party_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_purge_party
			}

			available = {
				has_completed_focus = TNZ_lusindes_proposal
			}

			cost = 50


			Is_good = yes

			fire_only_once = yes

			days_remove = 90

			modifier = {
				political_power_gain = -0.1
			}

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_purge_party_dec"

			}

			remove_effect = {
				add_popularity = { ideology = neutrality popularity = 0.03 }
				custom_effect_tooltip = TNZ_gain_3_ccm_support_tt
				swap_ideas = { remove_idea = TNZ_governing_culture add_idea = TNZ_governing_culture_2 }
				hidden_effect = {
					add_to_variable = { party_pop_array^18 = 0.03 }
					recalculate_party = yes
				}
				add_stability = -0.002
			}

			ai_will_do = {
				factor = 1
			}
		}
}


TNZ_coup_category = {



		TNZ_ban_chadema_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_ban_parties
			}

			available = {
				OR = {
					has_idea = police_04
					has_idea = police_05
				}
			}

			cost = 30


			Is_good = yes

			fire_only_once = yes

			days_remove = 5

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_ban_chadema_dec"
				hidden_effect = {
					set_variable = { var = party_pop_array^1 value = 0 }
					set_variable = { var = party_pop_array^1 max = 0 }
				}
				recalculate_party = yes
				custom_effect_tooltip = TNZ_ban_chadema_tt
				add_popularity = { ideology = neutrality popularity = 0.02 }
				add_popularity = { ideology = democracy popularity = -0.03 }
				add_stability = -0.03
			}

			remove_effect = {
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_ban_cuf_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_ban_parties
			}

			available = {
				OR = {
					has_idea = police_04
					has_idea = police_05
				}
			}

			cost = 30


			Is_good = yes

			fire_only_once = yes

			days_remove = 5

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_ban_chadema_dec"
				hidden_effect = {
					set_variable = { var = party_pop_array^2 value = 0 }
					set_variable = { var = party_pop_array^2 max = 0 }
				}
				recalculate_party = yes
				custom_effect_tooltip = TNZ_ban_cuf_tt
				add_popularity = { ideology = neutrality popularity = 0.02 }
				add_popularity = { ideology = democracy popularity = -0.03 }
				add_stability = -0.03
			}

			remove_effect = {
			}

			ai_will_do = {
				factor = 1
			}
		}

		TNZ_ban_labour_dec = {
			icon = unknown

			allowed = {
				tag = TNZ
			}

			visible = {
				has_completed_focus = TNZ_ban_parties
			}

			available = {
				OR = {
					has_idea = police_04
					has_idea = police_05
				}
			}

			cost = 30


			Is_good = yes

			fire_only_once = yes

			days_remove = 5

			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision TNZ_ban_chadema_dec"
				hidden_effect = {
					set_variable = { var = party_pop_array^5 value = 0 }
					set_variable = { var = party_pop_array^5 max = 0 }
				}
				recalculate_party = yes
				custom_effect_tooltip = TNZ_ban_labour_tt
				add_popularity = { ideology = neutrality popularity = 0.02 }
				add_popularity = { ideology = communism popularity = -0.03 }
				add_stability = -0.03
			}

			remove_effect = {
			}

			ai_will_do = {
				factor = 1
			}
		}






	TNZ_possible_coup = {
		activation = {
			always = no
		}

		allowed = {
			always = yes
		}

		visible = {  has_completed_Focus = TNZ_suspend_elections }

		available = {
			OR = {
				has_completed_focus = TNZ_military_support
				NOT = {
					custom_trigger_tooltip = {
						is_in_array = { ruling_party = 18 }
						tooltip = TNZ_not_ccm_in_power_tt
					}
				}
			}
		}


		days_mission_timeout = 120
		selectable_mission = no
		is_good = yes
		fire_only_once = yes

		timeout_effect = {
			country_event = tnz.63
			if = {
				limit = { NOT = { is_in_array = { ruling_party = 22 } } }
				hidden_effect = {
					clear_array = ruling_party
					clear_array = gov_coalition_array
					add_to_array = { ruling_party = 22 }
					update_government_coalition_strength = yes
					update_party_name = yes
					set_coalition_drift = yes
					meta_effect = {
					text = {
						set_country_flag = [META_SET_RULING_PARTY]
					}
					META_SET_RULING_PARTY = "[meta_set_ruling_leader]"
				}
				set_leader = yes
				}
				set_politics = {
					ruling_party = nationalist
					elections_allowed = no
				}
				add_popularity = {
					ideology = nationalist
					popularity = 0.075
				}
				add_to_variable = { party_pop_array^22 = 0.075 }
				recalculate_party = yes
			}
		}
	}
}