# Crime Fighting
add_namespace = crime_fighting
add_namespace = GDPC_Update

country_event = {
	id = crime_fighting.1
	title = crime_fighting.1.t
	desc = crime_fighting.1.d
	picture = SOMEPIC #GFX_crime_fighting

	trigger = {
		NOT = { date < 2018.1.1 }
		OR = {
			#has_idea = medium_crime_fighting
			#has_idea = high_crime_fighting
		}
	}
	
	mean_time_to_happen = {
		days = 2180
		modifier = {
			factor = 0.5
			#has_idea = high_crime_fighting
		}
	}
	
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = paralyzing_corruption }
		add_ideas = crippling_corruption
		# clr_country_flag = corruption_10
		# set_country_flag = corruption_9
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = crippling_corruption }
		add_ideas = rampant_corruption
		# clr_country_flag = corruption_9
		# set_country_flag = corruption_8
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = rampant_corruption }
		add_ideas = unrestrained_corruption
		# clr_country_flag = corruption_8
		# set_country_flag = corruption_7
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = unrestrained_corruption }
		add_ideas = systematic_corruption
		# clr_country_flag = corruption_7
		# set_country_flag = corruption_6
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = systematic_corruption }
		add_ideas = widespread_corruption
		# clr_country_flag = corruption_6
		# set_country_flag = corruption_5
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = widespread_corruption }
		add_ideas = medium_corruption
		# clr_country_flag = corruption_5
		# set_country_flag = corruption_4
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = medium_corruption }
		add_ideas = modest_corruption
		# clr_country_flag = corruption_4
		# set_country_flag = corruption_3
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = modest_corruption }
		add_ideas = slight_corruption
		# clr_country_flag = corruption_3
		# set_country_flag = corruption_2
	}
	option = {
		name = crime_fighting.1.a
		trigger = { has_idea = slight_corruption }
		add_ideas = negligible_corruption
		# clr_country_flag = corruption_2
		# set_country_flag = corruption_1
	}
}
# Set flags for corruption

#Auto switches GDP/C
country_event = {
	id = GDPC_Update.0
	title = GDPC_Update.0.t
	desc = GDPC_Update.0.d
	#picture = GDPC_Update

	hidden = yes
	
	trigger = {
		not = { has_country_flag = Max_GDPC }
	}
	immediate = {
		country_event = { id = GDPC_Update.0 days = 15 } #Auto-update GDP/C 
		if = {
			limit = { can_upgrade_gdp = yes }
			Update_GDPC = yes
			news_event = { id = GDPC_Update.1 }
		}
	}
	
	option = {
		name = GDPC_Update.0.a
		
	}
}
#News event to remind you, you forgot
news_event = {
	id = GDPC_Update.1
	title = GDPC_Update.1.t
	desc = GDPC_Update.1.d
	picture = GFX_update_gdpc

	is_triggered_only = yes
	
	trigger = {
		not = { has_country_flag = idc_update_gdpc }
	}
	
	
	option = { #ok
		name = GDPC_Update.1.a
		
	}
	option = { #don't remind me again
		name = GDPC_Update.1.b
		set_country_flag = idc_update_gdpc
		
	}
	
}
