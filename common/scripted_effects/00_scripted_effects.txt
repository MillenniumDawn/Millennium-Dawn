# Random Constructions
# Costs are integrated within this function
# Author(s): Angriest Bird
one_random_arms_factory = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -7.5 }
	modify_treasury_effect = yes
}
one_state_arms_factory = {
	if = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
	}
}

two_random_arms_factory = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}
two_state_arms_factory = {
	if = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 1
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -15 }
		modify_treasury_effect = yes
	}
}
three_random_arms_factory = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -22.5 }
	modify_treasury_effect = yes
}
three_state_arms_factory = {
	if = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 2
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 3
		add_building_construction = {
			type = arms_factory
			level = 3
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -22.5 }
		modify_treasury_effect = yes
	}
}
four_random_arms_factory = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -30 }
	modify_treasury_effect = yes
}
four_state_arms_factory = {
	if = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 3
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 4
		add_building_construction = {
			type = arms_factory
			level = 4
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 3
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 3
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -30 }
		modify_treasury_effect = yes
	}
}
one_random_industrial_complex = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -7.5 }
	modify_treasury_effect = yes
}
one_state_industrial_complex = {
	if = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
	}
}
two_random_industrial_complex = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}
two_state_industrial_complex = {
	if = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -15 }
		modify_treasury_effect = yes
	}
}
three_random_industrial_complex = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -22.5 }
	modify_treasury_effect = yes
}
three_state_industrial_complex = {
	if = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 2
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 3
		add_building_construction = {
			type = industrial_complex
			level = 3
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -22.5 }
		modify_treasury_effect = yes
	}
}
four_random_industrial_complex = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -30 }
	modify_treasury_effect = yes
}
four_state_industrial_complex = {
	if = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 3
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 4
		add_building_construction = {
			type = industrial_complex
			level = 4
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 3
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -30 }
		modify_treasury_effect = yes
	}
}
one_random_infrastructure = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3.5 }
	modify_treasury_effect = yes
}
one_state_infrastructure = {
	if = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -3.5 }
		modify_treasury_effect = yes
	}
}
two_random_infrastructure = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	set_temp_variable = { treasury_change = -7 }
	modify_treasury_effect = yes
}
two_state_infrastructure = {
	if = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 1
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -7 }
		modify_treasury_effect = yes
	}
}
three_random_infrastructure = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	set_temp_variable = { treasury_change = -10.5 }
	modify_treasury_effect = yes
}
three_state_infrastructure = {
	if = {
		limit = {
			free_building_slots = {
				building = infrastructure
				size > 2
			}
		}
		add_building_construction = {
			type = infrastructure
			level = 3
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 2
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}

				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = no_building_construction_TT
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -10.5 }
		modify_treasury_effect = yes
	}
}
one_random_dockyard = {
	if = {
		limit = {
			NOT = {
				any_owned_state = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
			}
			any_owned_state = {
				is_coastal = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	if = {
		limit = {
			NOT = { has_country_flag = naval_effort_built }
			any_owned_state = {
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 1
					include_locked = yes
				}
			}
		}
		random_owned_controlled_state = {
			limit = {
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	if = {
		limit = {
			NOT = { has_country_flag = naval_effort_built }
			NOT = {
				any_owned_state = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
			}
		}
		random_state = {
			limit = {
				controller = { tag = ROOT }
				free_building_slots = {
					building = dockyard
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}

	set_temp_variable = { treasury_change = -7.5 }
	modify_treasury_effect = yes
}
one_state_dockyard = {
	if = {
		limit = {
			is_coastal = yes
			free_building_slots = {
				building = dockyard
				size > 0
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = dockyard
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
	}
}
two_random_dockyards = {
	if = {
		limit = {
			NOT = {
				any_owned_state = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
			}
			any_owned_state = {
				is_coastal = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		set_country_flag = naval_effort_built
	}
	if = {
		limit = {
			NOT = { has_country_flag = naval_effort_built }
			any_owned_state = {
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
		}
		random_owned_controlled_state = {
			limit = {
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		set_country_flag = naval_effort_built
	}
	if = {
		limit = {
			NOT = { has_country_flag = naval_effort_built }
			NOT = {
				any_owned_state = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
			}
		}
		random_state = {
			limit = {
				controller = { tag = ROOT }
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}
two_state_dockyards = {
	if = {
		limit = {
			is_coastal = yes
			free_building_slots = {
				building = dockyard
				size > 1
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = dockyard
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -15 }
		modify_treasury_effect = yes
	}
}

one_office_construction = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = offices
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = offices
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}

		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = offices
			level = 1
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -12 }
	modify_treasury_effect = yes
}
one_state_office_construction = {
	if = {
		limit = {
			free_building_slots = {
				building = offices
				size > 0
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = offices
			level = 1
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = offices
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = offices
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}

				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = offices
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = fossil_powerplant
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -12 }
		modify_treasury_effect = yes
	}
}
two_office_construction = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = offices
				size > 1
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = offices
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}

		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = offices
			level = 2
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -24 }
	modify_treasury_effect = yes
}
two_state_office_construction = {
	if = {
		limit = {
			free_building_slots = {
				building = offices
				size > 1
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = offices
			level = 2
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = offices
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = offices
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}

				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = offices
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = fossil_powerplant
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -24 }
		modify_treasury_effect = yes
	}
}

three_office_construction = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = offices
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = offices
								size > 1
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = offices
			level = 2
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = offices
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = offices
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = offices
			level = 1
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -36 }
	modify_treasury_effect = yes
}
three_state_office_construction = {
	if = {
		limit = {
			free_building_slots = {
				building = offices
				size > 2
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 3
		add_building_construction = {
			type = offices
			level = 3
			instant_build = yes
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = offices
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = offices
										size > 2
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}

				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = offices
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = fossil_powerplant
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -36 }
		modify_treasury_effect = yes
	}
}

one_random_nuclear_reactor = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = nuclear_reactor
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = nuclear_reactor
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = nuclear_reactor
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -9.00 }
	modify_treasury_effect = yes
}
one_state_nuclear_reactor = {
	if = {
		limit = {
			free_building_slots = {
				building = nuclear_reactor
				size > 0
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = nuclear_reactor
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = nuclear_reactor
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = nuclear_reactor
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -9.00 }
		modify_treasury_effect = yes
	}
}
two_random_nuclear_reactor = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = nuclear_reactor
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = nuclear_reactor
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = nuclear_reactor
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = nuclear_reactor
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = nuclear_reactor
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = nuclear_reactor
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -18.00 }
	modify_treasury_effect = yes
}
two_state_nuclear_reactor = {
	if = {
		limit = {
			free_building_slots = {
				building = nuclear_reactor
				size > 1
			}
		}
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = nuclear_reactor
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = nuclear_reactor
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = nuclear_reactor
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = nuclear_reactor
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -18.00 }
		modify_treasury_effect = yes
	}
}

one_random_synthetic_refinery = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -8.50 }
	modify_treasury_effect = yes
}
one_state_synthetic_refinery = {
	if = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = synthetic_refinery
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -8.50 }
		modify_treasury_effect = yes
	}
}

two_random_synthetic_refinery = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -17 }
	modify_treasury_effect = yes
}
two_state_synthetic_refinery = {
	if = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 1
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = synthetic_refinery
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -17 }
		modify_treasury_effect = yes
	}
}

three_random_synthetic_refinery = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -25.50 }
	modify_treasury_effect = yes
}
three_state_synthetic_refinery = {
	if = {
		limit = {
			free_building_slots = {
				building = synthetic_refinery
				size > 2
			}
		}
		add_building_construction = {
			type = synthetic_refinery
			level = 3
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 2
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = synthetic_refinery
										size > 2
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -25.5 }
		modify_treasury_effect = yes
	}
}

one_air_base = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = air_base
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = air_base
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -2.5 }
	modify_treasury_effect = yes
}

one_state_air_base = {
	if = {
		limit = {
			free_building_slots = {
				building = air_base
				size > 0
			}
		}
		add_building_construction = {
			type = air_base
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = air_base
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -2.5 }
		modify_treasury_effect = yes
	}
}

two_air_base = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = air_base
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = air_base
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = air_base
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = air_base
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -5 }
	modify_treasury_effect = yes
}
two_state_air_base = {
	if = {
		limit = {
			free_building_slots = {
				building = air_base
				size > 1
			}
		}
		add_building_construction = {
			type = air_base
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = air_base
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -5 }
		modify_treasury_effect = yes
	}
}

one_radar_station = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = radar_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = radar_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = radar_station
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -1.75 }
	modify_treasury_effect = yes
}
one_state_radar_station = {
	if = {
		limit = {
			free_building_slots = {
				building = radar_station
				size > 0
			}
		}
		add_building_construction = {
			type = radar_station
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = radar_station
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = radar_station
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -1.75 }
		modify_treasury_effect = yes
	}
}

two_radar_station = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = radar_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = radar_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = radar_station
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = radar_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = radar_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = radar_station
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3.5 }
	modify_treasury_effect = yes
}
two_state_radar_station = {
	if = {
		limit = {
			free_building_slots = {
				building = radar_station
				size > 1
			}
		}
		add_building_construction = {
			type = radar_station
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = radar_station
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = radar_station
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -3.5 }
		modify_treasury_effect = yes
	}
}

one_anti_air = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = anti_air_building
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = anti_air_building
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = anti_air_building
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3.25 }
	modify_treasury_effect = yes
}
one_state_anti_air = {
	if = {
		limit = {
			free_building_slots = {
				building = anti_air_building
				size > 0
			}
		}
		add_building_construction = {
			type = anti_air_building
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = anti_air_building
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = anti_air_building
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -3.25 }
		modify_treasury_effect = yes
	}
}

two_anti_air = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = anti_air_building
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = anti_air_building
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = anti_air_building
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = anti_air_building
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = anti_air_building
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = anti_air_building
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -6.5 }
	modify_treasury_effect = yes
}
two_state_anti_air = {
	if = {
		limit = {
			free_building_slots = {
				building = anti_air_building
				size > 1
			}
		}
		add_building_construction = {
			type = anti_air_building
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = anti_air_building
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = anti_air_building
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -6.5 }
		modify_treasury_effect = yes
	}
}

one_random_network_infrastructure = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = internet_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = internet_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = internet_station
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3 }
	modify_treasury_effect = yes
}
one_state_network_infrastructure = {
	if = {
		limit = {
			free_building_slots = {
				building = internet_station
				size > 0
			}
		}
		add_building_construction = {
			type = internet_station
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = internet_station
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = internet_station
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = internet_station
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}


	CONTROLLER = {
		set_temp_variable = { treasury_change = -3 }
		modify_treasury_effect = yes
	}
}

two_random_network_infrastructure = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = internet_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = internet_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = internet_station
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = internet_station
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = internet_station
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = internet_station
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -6 }
	modify_treasury_effect = yes
}
two_state_network_infrastructure = {
	if = {
		limit = {
			free_building_slots = {
				building = internet_station
				size > 1
			}
		}
		add_building_construction = {
			type = internet_station
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = internet_station
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = internet_station
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = internet_station
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -3 }
		modify_treasury_effect = yes
	}
}

one_fuel_reserve = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = fuel_silo
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = fuel_silo
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = fuel_silo
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3 }
	modify_treasury_effect = yes
}
one_state_fuel_reserve = {
	if = {
		limit = {
			free_building_slots = {
				building = fuel_silo
				size > 0
			}
		}
		add_building_construction = {
			type = fuel_silo
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = fuel_silo
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = fuel_silo
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -3 }
		modify_treasury_effect = yes
	}
}

two_fuel_reserve = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = fuel_silo
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = fuel_silo
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = fuel_silo
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = fuel_silo
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = fuel_silo
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = fuel_silo
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -6 }
	modify_treasury_effect = yes
}
two_state_fuel_reserve = {
	if = {
		limit = {
			free_building_slots = {
				building = fuel_silo
				size > 1
			}
		}
		add_building_construction = {
			type = fuel_silo
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = fuel_silo
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = fuel_silo
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}

	CONTROLLER = {
		set_temp_variable = { treasury_change = -6 }
		modify_treasury_effect = yes
	}
}

one_random_fossil_fuel_powerplant = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = fossil_powerplant
				size > 0
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = fossil_powerplant
								size > 0
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -3.25 }
	modify_treasury_effect = yes
}
one_state_fossil_fuel_powerplant = {
	if = {
		limit = {
			free_building_slots = {
				building = fossil_powerplant
				size > 0
			}
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = fossil_powerplant
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = fossil_powerplant
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = fossil_powerplant
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -3.25 }
		modify_treasury_effect = yes
	}
}

one_random_factory_energy_check = {
	if = {
		limit = {
			check_variable = { unfulfilled_energy_demand_var < -0.049 }
			NOT = {
				OR = {
					has_idea = some_additional_consumption_spirit
					has_idea = heavy_power_restrictions_spirit
				}
			}
		}

		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = fossil_powerplant
					size > 0
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = fossil_powerplant
									size > 0
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = fossil_powerplant
				level = 1
				instant_build = yes
			}
		}
	}
	one_random_industrial_complex = yes
}
one_state_factory_energy_check = {
	if = {
		limit = {
			check_variable = { unfulfilled_energy_demand_var < -0.049 }
			NOT = {
				OR = {
					has_idea = some_additional_consumption_spirit
					has_idea = heavy_power_restrictions_spirit
				}
			}
		}

		if = {
			limit = {
				free_building_slots = {
					building = fossil_powerplant
					size > 0
				}
			}
			add_building_construction = {
				type = fossil_powerplant
				level = 1
				instant_build = yes
			}
		}
		else = {
			ROOT = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = fossil_powerplant
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = fossil_powerplant
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_building_construction = {
						type = fossil_powerplant
						level = 1
						instant_build = yes
					}
				}
				custom_effect_tooltip = no_building_construction_TT
			}
		}
	}
	one_state_industrial_complex = yes
}

two_random_fossil_fuel_powerplant = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = fossil_powerplant
				size > 1
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = fossil_powerplant
								size > 1
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 2
			instant_build = yes
		}
	}

	set_temp_variable = { treasury_change = -6.5 }
	modify_treasury_effect = yes
}
two_state_fossil_fuel_powerplant = {
	if = {
		limit = {
			free_building_slots = {
				building = fossil_powerplant
				size > 1
			}
		}
		add_building_construction = {
			type = fossil_powerplant
			level = 2
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = fossil_powerplant
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = fossil_powerplant
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = fossil_powerplant
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = no_building_construction_TT
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -6.5 }
		modify_treasury_effect = yes
	}
}

one_random_agriculture_district = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = agriculture_district
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = agriculture_district
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = agriculture_district
			level = 1
			instant_build = yes
		}
	}
	set_temp_variable = { treasury_change = -3.75 }
	modify_treasury_effect = yes
}

one_state_agriculture_district = {
	if = {
		limit = {
			free_building_slots = {
				building = agriculture_district
				size > 0
				include_locked = yes
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = agriculture_district
			level = 1
			instant_build = yes
		}
	}
	else = {
		ROOT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = agriculture_district
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = agriculture_district
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = agriculture_district
					level = 1
					instant_build = yes
				}
			}
		}
	}
	CONTROLLER = {
		set_temp_variable = { treasury_change = -3.75 }
		modify_treasury_effect = yes
	}
}

two_random_agriculture_district = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = agriculture_district
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = agriculture_district
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = agriculture_district
			level = 1
			instant_build = yes
		}
	}
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = agriculture_district
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = agriculture_district
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = agriculture_district
			level = 1
			instant_build = yes
		}
	}
	set_temp_variable = { treasury_change = -7.5 }
	modify_treasury_effect = yes
}

increase_HIV_prevalence = {
	if = {
		limit = { has_idea = low_level_of_aids }
		swap_ideas = {
			remove_idea = low_level_of_aids
			add_idea = rising_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = rising_level_of_aids }
		swap_ideas = {
			remove_idea = rising_level_of_aids
			add_idea = high_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = high_level_of_aids }
		swap_ideas = {
			remove_idea = high_level_of_aids
			add_idea = very_high_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = very_high_level_of_aids }
		swap_ideas = {
			remove_idea = very_high_level_of_aids
			add_idea = critical_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = critical_level_of_aids }
		add_political_power = -100
	}
}

decrease_HIV_prevalence = {
	if = {
		limit = { has_idea = critical_level_of_aids }
		swap_ideas = {
			remove_idea = critical_level_of_aids
			add_idea = very_high_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = very_high_level_of_aids }
		swap_ideas = {
			remove_idea = very_high_level_of_aids
			add_idea = high_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = high_level_of_aids }
		swap_ideas = {
			remove_idea = high_level_of_aids
			add_idea = rising_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = rising_level_of_aids }
		swap_ideas = {
			remove_idea = rising_level_of_aids
			add_idea = low_level_of_aids
		}
	}
	else_if = {
		limit = { has_idea = low_level_of_aids }
		remove_ideas = low_level_of_aids
	}
}

SF_marine_modern_demoliton_effect = { #When changing this, update the research tooltip
	damage_building = {
		type = coastal_bunker
		damage = 3
	}
	damage_building = {
		type = bunker
		damage = 3
	}
	set_state_flag = {
		flag = marines_commando_effect
		value = 1
		days = 30
	}
}

SF_marine_logistics_raiding_effect = {
	damage_building = {
		type = infrastructure
		damage = 5
	}
	damage_building = {
		type = fuel_silo
		damage = 3
	}
}

SF_PARA_sabotage_effect = { #When changing this, update the research tooltip
	damage_building = {
		type = air_base
		damage = 4
	}
	damage_building = {
		type = radar_station
		damage = 2
	}
	damage_building = {
		type = supply_node
		damage = 2
	}
	damage_building = {
		type = rail_way
		damage = 2
	}
	set_state_flag = {
		flag = para_drop_effect
		value = 1
		days = 30
	}
}

SF_PARA_combat_effect = { #When changing this, update the research tooltip
	every_state_division = {
		limit = {
			OWNER = { has_war_with = FROM }
		}
		set_unit_organization = 0.75
	}
	set_state_flag = {
		flag = para_drop_effect
		value = 1
		days = 30
	}
}
one_random_arms_factory_free = {
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
}

one_random_land_facility = {
	random_owned_controlled_state = {
		limit = {
			can_construct_building = land_facility
		}
		construct_building_in_random_province = {
			land_facility = 1
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}

one_random_naval_facility = {
	random_owned_controlled_state = {
		limit = {
			can_construct_building = naval_facility
		}
		construct_building_in_random_province = {
			naval_facility = 1
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}

one_random_air_facility = {
	random_owned_controlled_state = {
		limit = {
			can_construct_building = air_facility
		}
		construct_building_in_random_province = {
			air_facility = 1
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}

one_random_nuclear_facility = {
	random_owned_controlled_state = {
		limit = {
			can_construct_building = nuclear_facility
		}
		construct_building_in_random_province = {
			nuclear_facility = 1
		}
	}

	set_temp_variable = { treasury_change = -15 }
	modify_treasury_effect = yes
}

# Ingame Startup Effect
ingame_startup_nations_effect = {
	set_variable = { civilian_factory_employment_var = 1 }
	set_variable = { naval_factory_employment_var = 1 }
	set_variable = { military_factory_employment_var = 1 }
	set_variable = { office_employment_var = 1 }
	set_variable = { agriculture_district_employment_var = 1 }
	set_variable = { gdpc_converging_var = FROM.gdpc_converging_var }
	calculate_influence_percentage = yes #set alignment drifts from influence
	startup_politics = yes
	ingame_update_setup = yes     #money system
	setup_init_factions = yes     #flags for int. factions
	set_law_vars = yes     #vars for change laws secondary effects
	update_neighbors_effects = yes # Updates Neighbor Effects
	economic_cycle_drift_popularity = yes #drift from neighbor
	ai_update_build_units = yes
	init_auto_influence_array = yes
	ingame_init_investment_system = yes
	research_slot_init_for_country = yes
	calculate_expected_spending = yes
	setup_missile_configuration_effect = yes
}

#####################################
### emergency_factory_conversion ####
#####################################

#This is going to give misleading and ugly tooltips. Making it nice will take effort. TODO_WTT_CD make nice or ignore and remove comment. Easiest solution is just making a custom tooltip that says "5 civilian factories will be converted to military factories" and ignore telling the player the states where it will happen.

replace_civ_with_arms_factories = {

	random_owned_controlled_state = {
		limit = {
			is_fully_controlled_by = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_fully_controlled_by = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_fully_controlled_by = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_fully_controlled_by = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}

	random_owned_controlled_state = {
		limit = {
			is_fully_controlled_by = ROOT
			industrial_complex > 0
		}
		remove_building = {
			type = industrial_complex
			level = 1
		}
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
}

#Country scope
ROOT_inherit_current_scope_wars_effect = {
	custom_effect_tooltip = ROOT_inherit_current_scope_wars_effect
	hidden_effect = {
		every_country = {
			limit = {
				has_defensive_war_with = PREV
			}
			ROOT = { declare_war_on = { target = PREV type = annex_everything } }
		}
		every_country = {
			limit = {
				has_offensive_war_with = PREV
			}
			declare_war_on = { target = ROOT type = annex_everything }
		}
	}
}

clear_sabotaged_resources_if_necesary = {
	if = {
		limit = {
			not = {
				has_dynamic_modifier = {
					modifier = sabotaged_resources
				}
			}
		}

		clear_variable = sabotaged_oil
		clear_variable = sabotaged_aluminium
		clear_variable = sabotaged_rubber
		clear_variable = sabotaged_tungsten
		clear_variable = sabotaged_steel
		clear_variable = sabotaged_chromium
	}
}

#expectes a temp variable country_to_initiate which should contain original_tag to instantiate as a collabration government
instantiate_collaboration_government = {
	custom_effect_tooltip = compliance_80_effect_tooltip
	hidden_effect = {
		set_variable = { collaboration_formed@var:country_to_initiate = 1 }

		if = {
			# if country_to_initiate does not exist, simply release it as a puppet
			limit = {
				var:country_to_initiate = {
					exists = no
				}
			}
			var:country_to_initiate = { set_variable = { collaboration_formed_by = PREV } }
			release_autonomy = {
				target = country_to_initiate
				autonomy_state = autonomy_collaboration_government
				freedom_level = 0.5
				release_non_owned_controlled = yes
			}
		}
		else = {
			# if country_to_initiate exists, create a dynamic country as our new puppet

			create_dynamic_country = {
				original_tag = country_to_initiate

				set_variable = { collaboration_formed_by = PREV }
				set_temp_variable = { new_country = this }

				PREV = {
					every_controlled_state = {
						limit = { occupied_country_tag = country_to_initiate }

						var:new_country = {
							transfer_state = PREV
						}
					}

					puppet = new_country

					set_autonomy = {
						target = new_country
						autonomy_state = autonomy_collaboration_government
						freedom_level = 0.5
					}
				}
			}
		}
	}
}
