add_namespace = Syria

### Syrian civil war cleanup events ###

#FSA, ROJ and NUS win together
country_event = {
	id = Syria.0
	
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = SYR 
			country_exists = ISI
		}
		country_exists = NUS
		country_exists = FSA
		country_exists = ROJ
		NOT = {
			FSA = { 
				has_war_with = NUS 
				has_war_with = ROJ
			}
			NUS = { 
				has_war_with = FSA 
				has_war_with = ROJ
			}
			ROJ = { 
				has_war_with = NUS 
				has_war_with = FSA
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		#FSA will ask NUS and ROJ to rejoin
		FSA = { country_event = { days = 3 id = Syria.1 } }
	}
	
	option = {
		name = Syria.0.a
	}
}

country_event = {
	id = Syria.1
	title = Syria.1.t
	desc = Syria.1.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = Syria.1.a
		NUS = { country_event = { days = 2 id = Syria.2 } }
		ROJ = { country_event = { days = 2 id = Syria.2 } }
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = Syria.1.b
		add_national_unity = -0.1
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = Syria.2
	title = Syria.2.t
	desc = Syria.2.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	
	option = {
		name = Syria.2.a
		FSA = { country_event = { days = 2 id = Syria.3 } }
		custom_effect_tooltip = tooltip_annexation
		ai_chance = {
			factor = 80
		}
	}
	
	option = {
		name = Syria.2.b
		add_national_unity = -0.1
		FSA = { country_event = { days = 2 id = Syria.4 } }
		ai_chance = {
			factor = 20
			modifier = {
				strength_ratio = { tag = FSA ratio < 0.7 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio < 0.8 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio < 0.9 }
				add = -5
			}
			modifier = {
				strength_ratio = { tag = FSA ratio > 1.0 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio > 1.1 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio > 1.2 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio > 1.3 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = FSA ratio > 1.4 }
				add = 10
			}
		}
	}
}

country_event = {
	id = Syria.3
	title = Syria.3.t
	desc = Syria.3.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	
	option = {
		name = Syria.3.a
		every_state = {
			limit = {
				is_core_of = FROM
			}
			add_core_of = ROOT
		}
		annex_country = { target = FROM transfer_troops = yes }
	}
}

country_event = {
	id = Syria.4
	title = Syria.4.t
	desc = Syria.4.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	
	option = {
		name = Syria.4.a
		create_wargoal = { type = annex_everything target = FROM }
	}
}

#Only FSA and ROJ left
country_event = {
	id = Syria.5
	
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = SYR 
			country_exists = ISI
			country_exists = NUS
		}
		country_exists = FSA
		country_exists = ROJ
		NOT = {
			FSA = {  
				has_war_with = ROJ
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		#FSA will ask ROJ to rejoin
		FSA = { country_event = { days = 3 id = Syria.6 } }
	}
	
	option = {
		name = Syria.0.a
	}
}

country_event = {
	id = Syria.6
	title = Syria.6.t
	desc = Syria.6.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = Syria.6.a
		ROJ = { country_event = { days = 2 id = Syria.2 } }
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = Syria.6.b
		add_national_unity = -0.1
		ai_chance = {
			factor = 0
		}
	}
}

#Only FSA and NUS left
country_event = {
	id = Syria.7
	
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = SYR 
			country_exists = ISI
			country_exists = ROJ
		}
		country_exists = FSA
		country_exists = NUS
		NOT = {
			FSA = {  
				has_war_with = NUS
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		#FSA will ask NUS to rejoin
		FSA = { country_event = { days = 3 id = Syria.8 } }
	}
	
	option = {
		name = Syria.0.a
	}
}

country_event = {
	id = Syria.8
	title = Syria.8.t
	desc = Syria.8.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = Syria.8.a
		NUS = { country_event = { days = 2 id = Syria.2 } }
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = Syria.8.b
		add_national_unity = -0.1
		ai_chance = {
			factor = 0
		}
	}
}

#SYR and ROJ
country_event = {
	id = Syria.9
	
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = FSA 
			country_exists = NUS
			country_exists = ISI
		}
		country_exists = SYR
		country_exists = ROJ
		NOT = {
			SYR = {  
				has_war_with = ROJ
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		#SYR will ask ROJ to rejoin
		SYR = { country_event = { days = 3 id = Syria.10 } }
	}
	
	option = {
		name = Syria.0.a
	}
}

country_event = {
	id = Syria.10
	title = Syria.10.t
	desc = Syria.10.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = Syria.10.a
		ROJ = { country_event = { days = 2 id = Syria.11 } }
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = Syria.10.b
		add_national_unity = -0.1
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = Syria.11
	title = Syria.11.t
	desc = Syria.11.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	
	option = {
		name = Syria.2.a
		SYR = { country_event = { days = 2 id = Syria.3 } }
		custom_effect_tooltip = tooltip_annexation
		ai_chance = {
			factor = 30
		}
	}
	
	option = {
		name = Syria.2.b
		add_national_unity = -0.1
		SYR = { country_event = { days = 2 id = Syria.4 } }
		ai_chance = {
			factor = 70
			modifier = {
				strength_ratio = { tag = SYR ratio < 0.7 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio < 0.8 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio < 0.9 }
				add = -5
			}
			modifier = {
				strength_ratio = { tag = SYR ratio > 1.0 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio > 1.1 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio > 1.2 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio > 1.3 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = SYR ratio > 1.4 }
				add = 10
			}
		}
	}
}

#Winner gets the SYR cosmetic tag
country_event = {
	id = Syria.12
	
	hidden = yes
	
	trigger = {
		OR = {
			AND = {
				tag = FSA
				NOT = {
					country_exists = SYR 
					country_exists = ISI
					country_exists = NUS
				}
			}
			AND = {
				tag = NUS
				NOT = {
					country_exists = SYR 
					country_exists = ISI
					country_exists = FSA
				}
			}
			AND = {
				tag = SYR
				NOT = {
					country_exists = FSA 
					country_exists = ISI
					country_exists = NUS
				}
			}
		}
		NOT = { has_global_flag = Syrian_Civil_War_Over }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		#Civil war is over
		set_global_flag = Syrian_Civil_War_Over
		#Clear core status
		184 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		185 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		186 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		187 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		188 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		189 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		192 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		561 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		571 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		575 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		566 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		190 = {
			remove_core_of = SYR
			remove_core_of = FSA
			remove_core_of = NUS
			remove_core_of = ISI
		}
		#Make the winner Syria
		if = {
			limit = {
				OR = {
					tag = FSA
					tag = NUS
				}
			}
			set_cosmetic_tag = SYR	
		}
		add_state_core = 184
		add_state_core = 185
		add_state_core = 186
		add_state_core = 187
		add_state_core = 188
		add_state_core = 189
		add_state_core = 190
		add_state_core = 192
		add_state_core = 561
		add_state_core = 566
		add_state_core = 571
		add_state_core = 575
		set_capital = 186
	}
	
	option = {
		name = Syria.0.a
	}
}

#NUS and ROJ
country_event = {
	id = Syria.13
	
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = FSA 
			country_exists = SYR
			country_exists = ISI
		}
		country_exists = NUS
		country_exists = ROJ
		NOT = {
			NUS = {  
				has_war_with = ROJ
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		#NUS will ask ROJ to rejoin
		NUS = { country_event = { days = 3 id = Syria.14 } }
	}
	
	option = {
		name = Syria.0.a
	}
}

country_event = {
	id = Syria.14
	title = Syria.8.t
	desc = Syria.8.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = Syria.8.a
		ROJ = { country_event = { days = 2 id = Syria.15 } }
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = Syria.8.b
		add_national_unity = -0.1
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = Syria.15
	title = Syria.15.t
	desc = Syria.15.d
	picture = GFX_report_event_placeholder
	
	is_triggered_only = yes
	
	option = {
		name = Syria.2.a
		NUS = { country_event = { days = 2 id = Syria.3 } }
		custom_effect_tooltip = tooltip_annexation
		ai_chance = {
			factor = 30
		}
	}
	
	option = {
		name = Syria.2.b
		add_national_unity = -0.1
		NUS = { country_event = { days = 2 id = Syria.4 } }
		ai_chance = {
			factor = 70
			modifier = {
				strength_ratio = { tag = NUS ratio < 0.7 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio < 0.8 }
				add = -10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio < 0.9 }
				add = -5
			}
			modifier = {
				strength_ratio = { tag = NUS ratio > 1.0 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio > 1.1 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio > 1.2 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio > 1.3 }
				add = 10
			}
			modifier = {
				strength_ratio = { tag = NUS ratio > 1.4 }
				add = 10
			}
		}
	}
}


			