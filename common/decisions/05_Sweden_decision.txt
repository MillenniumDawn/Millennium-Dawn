# Author(s): Borgers
SWE_decision_Forsvarsmarkten_category = {
	SWE_Home_Guard = {
		fire_only_once = no
		days_remove = 180
		available = {
			original_tag = SWE
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}

		visible = {
 			original_tag = SWE
			NOT = {
				has_idea = SWE_idea_total_defence_duty
			}
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_Home_Guard "
			SWE = {
				division_template = {
					name = "Hemvärnet"
					is_locked = yes

					regiments = {
						Mot_Militia_Bat = { x = 0 y = 0 }
						Mot_Militia_Bat = { x = 0 y = 1 }
						mech_Inf_Bat = { x = 1 y = 0 }
						mech_Inf_Bat = { x = 1 y = 1 }
					}
					support = {
						L_Engi_Comp = { x = 0 y = 0 }
						L_Recce_Comp = { x = 0 y = 1 }
					}
					priority = 0
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"24.Hemvärnsbataljon Stockholm\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 6040
				}
				create_unit = {
					division = "name = \"32.Gotlands Bataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 408
				}
				create_unit = {
					division = "name = \"41.Göteborgs Skärgardsbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 383
				}
				create_unit = {
					division = "name = \"33.Norra Smalandsbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 11380
				}
				create_unit = {
					division = "name = \"47.Malmöhusbataljonen\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 9279
				}
				create_unit = {
					division = "name = \"22.Västmanlandsbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 35
				}
				create_unit = {
					division = "name = \"16.Medelpadsbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 9151
				}
				create_unit = {
					division = "name = \"13.Västerbottensbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 6132
				}
				create_unit = {
					division = "name = \"12.Norrbottonsbataljon\" division_template = \"Hemvärnet\" start_experience_factor = 0.2 start_equipment_factor = 0.01"
					owner = SWE
					prioritize_location = 6165
				}
			}
			hidden_effect = {
				SWE = { news_event = { id = Sweden_news.9 days = 1 } }
			}
		}
	}
	SWE_fortifications = {
		fire_only_once = yes
		days_remove = 45
		available = {
			original_tag = SWE
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}

		visible = {
 			original_tag = SWE
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}
		complete_effect = {

		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GER_recruitment_campaigns"
			442 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 6165
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6208
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6132
					instant_build = yes
				}
			}
			hidden_effect = {
				SWE = { news_event = { id = Sweden_news.5 days = 1 } }
			}
		}
	}
	SWE_Officer_education_course = {

		days_remove = 30
		cost = 100
		days_re_enable = 365
		fire_only_once = no
		available = {
			original_tag = SWE
		}

		visible = {
			original_tag = SWE
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_Officer_education_course"
			set_temp_variable = { treasury_change = -6.00 }
			modify_treasury_effect = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_Officer_education_course"
			random_Army_leader = {
				limit = {
					is_field_marshal = no
				}
				random_list = {
					20 = {
						gain_xp = 100
						add_attack = 1
						add_planning = 1
						add_unit_leader_trait = trickster
					}
					20 = {
						gain_xp = 100
						add_skill_level = 1
						add_unit_leader_trait = commando
					}
					20 = {
						gain_xp = 100
						add_attack = 1
						add_unit_leader_trait = ambusher
					}
					15 = {
						gain_xp = 100
						add_attack = 1
						add_unit_leader_trait = trait_engineer
					}
					15 = {
						gain_xp = 100
						add_defense = 1
						add_planning = 1
						add_unit_leader_trait = organizer
					}
					10 = {
						gain_xp = 100
						add_defense = 1
						add_unit_leader_trait = camouflage_expert
					}
				}
			}
			hidden_effect = {
				SWE = { news_event = { id = Sweden_news.6 days = 3 } }
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	SWE_only_active_Personal_Trainings_exercise = {

		days_remove = 20
		cost = 100
		days_re_enable = 365
		fire_only_once = no
		available = {
			original_tag = SWE
		}

		visible = {
			original_tag = SWE
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_only_active_Personal_Trainings_exercise"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_only_active_Personal_Trainings_exercise"
			SWE = {
				random_country_division = { add_divisional_commander_xp = 170 }
				random_country_division = { add_divisional_commander_xp = 170 }
				add_timed_idea = {
				idea = SWE_idea_active_training
				days = 180
				}
				hidden_effect = {
					SWE = { news_event = { id = Sweden_news.4 days = 1 } }
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	SWE_Home_defence_Trainings_exercise = {

		days_remove = 30
		cost = 100
		days_re_enable = 365
		fire_only_once = no
		available = {
			original_tag = SWE
		}

		visible = {
			original_tag = SWE
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GER_Launch_big_Trainings_exercise"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GER_Launch_big_Trainings_exercise"
			SWE = {
				random_country_division = { add_divisional_commander_xp = 110 }
				random_country_division = { add_divisional_commander_xp = 110 }
				random_country_division = { add_divisional_commander_xp = 110 }
				random_country_division = { add_divisional_commander_xp = 110 }
				add_timed_idea = {
				idea = SWE_idea_total_training
				days = 180
				}
			}
			hidden_effect = {
				SWE = { news_event = { id = Sweden_news.7 days = 1 } }
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	SWE_launch_total_defence = {

		cost = 100
		fire_only_once = no
		available = {
			original_tag = SWE
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}

		visible = {
			original_tag = SWE
			OR = {
				has_defensive_war = yes
				threat > 0.6
				any_country = {
					is_justifying_wargoal_against = SWE
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_launch_total_defence"
			add_ideas = SWE_idea_total_defence_duty
			add_stability = 0.1
			add_war_support = 0.1
			add_manpower = 15000
			if = {
				limit = { has_idea = defence_00 }
				swap_ideas = { remove_idea = defence_00 add_idea = defence_04 }
			}
			else_if = {
				limit = { has_idea = defence_01 }
				swap_ideas = { remove_idea = defence_01 add_idea = defence_04 }
			}
			else_if = {
				limit = { has_idea = defence_02 }
				swap_ideas = { remove_idea = defence_02 add_idea = defence_04 }
			}
			else_if = {
				limit = { has_idea = defence_03 }
				swap_ideas = { remove_idea = defence_03 add_idea = defence_04 }
			}
			else_if = {
				limit = { has_idea = defence_04 }
				swap_ideas = { remove_idea = defence_04 add_idea = defence_05 }
			}
			if = {
				limit = { has_idea = police_01 }
				swap_ideas = { remove_idea = police_01 add_idea = police_02 }
			}
			else_if = {
				limit = { has_idea = police_02 }
				swap_ideas = { remove_idea = police_02 add_idea = police_03 }
			}
			else_if = {
				limit = { has_idea = police_03 }
				swap_ideas = { remove_idea = police_03 add_idea = police_04 }
			}
			increase_conscription_effect = yes
		}
		ai_will_do = {
			factor = 1
		}
	}
	SWE_back_to_normality = {

		fire_only_once = no
		cost = 100
		available = {
			original_tag = SWE
			has_idea = SWE_idea_total_defence_duty
		}

		visible = {
			original_tag = SWE
			has_idea = SWE_idea_total_defence_duty
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SWE_back_to_normality"
			remove_ideas = SWE_idea_total_defence_duty
			if = {
				limit = { has_idea = defence_03 }
				swap_ideas = { remove_idea = defence_03 add_idea = defence_02 }
				}
			else_if = {
				limit = { has_idea = defence_04 }
				swap_ideas = { remove_idea = defence_04 add_idea = defence_02 }
			}
			else_if = {
				limit = { has_idea = defence_05 }
				swap_ideas = { remove_idea = defence_05 add_idea = defence_02 }
			}
			else_if = {
				limit = { has_idea = defence_06 }
				swap_ideas = { remove_idea = defence_06 add_idea = defence_02 }
			}
			if = {
				limit = { has_idea = police_02 }
				swap_ideas = { remove_idea = police_01 add_idea = police_01 }
			}
			else_if = {
				limit = { has_idea = police_03 }
				swap_ideas = { remove_idea = police_02 add_idea = police_02 }
			}
			else_if = {
				limit = { has_idea = police_04 }
				swap_ideas = { remove_idea = police_04 add_idea = police_02 }
			}
			decrease_conscription_effect = yes
			hidden_effect = {
				SWE = { news_event = { id = Sweden_news.7 days = 1 } }
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}
SWE_decision_Forsvarsbelut_category = {
	SWE_defence_act = {
		available = {
			SWE = {
 				has_government = democratic
				has_political_power > 100
			}
		}

		cost = 50
		days_remove = 365
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GER_lease_acces_china"
			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GER_lease_acces_china"
			SWE = {

			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}