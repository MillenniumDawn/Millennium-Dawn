#Medical Brigades
#sso_training_des
CUB_sso_training_category = {
	#russiacoop
	CUB_ask_russia_for_exercise = {

	cost = 150
	fire_only_once = no
	days_remove = 5

	available = {
		custom_trigger_tooltip = {
			tooltip = cant_start_exercises_tt
			NOT = { has_country_flag = cant_start_exercises1 }
			NOT = { has_country_flag = cant_ask_others2 }
			NOT = { has_country_flag = russia_rejected }
			NOT = { has_country_flag = cant_ask_others3 }
			NOT = { has_country_flag = exercises_with_russia}
		}
		original_tag = CUB
		has_war = no
	}
	visible = {
		tag = CUB
	}
	remove_effect ={
		log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
		SOV = { country_event = { id =cuba_sso.1 days = 1 } }
	}
	complete_effect = {
		custom_effect_tooltip = cant_start_exercises1_tt_effect
		set_country_flag = {
			flag = cant_ask_russia
			days = 200
			value = 1
		}
		set_country_flag = {
			flag = cant_ask_others
			days = 200
			value = 1
		}
	}
	ai_will_do = {
		factor = 20

		modifier = {
			factor = 20
			is_historical_focus_on = yes
		}
	}
}
CUB_exercises_with_rus = {

	cost = 150
	fire_only_once = no
	days_remove = 97
	visible= {
		tag = CUB
		NOT = { has_country_flag = cant_start_exercises1 }
		has_country_flag = exercises_with_russia
			}
	available = {
		custom_trigger_tooltip = {
			tooltip = cant_start_exercises_tt
			NOT = { has_country_flag = cant_start_exercises1 }

		}
		original_tag = CUB
		has_war = no
	}
	visible = {
		tag = CUB
	}
	complete_effect = {
		custom_effect_tooltip = cant_start_exercises2_tt_effect
		set_country_flag = {
			flag = cant_start_exercises1
			days = 200
			value = 1
		}
		set_temp_variable = { treasury_change = -5 }
		modify_treasury_effect = yes
		log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
		SOV = { add_timed_idea ={
			idea = CUB_military_exercises_idea
			days = 97
		}
	}
	CUB = { add_timed_idea ={
		idea = CUB_military_exercises_idea
		days = 97
	}
}
	ai_will_do = {
		factor = 20

		modifier = {
			factor = 20
			is_historical_focus_on = yes
					}
			}
   		}
	}
	#China cooperation
	CUB_ask_china_for_exercise = {

		cost = 150
		fire_only_once = no
		days_remove = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start_exercises2_tt
				NOT = { has_country_flag = cant_start_exercises2 }
				NOT = { has_country_flag = cant_ask_others }
				NOT = { has_country_flag = cant_ask_china}
				NOT = { has_country_flag= exercises_with_china}
				NOT = { has_country_flag = cant_ask_others3 }
				NOT = { has_country_flag = china_rejected }
			}
			original_tag = CUB
			has_war = no
		}
		visible = {
			tag = CUB
		}
		remove_effect ={
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
			CHI = { country_event = { id =cuba_sso.5 days = 1 } }
		}
		complete_effect = {
			custom_effect_tooltip = cant_start_exercises2_tt_effect
			set_country_flag = {
				flag = cant_ask_china
				days = 200
				value = 1
			}
			set_country_flag = {
				flag = cant_ask_others2
				days = 200
				value = 1
			}
		}
		ai_will_do = {
			factor = 20

			modifier = {
				factor = 20
				is_historical_focus_on = yes
			}
		}
	}
	CUB_exercises_with_china = {

		cost = 150
		fire_only_once = no
		days_remove = 97
		visible= {
			tag = CUB
			NOT = {has_country_flag = cant_start_exercises2}
			has_country_flag = exercises_with_china
				}
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start_exercises2_tt
				NOT = { has_country_flag = cant_start_exercises2 }

			}
			original_tag = CUB
			has_war = no
		}
		visible = {
			tag = CUB
		}
		complete_effect = {
			custom_effect_tooltip = cant_start_exercises2_tt_effect
			set_country_flag = {
				flag = cant_start_exercises2
				days = 200
				value = 1
			}
			set_temp_variable = { treasury_change = -5 }
			modify_treasury_effect = yes
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
			CHI = { add_timed_idea ={
				idea = CUB_military_exercises_idea
				days = 97
			}
		}
		CUB = { add_timed_idea ={
			idea = CUB_military_exercises_idea
			days = 97
		}
	}
		ai_will_do = {
			factor = 20

			modifier = {
				factor = 20
				is_historical_focus_on = yes
						}
				}
			   }
		}

		CUB_ask_usa_for_exercise = {

			cost = 150
			fire_only_once = no
			days_remove = 5

			available = {
				custom_trigger_tooltip = {
					tooltip = cant_start_exercises_tt
					NOT = { has_country_flag = cant_start_exercises1 }
					NOT = { has_country_flag = cant_ask_others2 }
					NOT = { has_country_flag = usa_rejected}
					NOT = { has_country_flag = cant_ask_others3 }
					NOT = { has_country_flag = exercises_with_russia}
				}
				original_tag = CUB
				has_war = no
			}
			visible = {
				tag = CUB
			}
			remove_effect ={
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
				USA = { country_event = { id =cuba_sso.8 days = 1 } }
			}
			complete_effect = {
				custom_effect_tooltip = cant_start_exercises3_tt_effect
				set_country_flag = {
					flag = cant_ask_usa
					days = 200
					value = 1
				}
				set_country_flag = {
					flag = cant_ask_others3
					days = 200
					value = 1
				}
			}
			ai_will_do = {
				factor = 20

				modifier = {
					factor = 20
					is_historical_focus_on = yes
				}
			}
		}

		CUB_exercises_with_usa = {

			cost = 150
			fire_only_once = no
			days_remove = 97
			visible= {
				tag = CUB
				NOT = { has_country_flag = cant_start_exercises3 }
				has_country_flag = exercises_with_usa
					}
			available = {
				custom_trigger_tooltip = {
					tooltip = cant_start_exercises_tt
					NOT = { has_country_flag = cant_start_exercises3 }
					has_country_flag = exercises_with_usa

				}
				original_tag = CUB
				has_war = no
			}
			visible = {
				tag = CUB
			}
			complete_effect = {
				custom_effect_tooltip = cant_start_exercises3_tt_effect
				set_country_flag = {
					flag = cant_start_exercises3
					days = 200
					value = 1
				}
				set_temp_variable = { treasury_change = -5 }
				modify_treasury_effect = yes
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ask_russia_for_exercise"
				USA = { add_timed_idea ={
					idea = CUB_military_exercises_idea
					days = 97
				}
			}
			CUB = { add_timed_idea ={
				idea = CUB_military_exercises_idea
				days = 97
			}
		}
			ai_will_do = {
				factor = 20

				modifier = {
					factor = 20
					is_historical_focus_on = yes
							}
					}
				   }
			}
}



	#Brazil Brigade
	CUB_send_bra_brig = {

		icon = GFX_decision_hol_drain_water_lines

		visible = {
			original_tag = CUB
			hidden_trigger = {
			has_country_flag = CUB_BRA_Brig
			check_variable = { var_brazilbrigade < 4 }
			}

		}

        cost = 50
		days_re_enable = 90

		ai_will_do = {
			factor = 1
		}

      	complete_effect = {
			set_temp_variable = { treasury_change = 1.0 }
			modify_treasury_effect = yes
			add_manpower = -2000
			add_to_variable = { var_brazilbrigade = 1 }
            BRA = {
				set_temp_variable = { treasury_change = -1.0 }
				modify_treasury_effect = yes
				add_manpower = 2000
	  		}
	 	}
	}
}

# Support for subversives
CUB_internal_support_category = {

	CUB_arrest_dissidents = {
		icon = GFX_decision_oppression

		cost = 100

		visible = {
			original_tag = CUB
		}

		days_re_enable = 30

		complete_effect = {
			add_to_variable = { var = cub_subv_threat value = -10 }
			custom_effect_tooltip = cub_modify_subv_support_m10_tt
			#CUB_modify_subv_support= yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}

	CUB_release_dissidents = {
		icon = GFX_decision_generic_political_discourse
		cost = 100
		visible = {
			original_tag = CUB
		}
		days_re_enable = 30
		complete_effect = {
				add_to_variable = {
					var = cub_subv_threat
					value = 15
				}
				clamp_variable = {
					var = cub_subv_threat
					min = 0
					max = 100
				}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_communist_cadres_opinion = yes
		set_country_flag = dissidents_released
		log = "[GetDateText]: [This.GetName]: decision release_dissidents executed"
	}

	CUB_mobilize_cdrs = {
		icon = GFX_decision_oppression
		cost = 100
		visible = {
			has_country_flag = CUB_CDR_Mobilize
		}
		days_re_enable = 30
		complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}
}
#The Blockade

CUB_counter_blockade_category = {

#Completed after USA Relations in focus tree

	CUB_blockade_politicalsupport = {
	
		icon = GFX_decision_oppression

		visible = {
			original_tag = CUB
			#hidden_trigger = {
			#	has_country_flag = CUB_Blockade_Desc
			#	check_variable = { var_blockadecubapolitics < 1 }
			#}	
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

    	complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
            USA = {
				add_political_power = -100
				}
			}
			
	 	}
	}
	CUB_blockade_tradewith_china = {
	
		icon = GFX_decision_oppression

		visible = {
			original_tag = CUB
			#hidden_trigger = {
			#	has_country_flag = CUB_Blockade_Desc
			#	check_variable = { var_blockadecubapolitics < 1 }
			#}
		}

        cost = 50
		days_re_enable = 90

		ai_will_do = {
			factor = 1
		}

    	complete_effect = {
			hidden_effect = {

			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes

	 	}
	}


#ALBA Candidates
CUB_ALBA_candidate_category = {

	CUB_bolivia_invite = {
		cost = 100
		visible = {
			original_tag = CUB
			original_tag = VEN
		has_country_flag = ALBA_member
		}
	}
}


