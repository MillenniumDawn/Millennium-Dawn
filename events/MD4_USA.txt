add_namespace = USA

#New Years - Intro Event
country_event = {
    id = USA.1
    title = USA.1.t
    desc = USA.1.d
    picture = GFX_new_years_2017_usa

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = USA.1.o1
		add_political_power = 5
    }
}
#Inaguration
country_event = {
	id = USA.2
	title = USA.2.t
	desc = USA.2.d
	picture = GFX_Trump_Inaug
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		date > 2017.1.19
		date < 2017.1.21
	}
	
	option = {
		name = USA.2.o1
	}
}
#berkley riots
country_event = {
	id = USA.3
	title = USA.3.t
	desc = USA.3.d
	picture = GFX_Berkley_Riot
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		date > 2017.2.1
		date < 2017.4.27
	}
	
	option = {
		name = USA.3.o1
		add_political_power = -5
	}
}
#SuperBowl
country_event = {
	id = USA.4
	title = USA.4.t
	desc = USA.4.d
	picture = GFX_Super_Bowl_LI
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		date > 2017.2.4
		date < 2017.2.6
	}
	
	option = {
		name = USA.4.o1
	}
}
#Major Industry stays in the US
country_event = {
	id = USA.5
	title = USA.5.t
	desc = USA.5.d
	picture = GFX_Trump_Thumbs_Up
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		has_government = nationalist
		date > 2017.2.1
		date < 2017.2.10
	}
	
	option = {
		name = USA.5.o1
		ai_chance = { factor = 100 }
        random_owned_state = { add_extra_state_shared_building_slots = 1 }

	}
}

#Agressor against Rio-pact member - hidden event no need for localisation/pics
country_event = {
	id = USA.6
	title = USA.6.t
	desc = USA.6.d
	#picture = GFX_USA_6
	
	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		save_event_target_as = being_attacked
		FROM = { save_event_target_as = agressor }
		every_country = {
			limit = {
				has_idea = rio_pact_member
			}
			country_event = { id = USA.7 }
		}
	}
	
	option = {
		name = USA.6.a
		
	}
}

#RIO-Pact members decide to intervene or not
country_event = {
	id = USA.7
	title = USA.7.t
	desc = USA.7.d
	#picture = GFX_USA_7

	is_triggered_only = yes
	
	#Intervene, send an ultimatum peace out or war
	option = {
		name = USA.7.a
	
		#Need to use FROM FROM scope since the one sending the event is the nation under attack
		ai_chance = {
			factor = 20			
			modifier = {
				factor = 0.2
				event_target:agressor = {
					strength_ratio = {
						tag = this
						ratio > 0.8
					}
				}
			}		
		}
		set_country_flag = RIO_Pact_War_Member
		#event_target:agressor = { country_event = { id = USA.8 days = 2 }}
	}

	#Don't Intervene - leave rio-pact
	option = {
		name = USA.17.b
		remove_ideas = rio_pact_member
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				event_target:agressor = {
					strength_ratio = {
						tag = this
						ratio < 0.8
					}
				}
			}
		}
	}
}
# Agressors response to RIO-Pact members intervening - occours aproximately 20 days after the war starts
country_event = {
	id = USA.8
	title = USA.8.t
	desc = USA.8.d
	#picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	trigger = {
		any_country = {
			has_country_flag = RIO_Pact_War_Member
		}
	}
	
	
	#Go to war with RIO-Pact members
	option = { 
		name = USA.8.a

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
				is_in_faction = yes
			}
			modifier = {
				factor = 5
				strength_ratio = {
					tag = FROM
					ratio > 0.7
				}
			}
		}

		event_target:being_attacked = {
			every_country = {
				limit = { has_country_flag = RIO_Pact_War_Member }
				add_to_war = {
					targeted_alliance = PREV
					enemy = ROOT
				}
				clr_country_flag = RIO_Pact_War_Member
			}
		}
		
		# hidden_effect = {
			# news_event = { id = news.157 days = 2 }
		# }
	}

	#Back down & white peace RIO Pact members
	option = {
		name = USA.8.b

		ai_chance = { 
			factor = 10
			modifier = {
				factor = 10
				strength_ratio = {
					tag = USA
					ratio < 0.5
				}
				is_in_faction = no
			}			
		}
		event_target:being_attacked = { white_peace = event_target:agressor
			hidden_effect = {
				every_country = {
					limit = { has_country_flag = RIO_Pact_War_Member }
					clr_country_flag = RIO_Pact_War_Member
				}
			}
		}
	}
}

#MLS Cup
country_event = {
	id = USA.9
	title = USA.9.t
	desc = USA.9.d
	picture = GFX_MLS_2017
	
	fire_only_once = yes
	
	trigger = {
	or ={
		tag = USA
		tag = CAN
		}
		date > 2017.12.4
		date < 2017.12.14
	}
	
	option = {
		name = USA.9.a
		trigger = {
		tag = USA
		}
	}
	
	option = {
		name = USA.9.b
		trigger = {
		tag = CAN
		}
	}
}

#2020 Election 
#YEEZY 2020 GONNA RUN THE WHOLE ELECTION
country_event = {
	id = USA.10
	title = USA.10.t
	desc = USA.10.d
	picture = GFX_USA_Election_2020
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		date > 2020.11.1
		date < 2020.11.11
	}
	option = {
		name = USA.10.a
		set_country_flag = { flag = USA_democratic_votes value = 1 }
		set_country_flag = { flag = USA_republican_votes value = 1 }
		set_country_flag = { flag = USA_other_votes value = 1 }
		random_list = { #Alabama
			62 = { modify_country_flag = { flag = USA_republican_votes value = 9 } }
			34 = { modify_country_flag = { flag = USA_democratic_votes value = 9 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 9 } }
		}
		random_list = { #Alaska
			51 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			28 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			21 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Arizona
			49 = { modify_country_flag = { flag = USA_republican_votes value = 11 } }
			45 = { modify_country_flag = { flag = USA_democratic_votes value = 11 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 11 } }
		}
		random_list = { #Arkansas
			61 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			34 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #California
			32 = { modify_country_flag = { flag = USA_republican_votes value = 55 } }
			62 = { modify_country_flag = { flag = USA_democratic_votes value = 55 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 55 } }
		}
		random_list = { #Colorado
			43 = { modify_country_flag = { flag = USA_republican_votes value = 9 } }
			49 = { modify_country_flag = { flag = USA_democratic_votes value = 9 } }
			8 = { modify_country_flag = { flag = USA_other_votes value = 9 } }
		}
		random_list = { #Connecticut
			41 = { modify_country_flag = { flag = USA_republican_votes value = 7 } }
			55 = { modify_country_flag = { flag = USA_democratic_votes value = 7 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 7 } }
		}
		random_list = { #Delaware
			42 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			53 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #DC
			4 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			91 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Florida
			49 = { modify_country_flag = { flag = USA_republican_votes value = 29 } }
			48 = { modify_country_flag = { flag = USA_democratic_votes value = 29 } }
			3 = { modify_country_flag = { flag = USA_other_votes value = 29 } }
		}
		random_list = { #Georgia
			51 = { modify_country_flag = { flag = USA_republican_votes value = 16 } }
			46 = { modify_country_flag = { flag = USA_democratic_votes value = 16 } }
			3 = { modify_country_flag = { flag = USA_other_votes value = 16 } }
		}
		random_list = { #Hawaii
			29 = { modify_country_flag = { flag = USA_republican_votes value = 4 } }
			61 = { modify_country_flag = { flag = USA_democratic_votes value = 4 } }
			10 = { modify_country_flag = { flag = USA_other_votes value = 4 } }
		}
		random_list = { #Idaho
			59 = { modify_country_flag = { flag = USA_republican_votes value = 4 } }
			28 = { modify_country_flag = { flag = USA_democratic_votes value = 4 } }
			13 = { modify_country_flag = { flag = USA_other_votes value = 4 } }
		}
		random_list = { #Illinois
			39 = { modify_country_flag = { flag = USA_republican_votes value = 20 } }
			56 = { modify_country_flag = { flag = USA_democratic_votes value = 20 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 20 } }
		}
		random_list = { #Indiana
			57 = { modify_country_flag = { flag = USA_republican_votes value = 11 } }
			38 = { modify_country_flag = { flag = USA_democratic_votes value = 11 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 11 } }
		}
		random_list = { #Iowa
			51 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			42 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			7 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #Kansas
			57 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			37 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #Kentucky
			63 = { modify_country_flag = { flag = USA_republican_votes value = 8 } }
			33 = { modify_country_flag = { flag = USA_democratic_votes value = 8 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 8 } }
		}
		random_list = { #Louisiana
			58 = { modify_country_flag = { flag = USA_republican_votes value = 8 } }
			39 = { modify_country_flag = { flag = USA_democratic_votes value = 8 } }
			3 = { modify_country_flag = { flag = USA_other_votes value = 8 } }
		}
		random_list = { #Maine
			45 = { modify_country_flag = { flag = USA_republican_votes value = 4 } }
			48 = { modify_country_flag = { flag = USA_democratic_votes value = 4 } }
			8 = { modify_country_flag = { flag = USA_other_votes value = 4 } }
		}
		random_list = { #Maryland
			34 = { modify_country_flag = { flag = USA_republican_votes value = 10 } }
			60 = { modify_country_flag = { flag = USA_democratic_votes value = 10 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 10 } }
		}
		random_list = { #Massachusetts
			33 = { modify_country_flag = { flag = USA_republican_votes value = 11 } }
			60 = { modify_country_flag = { flag = USA_democratic_votes value = 11 } }
			7 = { modify_country_flag = { flag = USA_other_votes value = 11 } }
		}
		random_list = { #Michigan
			48 = { modify_country_flag = { flag = USA_republican_votes value = 16 } }
			47 = { modify_country_flag = { flag = USA_democratic_votes value = 16 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 16 } }
		}
		random_list = { #Minnesota
			45 = { modify_country_flag = { flag = USA_republican_votes value = 10 } }
			47 = { modify_country_flag = { flag = USA_democratic_votes value = 10 } }
			8 = { modify_country_flag = { flag = USA_other_votes value = 10 } }
		}
		random_list = { #Mississippi
			58 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			40 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			2 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #Missouri
			57 = { modify_country_flag = { flag = USA_republican_votes value = 10 } }
			38 = { modify_country_flag = { flag = USA_democratic_votes value = 10 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 10 } }
		}
		random_list = { #Montana
			56 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			36 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			8 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Nebraska
			59 = { modify_country_flag = { flag = USA_republican_votes value = 5 } }
			34 = { modify_country_flag = { flag = USA_democratic_votes value = 5 } }
			7 = { modify_country_flag = { flag = USA_other_votes value = 5 } }
		}
		random_list = { #Nevada
			46 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			48 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #New Hampshire
			47 = { modify_country_flag = { flag = USA_republican_votes value = 4 } }
			47 = { modify_country_flag = { flag = USA_democratic_votes value = 4 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 4 } }
		}
		random_list = { #New Jersey
			41 = { modify_country_flag = { flag = USA_republican_votes value = 14 } }
			55 = { modify_country_flag = { flag = USA_democratic_votes value = 14 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 14 } }
		}
		random_list = { #New Mexico
			40 = { modify_country_flag = { flag = USA_republican_votes value = 5 } }
			49 = { modify_country_flag = { flag = USA_democratic_votes value = 5 } }
			11 = { modify_country_flag = { flag = USA_other_votes value = 5 } }
		}
		random_list = { #New York
			36 = { modify_country_flag = { flag = USA_republican_votes value = 29 } }
			59 = { modify_country_flag = { flag = USA_democratic_votes value = 29 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 29 } }
		}
		random_list = { #North Carolina
			50 = { modify_country_flag = { flag = USA_republican_votes value = 15 } }
			46 = { modify_country_flag = { flag = USA_democratic_votes value = 15 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 15 } }
		}
		random_list = { #North Dakota
			63 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			27 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			10 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Ohio
			52 = { modify_country_flag = { flag = USA_republican_votes value = 18 } }
			44 = { modify_country_flag = { flag = USA_democratic_votes value = 18 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 18 } }
		}
		random_list = { #Oklahoma
			65 = { modify_country_flag = { flag = USA_republican_votes value = 7 } }
			29 = { modify_country_flag = { flag = USA_democratic_votes value = 7 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 7 } }
		}
		random_list = { #Oregon
			39 = { modify_country_flag = { flag = USA_republican_votes value = 7 } }
			50 = { modify_country_flag = { flag = USA_democratic_votes value = 7 } }
			11 = { modify_country_flag = { flag = USA_other_votes value = 7 } }
		}
		random_list = { #Pennsylvania
			49 = { modify_country_flag = { flag = USA_republican_votes value = 20 } }
			48 = { modify_country_flag = { flag = USA_democratic_votes value = 20 } }
			3 = { modify_country_flag = { flag = USA_other_votes value = 20 } }
		}
		random_list = { #Rhode Island
			39 = { modify_country_flag = { flag = USA_republican_votes value = 4 } }
			54 = { modify_country_flag = { flag = USA_democratic_votes value = 4 } }
			7 = { modify_country_flag = { flag = USA_other_votes value = 4 } }
		}
		random_list = { #South Carolina
			55 = { modify_country_flag = { flag = USA_republican_votes value = 9 } }
			41 = { modify_country_flag = { flag = USA_democratic_votes value = 9 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 9 } }
		}
		random_list = { #South Dakota
			62 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			32 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Tennessee
			61 = { modify_country_flag = { flag = USA_republican_votes value = 11 } }
			35 = { modify_country_flag = { flag = USA_democratic_votes value = 11 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 11 } }
		}
		random_list = { #Texas
			52 = { modify_country_flag = { flag = USA_republican_votes value = 38 } }
			43 = { modify_country_flag = { flag = USA_democratic_votes value = 38 } }
			5 = { modify_country_flag = { flag = USA_other_votes value = 38 } }
		}
		random_list = { #Utah
			46 = { modify_country_flag = { flag = USA_republican_votes value = 6 } }
			28 = { modify_country_flag = { flag = USA_democratic_votes value = 6 } }
			16 = { modify_country_flag = { flag = USA_other_votes value = 6 } }
		}
		random_list = { #Vermont
			30 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			56 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			14 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		random_list = { #Virginia
			44 = { modify_country_flag = { flag = USA_republican_votes value = 13 } }
			50 = { modify_country_flag = { flag = USA_democratic_votes value = 13 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 13 } }
		}
		random_list = { #Washington
			38 = { modify_country_flag = { flag = USA_republican_votes value = 12 } }
			55 = { modify_country_flag = { flag = USA_democratic_votes value = 12 } }
			8 = { modify_country_flag = { flag = USA_other_votes value = 12 } }
		}
		random_list = { #West Virginia
			69 = { modify_country_flag = { flag = USA_republican_votes value = 5 } }
			27 = { modify_country_flag = { flag = USA_democratic_votes value = 5 } }
			4 = { modify_country_flag = { flag = USA_other_votes value = 5 } }
		}
		random_list = { #Wisconsin
			47 = { modify_country_flag = { flag = USA_republican_votes value = 10 } }
			47 = { modify_country_flag = { flag = USA_democratic_votes value = 10 } }
			6 = { modify_country_flag = { flag = USA_other_votes value = 10 } }
		}
		random_list = { #Wyoming
			67 = { modify_country_flag = { flag = USA_republican_votes value = 3 } }
			22 = { modify_country_flag = { flag = USA_democratic_votes value = 3 } }
			11 = { modify_country_flag = { flag = USA_other_votes value = 3 } }
		}
		if = { #If the Republican Party wins
			limit = {
				has_country_flag = { flag = USA_republican_votes value > 270 }
			}
			country_event = {
				days = 1
				id = USA.11
			}
		}
		if = { #If the Democratic Party wins
			limit = {
				has_country_flag = { flag = USA_democratic_votes value > 270 }
			}
			country_event = {
				days = 1
				id = USA.12
			}
		}
		if = { #If the third party wins
			limit = {
				has_country_flag = { flag = USA_other_votes value > 270 }
			}
			country_event = {
				days = 1
				id = USA.13
			}
		}
		if = { #If none got the required votes
			limit = {
				AND = {
					has_country_flag = { flag = USA_republican_votes value < 270 }
					has_country_flag = { flag = USA_democratic_votes value < 270 }
					has_country_flag = { flag = USA_other_votes value < 270 }
				}
			}
			country_event = {
				days = 1
				id = USA.14
			}
		}
	}
}

#Republican Victory in 2020
country_event = {
	id = USA.11
	title = USA.11.t
    desc = USA.11.d
	picture = GFX_Trump_Inaug
	
	is_triggered_only = yes
	
	option = {
        name = USA.11.a
    }
}

#Democratic Victory in 2020
country_event = {
	id = USA.12
	title = USA.12.t
    desc = USA.12.d
	picture = GFX_Trump_Inaug
	
	is_triggered_only = yes
	
	option = {
        name = USA.12.a
    }
}

#Third Party Victory in 2020
country_event = {
	id = USA.13
	title = USA.13.t
    desc = USA.13.d
	picture = GFX_Trump_Inaug
	
	is_triggered_only = yes
	
	option = {
        name = USA.13.a
    }
}

#No one got enough votes
country_event = {
	id = USA.14
	title = USA.14.t
    desc = USA.14.d
	picture = GFX_Trump_Inaug
	
	is_triggered_only = yes
	
	option = {
        name = USA.14.a
    }
}