scripted_gui = {
	MLW_special_GUI = {
		window_name = "MLW_special_GUI_view"
		context_type = player_context
		parent_window_token = politics_tab
		dirty = MLW.refresh_AIO

		visible = { original_tag = MLW }

		effects = {
			MLW_special_GUI_view_button_click = {
				if = { limit = { NOT = { has_country_flag = MLW_view_special_GUI } } set_country_flag = MLW_view_special_GUI }
				else = { clr_country_flag = MLW_view_special_GUI }
			}
		}
	}

	MLW_AIO_main = {
		window_name = "MLW_AIO_main_menu"
		context_type = player_context
		parent_scripted_gui = MLW_special_GUI
		dirty = MLW.refresh_AIO

		visible = { has_country_flag = MLW_view_special_GUI }

		effects = {
			MLW_AIO_view_MZUZU_button_click = {
				if = { limit = { NOT = { has_country_flag = MLW_view_MZUZU_GUI } } set_country_flag = MLW_view_MZUZU_GUI }
				else = { clr_country_flag = MLW_view_MZUZU_GUI }
				clr_country_flag = MLW_view_SADC_GUI
			}
			MLW_AIO_view_SADC_button_click = {
				if = { limit = { NOT = { has_country_flag = MLW_view_SADC_GUI } } set_country_flag = MLW_view_SADC_GUI }
				else = { clr_country_flag = MLW_view_SADC_GUI }
				clr_country_flag = MLW_view_MZUZU_GUI
			}
		}
	}

	# WIP STUFF

	MLW_AIO_MZUZU_sales = {
		window_name = "MLW_AIO_MZUZU_sales_menu"
		context_type = player_context
		parent_scripted_gui = MLW_AIO_main
		dirty = MLW.refresh_AIO

		visible = { has_country_flag = MLW_view_MZUZU_GUI }

		properties = {
			MLW_AIO_MZUZU_continental_market_share_BAR = { frame = ROOT.AFRICA_MZ_market_share_frame }
			MLW_AIO_MZUZU_home_market_flag = { image = "[ROOT.GetFlag]" }
			MLW_AIO_MZUZU_home_market_share_BAR = { frame = ROOT.MLW_MZ_market_share_frame }
			MLW_AIO_MZUZU_clicker_select_FLAG = { image = "[?ROOT.MLW_MZ_tag_selected.GetFlag]" }
			MLW_AIO_MZUZU_allow_deficit_checkbox = { image = "[MLW_MZUZU_checkbox]" }
		}

		effects = {
			# CONTINENTAL PHASES BUTTONS
			MLW_AIO_MZUZU_continental_market_phase_1_button_click = {
				MLW_MZUZU_motors_phase_1 = yes
			}
			MLW_AIO_MZUZU_continental_market_phase_2_button_click = {
				MLW_MZUZU_motors_phase_2 = yes
			}
			MLW_AIO_MZUZU_continental_market_phase_3_button_click = {
				MLW_MZUZU_motors_phase_3 = yes
			}
			MLW_AIO_MZUZU_continental_market_phase_4_button_click = {
				MLW_MZUZU_motors_phase_4 = yes
			}
			MLW_AIO_MZUZU_continental_market_phase_5_button_click = {
				MLW_MZUZU_motors_phase_5 = yes
			}
			# PRODUCTION DISPLAYS
			MLW_AIO_MZUZU_decrease_factory_assign_button_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = -1 }
				MLW_MZ_assign_factory = yes
			}
			MLW_AIO_MZUZU_decrease_factory_assign_button_shift_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = -10 }
				MLW_MZ_assign_factory = yes
			}
			MLW_AIO_MZUZU_decrease_factory_assign_button_control_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = -100 }
				MLW_MZ_assign_factory = yes
			}
			MLW_AIO_MZUZU_increase_factory_assign_button_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = 1 }
				MLW_MZ_assign_factory = yes
			}
			MLW_AIO_MZUZU_increase_factory_assign_button_shift_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = 10 }
				MLW_MZ_assign_factory = yes
			}
			MLW_AIO_MZUZU_increase_factory_assign_button_control_click = {
				set_temp_variable = { MLW_MZUZU_factory_change = 100 }
				MLW_MZ_assign_factory = yes
			}
			# MALAWIAN MARKETS
			MLW_AIO_MZUZU_home_market_select_button_click = {
				MLW_MZ_home_market_target_effect = yes
			}
			# DECREASE ORDER BUTTON
			MLW_MZUZU_decrease_sales_button_click = {
				set_temp_variable = { MLW_MZ_sales_change = -1 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_decrease_sales_button_shift_click = {
				set_temp_variable = { MLW_MZ_sales_change = -10 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_decrease_sales_button_control_click = {
				set_temp_variable = { MLW_MZ_sales_change = -100 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_decrease_sales_button_alt_click = {
				set_temp_variable = { MLW_MZ_sales_change = -1000 }
				MLW_MZ_market_change_order_quantity = yes
			}
			# INCREASE ORDER BUTTON
			MLW_MZUZU_increase_sales_button_click = {
				set_temp_variable = { MLW_MZ_sales_change = 1 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_increase_sales_button_shift_click = {
				set_temp_variable = { MLW_MZ_sales_change = 10 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_increase_sales_button_control_click = {
				set_temp_variable = { MLW_MZ_sales_change = 100 }
				MLW_MZ_market_change_order_quantity = yes
			}
			MLW_MZUZU_increase_sales_button_alt_click = {
				set_temp_variable = { MLW_MZ_sales_change = 1000 }
				MLW_MZ_market_change_order_quantity = yes
			}
			# CONFIRM ORDER BUTTON
			MLW_MZUZU_confirm_changes_button_click = {
				MLW_MZ_send_invoices = yes
			}
			# CHECKBOX
			MLW_AIO_MZUZU_allow_deficit_checkbox_click = {
				if = {
					limit = { NOT = { has_country_flag = MLW_MZ_allow_deficit } }
					set_country_flag = MLW_MZ_allow_deficit
				}
				else = { clr_country_flag = MLW_MZ_allow_deficit }
				MLW_refresh_AIO = yes
			}
		}
	}
	MLW_AIO_MZUZU_market_list = {
		window_name = "MLW_AIO_MZUZU_sales_menu_GRID"
		context_type = player_context
		parent_scripted_gui = MLW_AIO_main
		dirty = MLW.refresh_AIO

		visible = { has_country_flag = MLW_view_MZUZU_GUI }

		properties = {
			MLW_possible_MZUZU_market_flag = { image = "[THIS.GetFlag]" }
			MLW_MZUZU_market_share_BAR = { frame = THIS.MLW_MZ_market_share_frame }
		}

		effects = {
			MLW_MZUZU_select_market_button_click = { MLW_MZUZU_market_target_effect = yes }
			MLW_MZUZU_buyout_button_click = { MLW_MZUZU_buyout_effect = yes }
			MLW_MZUZU_industrialise_button_click = { MLW_MZUZU_industrialise_effect = yes }
			MLW_MZUZU_purchase_land_button_click = { MLW_MZUZU_purchase_land_effect = yes }
		}

		triggers = {
			# BUYOUT COMPANIES
			MLW_MZUZU_buyout_button_visible = { MLW_MZUZU_buyout_button_visible_check = yes }
			MLW_MZUZU_buyout_button_click_enable = { MLW_MZUZU_buyout_button_enable_check = yes }
			# LEASE INDUSTRIES
			MLW_MZUZU_industrialise_button_visible = { MLW_MZUZU_industrialise_button_visible_check = yes }
			MLW_MZUZU_industrialise_button_click_enable = { MLW_MZUZU_industrialise_button_enable_check = yes }
			# BUYOUT LAND
			MLW_MZUZU_purchase_land_button_visible = { MLW_MZUZU_purchase_land_button_visible_check = yes }
			MLW_MZUZU_purchase_land_button_click_enable = { MLW_MZUZU_purchase_land_button_enable_check = yes }
		}

		dynamic_lists = {
			MLW_AIO_MZUZU_possible_markets = {
				change_scope = yes
				array = MLW.MZUZU_markets
				entry_container = "MLW_tag_entry_MZUZU"
			}
		}
	}
	MLW_AIO_SADC_trade = {
		window_name = "MLW_AIO_SADC_trade_menu"
		context_type = player_context
		parent_scripted_gui = MLW_AIO_main
		dirty = MLW.refresh_AIO

		visible = { has_country_flag = MLW_view_SADC_GUI }

		properties = {
			MLW_AIO_SADC_clicker_select_FLAG = { image = "[?ROOT.SADC_tag_selected.GetFlag]" }
			MLW_AIO_SADC_CONSUMER_checkbox = { image = "[MLW_SADC_CONSUMER_checkbox]" }
			MLW_AIO_SADC_LUXURY_checkbox = { image = "[MLW_SADC_LUXURY_checkbox]" }
			MLW_AIO_SADC_goods_type_toggle = { image = "[MLW_SADC_GOODS_toggle]" }
		}

		triggers = {
			MLW_SADC_decrease_import_button_click_enabled = {
				MLW_SADC_can_decrease_imports = yes
				MLW_SADC_not_importing_from_self = yes
			}
			MLW_SADC_increase_import_button_click_enabled = {
				MLW_SADC_can_increase_imports = yes
				MLW_SADC_not_importing_from_self = yes
			}
			MLW_SADC_confirm_changes_button_click_enabled = { MLW_SADC_not_importing_from_self = yes }
		}

		effects = {
			MLW_AIO_SADC_CONSUMER_checkbox_click = {
				if = {
					limit = { NOT = { has_country_flag = SADC_use_consumer_goods } }
					set_country_flag = SADC_use_consumer_goods
				}
				else = { clr_country_flag = SADC_use_consumer_goods }
				MLW_refresh_AIO = yes
			}
			MLW_AIO_SADC_LUXURY_checkbox_click = {
				if = {
					limit = { NOT = { has_country_flag = SADC_use_luxury_goods } }
					set_country_flag = SADC_use_luxury_goods
				}
				else = { clr_country_flag = SADC_use_luxury_goods }
				MLW_refresh_AIO = yes
			}
			MLW_AIO_SADC_goods_type_toggle_click = {
				if = {
					limit = { NOT = { has_country_flag = SADC_luxury_import_FLAG } }
					set_country_flag = SADC_luxury_import_FLAG
				}
				else = { clr_country_flag = SADC_luxury_import_FLAG }
				MLW_refresh_AIO = yes
			}

			MLW_SADC_confirm_changes_button_click = { MLW_SADC_confirm_import_effect = yes }

			MLW_SADC_decrease_import_button_click = {
				set_temp_variable = { MLW_SADC_imports_change = -1000 }
				MLW_SADC_change_goods_import = yes
			}
			MLW_SADC_decrease_import_button_shift_click = {
				set_temp_variable = { MLW_SADC_imports_change = -10000 }
				MLW_SADC_change_goods_import = yes
			}
			MLW_SADC_decrease_import_button_control_click = {
				set_temp_variable = { MLW_SADC_imports_change = -50000 }
				MLW_SADC_change_goods_import = yes
			}

			MLW_SADC_increase_import_button_click = {
				set_temp_variable = { MLW_SADC_imports_change = 1000 }
				MLW_SADC_change_goods_import = yes
			}
			MLW_SADC_increase_import_button_shift_click = {
				set_temp_variable = { MLW_SADC_imports_change = 10000 }
				MLW_SADC_change_goods_import = yes
			}
			MLW_SADC_increase_import_button_control_click = {
				set_temp_variable = { MLW_SADC_imports_change = 50000 }
				MLW_SADC_change_goods_import = yes
			}
		}
	}
	MLW_AIO_SADC_trade_list = {
		window_name = "MLW_AIO_SADC_trade_menu_GRID"
		context_type = player_context
		parent_scripted_gui = MLW_AIO_main
		dirty = MLW.refresh_AIO

		visible = { has_country_flag = MLW_view_SADC_GUI }

		properties = {
			SADC_member_flag = { image = "[THIS.GetFlag]" }
		}

		dynamic_lists = {
			MLW_AIO_SADC_possible_importers = {
				change_scope = yes
				array = global.SADC_member
				entry_container = "SADC_member_tag_entry_TRADE"
			}
		}

		effects = {
			SADC_select_market_button_click = { SADC_import_target_effect = yes }
			# SADC_fund_RESOURCES_button_click = { SADC_fund_resources_effect = yes }
			# SADC_fund_CONSTRUCTION_button_click = { SADC_fund_construction_effect = yes }
		}
	}
}