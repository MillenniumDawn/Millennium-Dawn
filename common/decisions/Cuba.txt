#Medical Brigades
# Support for subversives
CUB_ter_defence_category ={

	CUB_ter_oboronaup_start = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 854 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}

	CUB_ter_oboronaup = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 855 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}
}
CUB_blockade_fight_category ={

	CUB_attract_rc = {
		days_remove = 45
		fire_only_once = yes
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision attract_rc"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
			}

		}
	CUB_un = {
		days_remove = 45
		fire_only_once = yes
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CUB_unt"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
			}
		}
	CUB_us_citizens_propoganda = {
		days_remove = 45
		fire_only_once = yes
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_us_citizens_propoganda"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
			}
		}
	CUB_cuban_us = {
		days_remove = 45
		fire_only_once = yes
		cost = 50
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_cuban_us"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
			}
		}
	CUB_smi = {
		days_remove = 45
		fire_only_once = yes
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_smi "
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
			}
		}
	CUB_buisness = {
		days_remove = 45
		fire_only_once = yes
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_buisness"
			set_temp_variable = { modify_blockade = -5 }
			modify_blockade_support = yes
					}
				}
		CUB_eu = {
			days_remove = 45
			fire_only_once = yes
			cost = 100
			allowed = { original_tag = CUB }
			ai_will_do = { factor = 355 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: CUB_buisness"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
					}
				}
		CUB_us_final = {
		days_remove = 45
		fire_only_once = yes
		cost = 150
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
        visible = {
			check_variable = { CUB.blockade < 30 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_buisness"
			set_temp_variable = { modify_blockade = -5 }
			remove_ideas = CUB_idea_blockade
		modify_blockade_support = yes
			}
		}
	}

CUB_internal_support_category = {

	CUB_arrest_dissidents = {
		icon = GFX_decision_oppression

		cost = 100

		visible = {
			original_tag = CUB
		}

		days_re_enable = 30

		complete_effect = {
			add_to_variable = { var = cub_subv_threat value = -10 }
			custom_effect_tooltip = cub_modify_subv_support_m10_tt
			#CUB_modify_subv_support= yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}

	CUB_release_dissidents = {
		icon = GFX_decision_generic_political_discourse
		cost = 100
		visible = {
			original_tag = CUB
		}
		days_re_enable = 30
		complete_effect = {
				add_to_variable = {
					var = cub_subv_threat
					value = 15
				}
				clamp_variable = {
					var = cub_subv_threat
					min = 0
					max = 100
				}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_communist_cadres_opinion = yes
		set_country_flag = dissidents_released
		log = "[GetDateText]: [This.GetName]: decision release_dissidents executed"
	}

	CUB_mobilize_cdrs = {
		icon = GFX_decision_oppression
		cost = 100
		visible = {
			has_country_flag = CUB_CDR_Mobilize
		}
		days_re_enable = 30
		complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			clr_country_flag = dissidents_released
			log = "[GetDateText]: [This.GetName]: decision arrest_dissidents executed"
		}
	}
}
#The Blockade

CUB_counter_blockade_category = {

#Completed after USA Relations in focus tree

	CUB_blockade_politicalsupport = {
	
		icon = GFX_decision_oppression

		visible = {
			original_tag = CUB
			#hidden_trigger = {
			#	has_country_flag = CUB_Blockade_Desc
			#	check_variable = { var_blockadecubapolitics < 1 }
			#}	
		}
	
        cost = 50
		days_re_enable = 90
		
		ai_will_do = {
			factor = 1
		}

    	complete_effect = {
			hidden_effect = {
			
			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
            USA = {
				add_political_power = -100
				}
			}
			
	 	}
	}
	CUB_blockade_tradewith_china = {
	
		icon = GFX_decision_oppression

		visible = {
			original_tag = CUB
			#hidden_trigger = {
			#	has_country_flag = CUB_Blockade_Desc
			#	check_variable = { var_blockadecubapolitics < 1 }
			#}
		}

        cost = 50
		days_re_enable = 90

		ai_will_do = {
			factor = 1
		}

    	complete_effect = {
			hidden_effect = {

			}
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes

	 	}
	}


#ALBA Candidates
CUB_ALBA_candidate_category = {

	CUB_bolivia_invite = {
		cost = 100
		visible = {
			original_tag = CUB
			original_tag = VEN
		has_country_flag = ALBA_member
		}
	}
}


