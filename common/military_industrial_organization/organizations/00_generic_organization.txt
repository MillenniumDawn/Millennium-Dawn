
	#####################
	###  ##  #  # # #  ## 
	 #  #  # ## # # # #   
	 #  #### # ## ##   #  
	 #  #  # #  # # #   # 
	 #  #  # #  # # # ## 
	#####################

# GENERIC TANK MANUFACTURER

generic_tank_organization = {

	equipment_type = { armor }
	research_categories = { armor }
	icon = GFX_idea_generic_tank_manufacturer_1

	allowed = { 
		NOT = { OR = { tag = GER tag = ENG tag = SOV tag = FRA tag = ITA tag = JAP tag = USA tag = BEL tag = CZE } }
		NOT = {
			AND = {
				OR = { tag = AST tag = SAF tag = NZL tag = CAN }
				has_dlc = "Together for Victory"
			}
		}
		NOT = {
			AND = {
				OR = {
					is_literally_china = yes
					tag = MAN
				}
				has_dlc = "Waking the Tiger"
			}
		}
		NOT = {
			AND = {
				OR = { tag = MEX }
				has_dlc = "Man the Guns"
			}
		}
		NOT = {
			AND = {
				OR = { tag = BUL tag = GRE tag = TUR }
				has_dlc = "Battle for the Bosporus"
			}
		}
		NOT = {
			AND = {
				OR = { tag = ETH tag = SWI }
				has_dlc = "By Blood Alone"
			}
		}
		NOT = {
			AND = {
				OR = { tag = FIN }
				has_dlc = "Arms Against Tyranny"
			}
		}
	}


	tree_header_text = {
		text = tank_construction_header
		x = 3
	}

	tree_header_text = {
		text = equipment_and_specilization_header
		x = 7
	}

	
	initial_trait = {
		name = standardized_tank_production
		equipment_bonus = {
			armor_value = -0.05
			defense =-0.05
		}
		production_bonus = {
			production_cost_factor = -0.1
		}
	}

	trait = {
		token = simplified_suspension_trait
		name = simplified_suspension_trait

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		equipment_bonus = {
			reliability = 0.05
		}
		position = { x=1 y=0 }
	}
	
	trait = {
		token = crew_ergonomics_trait
		name = crew_ergonomics_trait

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		equipment_bonus = {
			maximum_speed = 0.02
			defense = 0.02
		}
		position = { x=4 y=0 }
		relative_position_id = simplified_suspension_trait
	}
	
	trait = {
		token = improved_tracks_trait
		name = improved_tracks_trait
		parent = { simplified_suspension_trait }

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		equipment_bonus = {
			reliability = 0.05
			maximum_speed = 0.05
		}
		position = { x=0 y=2 }
		relative_position_id = simplified_suspension_trait
	}

	trait = {
		token = command_upgrades_trait
		name = command_upgrades_trait
		parent = { crew_ergonomics_trait }

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		equipment_bonus = {
			breakthrough = 0.05
		}
		position = { x=0 y=2 }
		relative_position_id = crew_ergonomics_trait
	}
	
	trait = {
		token = standardized_components_trait
		name = standardized_components_trait
		parent = { simplified_suspension_trait crew_ergonomics_trait }

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=2 y=1 }
		relative_position_id = simplified_suspension_trait

		production_bonus = {
			production_efficiency_gain_factor = 0.15
			production_resource_need_factor = -0.15
		}
	}

	trait = {
		token = improved_tooling_trait
		name = improved_tooling_trait
		parent = { improved_tracks_trait standardized_components_trait command_upgrades_trait }

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=0 y=2 }
		relative_position_id = standardized_components_trait

		production_bonus = {
			production_efficiency_cap_factor = 0.1
		}
	}

	trait = {
		token = mass_production_trait
		name = mass_production_trait
		parent = { improved_tooling_trait }
		mutually_exclusive = { quality_improvements_trait }
		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=-1 y=1 }
		relative_position_id = improved_tooling_trait

		production_bonus = {
			production_cost_factor = -0.1
			production_efficiency_gain_factor = 0.1
		}
	}

	trait = {
		token = quality_improvements_trait
		name = quality_improvements_trait
		parent = { improved_tooling_trait }
		mutually_exclusive = { mass_production_trait }
		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=1 y=1 }
		relative_position_id = improved_tooling_trait

		equipment_bonus = {
			armor_value = 0.1
			defense = 0.1
		}
	}

	trait = {
		token = defensive_equipment_trait
		name = defensive_equipment_trait

		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		equipment_bonus = {
			soft_attack = 0.02
			defense = 0.02
		}
		position = { x=2 y=0 }
		relative_position_id = crew_ergonomics_trait
	}

	trait = {
		token = long_barreled_guns_trait
		name = long_barreled_guns_trait
		parent = { crew_ergonomics_trait defensive_equipment_trait }
		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=0 y=2 }
		relative_position_id = defensive_equipment_trait

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.05
		}
	}

	trait = {
		token = anti_tank_specialization_trait
		name = anti_tank_specialization_trait
		parent = { long_barreled_guns_trait }
		mutually_exclusive = { infantry_support_tanks_trait }
		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=-1 y=2 }
		relative_position_id = long_barreled_guns_trait

		equipment_bonus = {
			armor_value = 0.05
			hard_attack = 0.05
		}
	}

	trait = {
		token = infantry_support_tanks_trait
		name = infantry_support_tanks_trait
		parent = { long_barreled_guns_trait }
		mutually_exclusive = { anti_tank_specialization_trait }
		limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }

		position = { x=1 y=2 }
		relative_position_id = long_barreled_guns_trait

		equipment_bonus = {
			soft_attack = 0.05
		}

		production_bonus = {
			production_cost_factor = -0.05
		}
	}
}



	# INFANTRY TANK DESIGNER 


infantry_tank_organization = {

	equipment_type = { armor }
	research_categories = { armor }
	icon = GFX_idea_generic_tank_manufacturer_3

	allowed = { 
		always = no # Archetype only - countries using it have their own verisons 
	}

	tree_header_text = {
		text = light_tank_department
		x = 0.1
	}

	tree_header_text = {
		text = medium_tank_department
		x = 4
	}

	tree_header_text = {
		text = heavy_tank_department
		x = 8
	}

	initial_trait = {
		name = infantry_tanks
		limit_to_equipment_type = { 
			armor
		}
		equipment_bonus = {
			armor_value = 0.05
			maximum_speed =-0.05
		}
		production_bonus = {
			#production_cost_factor = -0.1
		}
		#organization_modifier = {
		#	military_industrial_organization_research_bonus = 0.05
		#}
	}

	trait = {
		token = light_tank_improvments_trait
		name = light_tank_improvments_trait

		limit_to_equipment_type = { light_tank_chassis }

		#organization_modifier = {
		#	military_industrial_organization_funds_gain = 0.5
		#}
		equipment_bonus = {
			soft_attack = 0.05
			hard_attack = 0.05
			armor_value = 0.05
		}
		production_bonus = {
			#production_efficiency_cap_factor = 0.1
		}
		position = { x=0 y=0 }

	}
	trait = {
		token = medium_tank_improvments_trait
		name = medium_tank_improvments_trait

		limit_to_equipment_type = { medium_tank_chassis }

		equipment_bonus = {
			soft_attack = 0.05
			hard_attack = 0.05
			armor_value = 0.05
		}
		production_bonus = {
			#production_efficiency_cap_factor = 0.1
		}
		position = { x=4 y=0 }

	}
	trait = {
		token = heavy_tank_improvments_trait
		name = heavy_tank_improvments_trait

		limit_to_equipment_type = { heavy_tank_chassis }

		equipment_bonus = {
			soft_attack = 0.02
			hard_attack = 0.05
			armor_value = 0.05
		}
		production_bonus = {
			#production_efficiency_cap_factor = 0.1
		}
		position = { x=8 y=0 }

	}

	trait = {
		token = production_division_trait
		name = production_division_trait
		parent = { light_tank_improvments_trait medium_tank_improvments_trait }

		#limit_to_equipment_type = { armor }

		equipment_bonus = {
			
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}
		position = { x=2 y=1 }

	}

	trait = {
		token = standardized_turrets_trait
		name = standardized_turrets_trait
		parent = { production_division_trait }

		#limit_to_equipment_type = { armor }

		equipment_bonus = {
			soft_attack = 0.05
			defense = 0.05 
		}
		production_bonus = {
			production_cost_factor = -0.1
		}
		position = { x=2 y=2 }

	}

	trait = {
		token = improved_wheel_protection_trait
		name = improved_wheel_protection_trait
		parent = { light_tank_improvments_trait }

		limit_to_equipment_type = { light_tank_chassis }

		equipment_bonus = {
			reliability = 0.05
			defense = 0.1
		}
		
		position = { x=0 y=2 }

	}

	trait = {
		token = gun_improvements_trait
		name = gun_improvements_trait
		parent = { medium_tank_improvments_trait }

		limit_to_equipment_type = { medium_tank_chassis heavy_tank_chassis }

		equipment_bonus = {
			hard_attack = 0.05
			ap_attack = 0.1
		}
		
		position = { x=4 y=2 }

	}

	trait = {
		token = speed_improvements_trait
		name = speed_improvements_trait
		parent = { improved_wheel_protection_trait gun_improvements_trait }
		num_parents_needed = 1
		#limit_to_equipment_type = { medium_tank_chassis heavy_tank_chassis }
		mutually_exclusive= { improved_protection_trait }
		equipment_bonus = {
			maximum_speed = 0.1
			breakthrough = 0.1
		}
		
		position = { x=1 y=4 }

	}

	trait = {
		token = improved_protection_trait
		name = improved_protection_trait
		parent = { improved_wheel_protection_trait gun_improvements_trait }
		num_parents_needed = 1
		mutually_exclusive= { speed_improvements_trait }
		#limit_to_equipment_type = { medium_tank_chassis heavy_tank_chassis }

		equipment_bonus = {
			armor_value = 0.1
			defense = 0.1
		}
		
		position = { x=3 y=4 }

	}
	trait = {
		token = modular_construction_trait
		name = modular_construction_trait
		parent = { medium_tank_improvments_trait }
		#limit_to_equipment_type = { medium_tank_chassis heavy_tank_chassis }

		production_bonus = {
			production_efficiency_cap_factor = 0.1
			production_efficiency_gain_factor = 0.1
		}

		position = { x=6 y=2 }

	}

	trait = {
		token = light_tank_spezialization_trait
		name = light_tank_spezialization_trait
		parent = { modular_construction_trait }
		limit_to_equipment_type = { light_tank_chassis }
		mutually_exclusive= { medium_tank_spezialization_trait heavy_tank_spezialization_trait }

		production_bonus = {
			production_cost_factor = -0.1
		}

		position = { x=5 y=4 }

	}
	trait = {
		token = medium_tank_spezialization_trait
		name = medium_tank_spezialization_trait
		parent = { modular_construction_trait }
		limit_to_equipment_type = { medium_tank_chassis }
		mutually_exclusive= { light_tank_spezialization_trait heavy_tank_spezialization_trait }

		production_bonus = {
			production_cost_factor = -0.1
		}

		position = { x=6 y=4 }

	}

	trait = {
		token = heavy_tank_spezialization_trait
		name = heavy_tank_spezialization_trait
		parent = { modular_construction_trait }
		limit_to_equipment_type = { heavy_tank_chassis }
		mutually_exclusive= { light_tank_spezialization_trait medium_tank_spezialization_trait }

		production_bonus = {
			production_cost_factor = -0.1
		}

		position = { x=7 y=4 }

	}


	
}

