add_namespace = comoros

# Loyalty Question
country_event = {
	id = comoros.1
	title = comoros.1.t
	desc = comoros.1.d
	picture = GFX_arab_spring_defection
	is_triggered_only = yes
	trigger = {
		original_tag = COM
	}

	option = {
		name = comoros.1.a
		log = "[GetDateText]: [This.GetName]: comoros.1.a executed"
		add_equipment_to_stockpile = {
			type = infantry_weapons1
			amount = 4000
			producer = SOV
		}
		add_ideas = generic_emerging_boost_idea2
		set_temp_variable = { percent_change = 5 }
		set_temp_variable = { tag_index = SYR }
		set_temp_variable = { influence_target = COM }
		change_influence_percentage = yes
		add_ideas = shia_movement
		hidden_effect = {
			create_country_leader = {
				name = "Ahmed Abdallah Mohamed Sambi"
				picture = "sambi_abdallah.dds"
				ideology = Autocracy
				traits = {
					emerging_Autocracy
				}
			}
		}
	}

	option = {
		name = comoros.1.b
		log = "[GetDateText]: [This.GetName]: comoros.1.b executed"
		add_equipment_to_stockpile = {
			type = infantry_weapons1
			amount = 4000
			producer = IRQ
		}
		add_ideas = generic_nationalist_boost_idea2
		set_temp_variable = { percent_change = 5 }
		set_temp_variable = { tag_index = IRQ }
		set_temp_variable = { influence_target = COM }
		change_influence_percentage = yes
		add_ideas = baath_movement
		hidden_effect = {
			create_country_leader = {
				name = "Said Ahmed Said Ali"
				picture = "said_ahmed.dds"
				ideology = Nat_Autocracy
				traits = {
					nationalist_Nat_Autocracy
				}
			}
		}
	}

}

# Comoros Offers a Union State
country_event = {
	id = comoros.2
	title = comoros.2.t
	desc = comoros.2.d
	picture = GFX_african_union

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.2.a
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = COM value < 30 }
				add = -60
			}
		}
		COM = {
			puppet = TNZ
		}
		log = "[GetDateText]: [This.GetName]: comoros.2.a executed"
	}

	option = {
		name = comoros.2.b
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = COM value > 30 }
				add = 10
			}
		}
		COM = {
			country_event = comoros.3
		}
		log = "[GetDateText]: [This.GetName]: comoros.1.b executed"
	}

	option = {
		name = comoros.2.c
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = COM value > 30 }
				add = 10
			}
		}
		COM = {
			create_faction = COM_TNZ_ALL
			COM = { add_to_faction = TNZ }
		}
		log = "[GetDateText]: [This.GetName]: comoros.1.c executed"
	}

}

# Tanzanian Backlash
country_event = {
	id = comoros.3
	title = comoros.3.t
	desc = comoros.3.d
	picture = GFX_african_union

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.3.a
		log = "[GetDateText]: [This.GetName]: comoros.3.a executed"
		TNZ = {
			puppet = COM
		}

		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = TNZ value < 30 }
				add = -60
			}
		}
	}

	option = {
		name = comoros.3.b
		log = "[GetDateText]: [This.GetName]: comoros.3.b executed"

		TNZ = {
			country_event = comoros.2
		}

		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = TNZ value > 30 }
				add = 10
			}
		}
	}
}

# The Referendum
country_event = {
	id = comoros.4
	title = comoros.4.t
	desc = comoros.4.d
	picture = GFX_ivory_coast_protest_supressed
	is_triggered_only = yes
	trigger = {
		original_tag = COM
	}

	option = {
		name = comoros.4.a
		log = "[GetDateText]: [This.GetName]: comoros.4.a executed"
		set_country_flag = COM_pro_fed
	}

	option = {
		name = comoros.4.b
		log = "[GetDateText]: [This.GetName]: comoros.4.b executed"
		set_country_flag = COM_anti_fed
	}

}

country_event = {
	id = comoros.5
	title = comoros.5.t
	desc = comoros.5.d
	picture = GFX_ivory_coast_protest_supressed

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.5.a
		trigger = { tag = FRA }
		log = "[GetDateText]: [This.GetName]: comoros.5.a executed"
	}

	option = {
		name = comoros.5.b
		trigger = { tag = MAD }
		log = "[GetDateText]: [This.GetName]: comoros.5.b executed"
	}
}

country_event = {
	id = comoros.6
	title = comoros.6.t
	desc = comoros.6.d
	picture = GFX_ETH_ELF

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.6.a
		log = "[GetDateText]: [This.GetName]: comoros.6.a executed"
		trigger = {
			tag = FRA
		}
		add_opinion_modifier = { target = COM modifier = drama }
		COM = {
			add_war_support = 0.10
		}
	}
}

country_event = {
	id = comoros.7
	title = comoros.7.t
	desc = comoros.7.d
	picture = GFX_handshake_black

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.7.a
		log = "[GetDateText]: [This.GetName]: comoros.7.a executed"
		trigger = {
			OR = {
				tag = FRA
				tag = CHI
			}
		}
	}
}

country_event = {
	id = comoros.8
	title = comoros.8.t
	desc = comoros.8.d
	picture = GFX_weapons_arms1
	is_triggered_only = yes
	trigger = {
		original_tag = COM
	}

	option = {
		name = comoros.8.a
		log = "[GetDateText]: [This.GetName]: comoros.8.a executed"
		SEN = {
			country_event = comoros.9
		}
		SUD = {
			country_event = comoros.9
		}
		TNZ = {
			country_event = comoros.9
		}
		FRA = {
			country_event = comoros.9
		}
		USA = {
			country_event = comoros.9
		}
		LBA = {
			country_event = comoros.9
		}
		country_event = { id = comoros.10 days = 20 }
	}
}

country_event = {
	id = comoros.9
	title = comoros.9.t
	desc = comoros.9.d
	picture = GFX_puntland_police_force_ev

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.9.a
		log = "[GetDateText]: [This.GetName]: comoros.9.a executed"
		COM = {
			add_manpower = 100
			add_equipment_to_stockpile = {
				type = infantry_weapons1
				amount = 1000
				producer = USA
			}
			set_country_flag = COM_got_support
		}
	}

	option = {
		name = comoros.9.b
		log = "[GetDateText]: [This.GetName]: comoros.9.b executed"
		add_opinion_modifier = { modifier = drama target = COM }
		reverse_add_opinion_modifier = { modifier = drama target = COM }
	}
}

country_event = {
	id = comoros.10
	title = comoros.10.t
	desc = comoros.10.d
	picture = GFX_puntland_police_force_ev

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.10.a
		log = "[GetDateText]: [This.GetName]: comoros.10.a executed"
		set_country_flag = COM_successful_operation
		add_stability = 0.05
	}
}

country_event = {
	id = comoros.11
	title = comoros.11.t
	desc = comoros.11.d
	picture = GFX_red_guards

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.11.a
		log = "[GetDateText]: [This.GetName]: comoros.11.a executed"
		FRA = {
			remove_state_core = 940
		}
	}
}

country_event = {
	id = comoros.12
	title = comoros.12.t
	desc = comoros.12.d
	picture = GFX_red_guards

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.12.a
		log = "[GetDateText]: [This.GetName]: comoros.12.a executed"
		940 = { transfer_state_to = COM }
	}

	option = {
		name = comoros.12.b
		log = "[GetDateText]: [This.GetName]: comoros.12.b executed"
		COM = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
			}
		}
	}
}

country_event = {
	id = comoros.13
	title = comoros.13.t
	desc = comoros.13.d
	picture = GFX_african_union

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.13.a
		ai_chance = {
			base = -50
			modifier = {
				has_opinion = { target = COM value < 30 }
				add = -60
			}
		}
		COM = {
			puppet = FRA
		}
		log = "[GetDateText]: [This.GetName]: comoros.13.a executed"
	}

	option = {
		name = comoros.13.b
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = COM value > 30 }
				add = 10
			}
		}
		COM = {
			country_event = comoros.14
		}
		log = "[GetDateText]: [This.GetName]: comoros.13.b executed"
	}

	option = {
		name = comoros.13.c
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = COM value > 30 }
				add = 10
			}
		}
		FRA = { add_to_faction = COM }
		log = "[GetDateText]: [This.GetName]: comoros.13.c executed"
	}

}

country_event = {
	id = comoros.14
	title = comoros.14.t
	desc = comoros.14.d
	picture = GFX_african_union

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.14.a
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = FRA value < 30 }
				add = -60
			}
		}
		FRA = {
			puppet = COM
		}
		log = "[GetDateText]: [This.GetName]: comoros.14.a executed"
	}

	option = {
		name = comoros.14.b
		ai_chance = {
			base = 50
			modifier = {
				has_opinion = { target = FRA value > 30 }
				add = 10
			}
		}
		TNZ = {
			country_event = comoros.13
		}
		log = "[GetDateText]: [This.GetName]: comoros.14.b executed"
	}

}

country_event = {
	id = comoros.15
	title = comoros.15.t
	desc = comoros.15.d
	picture = GFX_burkina_coast_protests

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.15.a
		log = "[GetDateText]: [This.GetName]: comoros.15.a executed"
	}
}

country_event = {
	id = comoros.16
	title = comoros.16.t
	desc = comoros.16.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_CAN_cptpp_trade_agreement
	option = {
		name = comoros.16.a
		log = "[GetDateText]: [This.GetName]: comoros.16.a executed"
		set_temp_variable = { int_investment_change = 12 }
		modify_international_investment_effect = yes
		set_temp_variable = { percent_change = 1 }
		set_temp_variable = { tag_index = ROOT }
		set_temp_variable = { influence_target = COM }
		change_influence_percentage = yes
		COM = {
			add_offsite_building = { type = industrial_complex level = 1 }
			country_event = { id = comoros.17 days = 1 }
		}

		ai_chance = { base = 1 }
	}
	option = {
		name = comoros.16.b
		log = "[GetDateText]: [This.GetName]: comoros.16.b executed"
		set_temp_variable = { percent_change = 3 }
		set_temp_variable = { tag_index = ROOT }
		set_temp_variable = { influence_target = COM }
		change_influence_percentage = yes
		set_temp_variable = { int_investment_change = 3 }
		modify_international_investment_effect = yes
		COM = {
			set_temp_variable = { debt_change = -10 }
			modify_debt_effect = yes
			country_event = { id = comoros.18 days = 1 }
		}

		ai_chance = { base = 1 }
	}
	option = {
		name = comoros.16.c
		log = "[GetDateText]: [This.GetName]: comoros.16.c executed"
		COM = {
			country_event = { id = comoros.19 days = 1 }
		}
		ai_chance = { base = 1 }
	}
}

country_event = {
	id = comoros.17
	title = comoros.17.t
	desc = comoros.17.d
	picture = GFX_CAN_cptpp_trade_agreement

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.17.a
		log = "[GetDateText]: [This.GetName]: comoros.17.a executed"
	}
}

country_event = {
	id = comoros.18
	title = comoros.18.t
	desc = comoros.18.d
	picture = GFX_CAN_cptpp_trade_agreement

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.18.a
		log = "[GetDateText]: [This.GetName]: comoros.18.a executed"
	}
}

country_event = {
	id = comoros.19
	title = comoros.19.t
	desc = comoros.19.d
	picture = GFX_CAN_cptpp_trade_agreement

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = comoros.19.a
		log = "[GetDateText]: [This.GetName]: comoros.19.a executed"
	}
}

# TODO: Add these events:
# 2003 February - Security forces say they have foiled a coup plot against President Assoumani.
# 2013 - Several people are detained, accused of plotting against the government.
# 2010 - Libyan soldiers take up duty in the presidential guard as ''trainers''.
# 2009 June - Yemenia Airways plane crashes off Comoros, killing all but one of 153 people on board. Comoran expatriates demonstrate in France after suggestions plane may have been faulty.
# 2005 April and November - Mount Karthala, one of the world's largest active volcanos, spews ash over Grande Comore. Thousands of villagers flee.
# 2019 21 April – Cyclone Kenneth causes several deaths in the Comoros.
# 2024 11 April: Thirty-eight prisoners escape from a prison in Moroni.[
# 2024 20 August: Comoros joins the World Trade Organization as its 165th member.
# 2024 13 September: President Assoumani is slightly injured after being stabbed at a funeral in Salimani. The suspect, a 24-year old soldier, is arrested but is subsequently found dead in his prison cell on 14 September.