##Author: Some Planet , Int = Ivan
#Changelog:
#Mexico Tree v0.1
focus_tree = {
	id = mexico
	country = {
		factor = 0
		modifier = {
			add = 25
			tag = MEX
		}
	}


	focus = {
		id = MEX_sedena
		icon = seneda
		x = 6
		y = 0
		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_sedena"
			add_political_power = 100
		}
		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = MEX_mexican_army
		icon = the_mexican_army
		relative_position_id = MEX_sedena
		x = 7
		y = 1

		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_army"
			army_experience = 15
			add_dynamic_modifier = {
    			modifier = MEX_the_mexican_army_idea   	
			}
		}
		ai_will_do = {
			factor = 0.7
		}
	}

	focus = { 
	id = MEX_millitary_investments
	icon = thompson_submachine_gun
		relative_position_id = MEX_mexican_army 
		x = 0
		y = 1 

		cost = 5

		prerequisite = { focus = MEX_mexican_army }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_millitary_investments"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_org_factor value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 0.25
				uses = 2
				category = Cat_INF
			}
			set_temp_variable = { treasury_change = -20 }
			modify_treasury_effect = yes
			
		}
		ai_will_do = {
			factor = 0.5
		}
	}
	focus = { 
	id = MEX_granjas_militares
	icon = soldier
		relative_position_id = MEX_millitary_investments 
		x = -2
		y = 1 

		cost = 10

		prerequisite = { focus = MEX_millitary_investments }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_granjas_militares"

			add_tech_bonus = {
				name = infantry_bonus
				bonus = 0.35
				uses = 1
				category = Cat_INF_WEP
			}
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.1
		}
	}
	focus = { 
	id = MEX_dgfave
	icon = soldiers2
		relative_position_id = MEX_granjas_militares 
		x = 0
		y = 1 

		cost = 10

		prerequisite = { focus = MEX_granjas_militares }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_dgfave"
			add_tech_bonus = {
				name = cnc_bonus
				bonus = 0.5
				uses = 1
				category = Cat_CnC
			}
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.7
		}
	}

	focus = { 
	id = MEX_xiuhcoatl
	icon = xiuhcoatl
		relative_position_id = MEX_mexican_army 
		x = 2
		y = 1

		cost = 10

		prerequisite = { focus = MEX_mexican_army }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_xiuhcoatl"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_org_factor value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.70
				uses = 1
				category = Cat_INF_WEP
			}
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.5
		}
	}
	

	focus = { 
	id = MEX_artillery_effort
	icon = artillery
		relative_position_id = MEX_xiuhcoatl 
		x = 0
		y = 1

		cost = 10

		prerequisite = { focus = MEX_xiuhcoatl }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_artillery_effort"
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 2
				category = Cat_ARTY
			}
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.1
		}
	}

	focus = { 
	id = MEX_dn_xi
	icon = dn_xi
		relative_position_id = MEX_millitary_investments 
		x = 0
		y = 1

		cost = 10

		prerequisite = { focus = MEX_millitary_investments }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_dn_xi"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_UTIL
			}
			set_temp_variable = { treasury_change = -40 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.35
		}
	}

	focus = { 
	id = MEX_vrc_tt_apc
	icon = vrc_tt
		relative_position_id = MEX_dn_xi 
		x = 0
		y = 1

		cost = 10

		prerequisite = { focus = MEX_dn_xi }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_vrc_tt_apc"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_org_factor value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap value = 0.2 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_APC
			}
			set_temp_variable = { treasury_change = -60 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.20
		}
	}	

	focus = { 
	id = MEX_seneda_vehicle
	icon = sedena_ifv
		relative_position_id = MEX_dn_xi 
		x = 2
		y = 1

		cost = 10

		prerequisite = { focus = MEX_dn_xi }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_seneda_vehicle"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_org_factor value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap value = 0.2 }
			add)
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_IFV
			}
			set_temp_variable = { treasury_change = -50 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0.40
		}
	}	
	focus = { 
	id = MEX_tank_program
	icon = tanks5
		relative_position_id = MEX_vrc_tt_apc 
		x = 1
		y = 1

		cost = 10

		prerequisite = { focus = MEX_vrc_tt_apc
						 focus = MEX_seneda_vehicle }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_tank_program"
			add_to_variable = { var = MEX_army_attack_factor value = 0.05 }
			add_to_variable = { var = MEX_core_defence_factor value = -0.05 }
			add_to_variable = { var = MEX_org_factor value = 0.05 }
			add_to_variable = { var = MEX_breakthrough_factor value = 0.05 }
			add_to_variable = { var = MEX_max_dig_in_factor value = 0.05 }
			add_to_variable = { var = MEX_special_forces_cap value = 0.2 }
			add_to_variable = { var = MEX_attrition value = -0.05 }
			custom_effect_tooltip = MEX_army_reforming_tooltip
			add_tech_bonus = {
				name = millitary_bonus
				bonus = 0.50
				uses = 1
				category = Cat_TANKS
			}
			set_temp_variable = { treasury_change = -100 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 0
		}
	}



	focus = {
		id = MEX_mexican_navy
		icon = the_mexican_navy
		
		relative_position_id = MEX_sedena
		x = 0
		y = 1
		
		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_navy"
			navy_experience = 15
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_modernize_frigates
		icon = frigates
		
		relative_position_id = MEX_mexican_navy
		x = -2
		y = 1
		
		cost = 10

		prerequisite = { focus = MEX_mexican_navy }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_modernize_frigates"
			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.50
				uses = 1
				category = Cat_FRIGATE
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_submarine_effort
		icon = submarines
		
		relative_position_id = MEX_mexican_navy
		x = 0
		y = 1
		
		cost = 10

		prerequisite = { focus = MEX_mexican_navy }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_submarine_effort"
			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.50
				uses = 1
				category = Cat_SUB
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_arm_Reformador
		icon = arm_Reformador
		
		relative_position_id = MEX_submarine_effort
		x = -1
		y = 1
		
		cost = 10

		prerequisite = { 
			focus = MEX_submarine_effort
		}
		prerequisite = {
			focus = MEX_modernize_frigates
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_submarine_effort"
			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.80
				uses = 1
				category = Cat_FRIGATE
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_build_dockyards
		icon = naval_industry
		
		relative_position_id = MEX_mexican_navy
		x = 2
		y = 1
		
		cost = 10

		prerequisite = { 
			focus = MEX_mexican_navy
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_build_dockyards"
			837 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			836 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			838 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			840 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			831 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_coastal_defences
		icon = coastal_fort	
		
		relative_position_id = MEX_build_dockyards
		x = 1
		y = 1
		
		cost = 10

		prerequisite = { 
			focus = MEX_build_dockyards
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_coastal_defences"
			837 = {
				add_building_construction = {
					type = coastal_bunker
					province = 10730
					level = 1
					instant_build = yes				
				}
			}
				
			838 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12810
					level = 1
					instant_build = yes					
				}
			}
			828 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12461
					level = 1
					instant_build = yes					
				}
			}
			840 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12715
					level = 1
					instant_build = yes	
				}
			}
			831 = {
				add_building_construction = {
					type = coastal_bunker
					province = 10895
					level = 1
					instant_build = yes	
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_unaprop
		icon = amphibious_assault	
		
		relative_position_id = MEX_build_dockyards
		x = -1
		y = 1
		
		cost = 10

		prerequisite = { 
			focus = MEX_build_dockyards
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_unaprop"
			add_ideas = {
				MEX_improved_marines_training
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	focus = {
		id = MEX_expand_the_naval_budget
		icon = amphibious_assault	
		
		relative_position_id = MEX_unaprop
		x = -1
		y = 1
		
		cost = 10

		prerequisite = { 
			focus = MEX_unaprop
		}
		prerequisite = { 
			focus = MEX_arm_Reformador
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_expand_the_naval_budget"
			add_ideas = {
				MEX_mexican_army
			}
		}
		ai_will_do = {
			factor = 0
		}
	}


	focus = { 
	id = MEX_mexican_air_force 
	icon = the_mexican_air_force
		relative_position_id = MEX_sedena 
		x = -5 
		y = 1 

		cost = 2

		prerequisite = { focus = MEX_sedena }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MEX_mexican_air_force"
			air_experience = 15
		}
		ai_will_do = {
			factor = 0.4
		}
	}
}