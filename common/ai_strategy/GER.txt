GER_we_want_the_pumaifv = { #tell GER AI to research the 2015 IFV hull ahead of time
	allowed = { original_tag = GER }
	enable = {
		country_exists = GER
		NOT = { has_tech = afv_tech_3 }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = research_tech id = afv_tech_3 value = 100 }
}

###Building###
GER_office_target = {
	allowed = { original_tag = GER }
	enable = {
		num_of_available_civilian_factories > 35
		check_variable = { office_park_total < 60 }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = building_target id = offices value = 60 }
}
GER_factory_target = {
	allowed = { original_tag = GER }
	enable = {
		num_of_civilian_factories < 70
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = building_target id = industrial_complex value = 70 }
}

##Diplomacy

GER_Transatlantic = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			western_conservatism_are_in_coalition = yes
			western_conservatism_are_in_power = yes
			neutrality_neutral_libertarians_are_in_coalition = yes
			neutrality_neutral_libertarians_are_in_power = yes
			neutrality_neutral_green_are_in_coalition = yes
			neutrality_neutral_green_are_in_power = yes
		}
		OR = {
			USA = {
				is_in_faction_with = GER
			}
			has_idea = NATO_member
		}
		country_exists = USA
		NOT = { has_war_with = USA }
		USA = { NOT = { has_government = fascism } }
		USA = { has_idea = NATO_member }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "USA" value = 80 }
	ai_strategy = { type = support id = "USA" value = 90 }
	ai_strategy = { type = send_volunteers_desire id = "USA" value = 100 }
}

GER_support_baltics = {
	allowed = { original_tag = GER }
	enable = {
		has_idea = EU_member
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		OR = {
			LIT = {
				has_government = democratic
				has_government = neutrality
			}
			LAT = {
				has_government = democratic
				has_government = neutrality
			}
			EST = {
				has_government = democratic
				has_government = neutrality
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "LIT" value = 70 }
	ai_strategy = { type = befriend id = "LAT" value = 70 }
	ai_strategy = { type = befriend id = "EST" value = 70 }
	ai_strategy = { type = protect id = "LIT" value = 80 }
	ai_strategy = { type = protect id = "LAT" value = 80 }
	ai_strategy = { type = protect id = "EST" value = 80 }
	ai_strategy = { type = support id = "LIT" value = 70 }
	ai_strategy = { type = support id = "LAT" value = 70 }
	ai_strategy = { type = support id = "EST" value = 70 }
}

GER_stationate_baltics = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		OR = {
			LIT = {
				has_idea = NATO_member
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.1
		states = {
			109
		}
		subtract_fronts_from_need = no
		subtract_invasions_from_need = no
	}
}

GER_support_ukraine_against_russia = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		NOT = {
			western_social_democrats_are_in_power = yes
		}
		UKR = {
			has_war_with = SOV
			has_government = democratic
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = protect id = "UKR" value = 50 }
	ai_strategy = { type = send_lend_lease_desire id = "UKR" value = 125 }
}

GER_support_afghanistan = {
	allowed = { original_tag = GER }
	enable = {
		country_exists = AFG
		NOT = { has_war_with = AFG }
		AFG = { NOT = { has_government = fascism } }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "AFG" value = 50 }
	ai_strategy = { type = support id = "AFG" value = 70 }
	ai_strategy = { type = send_volunteers_desire id = "AFG" value = 50 }
}

GER_SOV_relations = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		NOT = {
			western_social_democrats_are_in_power = yes
		}
		country_exists = SOV
		SOV = {
			has_war = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "SOV" value = 60 }
}

Bend_for_putin = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			western_social_democrats_are_in_power = yes
			emerging_anarchist_communism_are_in_power = yes
			nationalist_right_wing_populists_are_in_power = yes
		}
		country_exists = SOV
		SOV = {
			has_war = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "SOV" value = 80 }
	ai_strategy = { type = support id = "SOV" value = 90 }
}

GER_RAJ_relations = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		country_exists = RAJ
		RAJ = {
			has_war = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "RAJ" value = 40 }
}

GER_CHI_relations = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		country_exists = CHI
		CHI = {
			has_war = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "CHI" value = 60 }
}

GER_ISR_relations = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		country_exists = ISR
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "ISR" value = 60 }
	ai_strategy = { type = support id = "ISR" value = 70 }
}

GER_support_bosnian_against_rsk = {
	allowed = { original_tag = GER }
	enable = {
		BOS = {
			has_country_flag = defeat_all_serbs
			OR = {
				has_idea = BOS_EUFOR
				has_idea = BOS_SFOR
			}
		}
		RSK = { has_war_with = BOS }
		has_idea = bos_sfor_vol_troops
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = protect
		id = BOS
		value = 50
	}
	ai_strategy = {
		type = befriend
		id = BOS
		value = 30
	}
	ai_strategy = {
		type = support
		id = BOS
		value = 30
	}
}

GER_support_kosovo = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			SER = { has_war_with = KOS }
			GER = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = protect
		id = KOS
		value = 50
	}
	ai_strategy = {
		type = befriend
		id = KOS
		value = 30
	}
	ai_strategy = {
		type = support
		id = KOS
		value = 30
	}
}

#CIVIL WAR IN AMERICA - GERMANY
GER_texas_help = {
	allowed = { original_tag = GER }
	enable = {
		country_exists = TEX
		GER = {
			has_war = no
			has_government = nationalist
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = { type = send_volunteers_desire id = "TEX" value = 1000 }
	ai_strategy = { type = send_lend_lease_desire id = "TEX" value = 400 }
}
GER_lakota_help = {
	allowed = { original_tag = GER }
	enable = {
		country_exists = CAS
		GER = {
			has_war = no
			has_government = nationalist
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = { type = send_volunteers_desire id = "CAS" value = 1000 }
	ai_strategy = { type = send_lend_lease_desire id = "CAS" value = 400 }
}

# Foreign troops in BRD
USA_german_bases = {
	allowed = { original_tag = USA }
	enable = {
		country_exists = GER
		tag = USA
		has_idea = NATO_member
		GER = {
			has_country_flag = GER_usa_bases
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.05
		states = {
			40 41 42 43 964 
		}
		subtract_fronts_from_need = no
		subtract_invasions_from_need = no
	}
}

ENG_german_bases = {
	allowed = { original_tag = ENG }
	enable = {
		has_idea = NATO_member
		GER = {
			has_country_flag = GER_eng_bases
			has_idea = NATO_member
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.1
		states = {
			38
		}
		subtract_fronts_from_need = no
		subtract_invasions_from_need = no
	}
}

##Germany unique AI for combat units
GER_default_naval_breakdown = {
	allowed = { original_tag = GER }
	enable = { 
		threat > 0.6
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = role_ratio id = naval_corvettes value = 25 }
	ai_strategy = { type = role_ratio id = naval_frigate value = 30 }
	ai_strategy = { type = role_ratio id = naval_destroyer value = 15 }
	ai_strategy = { type = role_ratio id = naval_stealth_destroyer value = 2 }
	ai_strategy = { type = role_ratio id = naval_attack_submarine value = 20 }
	ai_strategy = { type = role_ratio id = naval_missile_submarine value = 2 }
	ai_strategy = { type = role_ratio id = naval_helicopter_operator value = 4 }
	ai_strategy = { type = role_ratio id = naval_carrier value = 1 }
	ai_strategy = { type = role_ratio id = naval_cruiser value = 1 }
}

#German army 
GER_rebuild_army = {
	allowed = { original_tag = GER }
	enable = { 
		OR = {
			threat > 0.6
			NOT = {
			has_idea = GER_idea_Peace_dividende
			}
		}
		
	}

	abort = {
		num_divisions > 50
	}

	ai_strategy = { type = role_ratio id = L_Inf value = 5 }
	ai_strategy = { type = role_ratio id = ifv_mechanized value = 20 }
	ai_strategy = { type = role_ratio id = mechanized value = 10 }
	ai_strategy = { type = role_ratio id = armor value = 40 }
	ai_strategy = { type = role_ratio id = marines value = 5 }
	ai_strategy = { type = role_ratio id = Air_helicopters value = 5 }
	ai_strategy = { type = role_ratio id = Air_mech value = 5 }
	ai_strategy = { type = role_ratio id = Special_Forces value = 5 }
	ai_strategy = { type = force_build_armies value = 50 } #Keep AI building Units
}

GER_air_force_breakdown = {
	allowed = { original_tag = GER }
	enable = {
		OR = {
			NOT = {
			has_idea = GER_idea_Peace_dividende
			}
			threat > 0.6
		}
		
	}
	abort_when_not_enabled = yes
	##Air Unit Factors
	#unit ratios - set the base number of planes per airfield / cv slot that the nation wants
	ai_strategy = { type = unit_ratio id = cas value = 8 }
	ai_strategy = { type = unit_ratio id = naval_bomber value = 2 }
	ai_strategy = { type = unit_ratio id = heavy_fighter value = 4 }
	ai_strategy = { type = unit_ratio id = interceptor value = 8 }
	ai_strategy = { type = unit_ratio id = scout_plane value = 2 }
	ai_strategy = { type = unit_ratio id = suicide value = 4 }

	ai_strategy = { type = equipment_variant_production_factor id = small_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_strike_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_naval_bomber_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_suicide_airframe value = -80 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_airframe value = -25 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_fighter_airframe value = 0 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_cas_airframe value = -25 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_maritime_patrol_airframe value = -80 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_suicide_airframe value = -75 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_air_transport_airframe value = -75 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_airframe value = -70 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_air_transport_airframe value = -70 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_awacs_airframe value = -90 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_cas_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_maritime_patrol_airframe value = -80 }

	ai_strategy = { type = air_factory_balance value = 100 }
}