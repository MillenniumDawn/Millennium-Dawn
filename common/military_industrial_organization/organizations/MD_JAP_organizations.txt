# Aircraft
JAP_mitsubishi_aerospace_aircraft_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Mitsubishi_aerospace
	name = JAP_mitsubishi_aerospace_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_light_aircraft
		sam_missile_equipment
	}

	research_categories = {
		CAT_small_plane
		CAT_mr_fighter
		CAT_s_fighter
		CAT_l_fighter
		CAT_sam
		CAT_air_to_air_weapons
	}

	research_bonus = 0.03

	tree_header_text = {
		text = "Wings & Pilot Readiness"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_mitsubishi_aerospace_aircraft_trait

		equipment_bonus = {
			maximum_speed = 0.15
			air_range = 0.10
			reliability = 0.10
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		name = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			maximum_speed = 0.05
			air_agility = 0.04
			reliability = 0.04
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_advanced_autopilot
		name = JAP_mitsubishi_aerospace_aircraft_trait_advanced_autopilot
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 0 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_composite_trainer
		name = JAP_mitsubishi_aerospace_aircraft_trait_composite_trainer
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = 4 y = 0 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			weight = -0.05
			air_range = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_digital_glass
		name = JAP_mitsubishi_aerospace_aircraft_trait_digital_glass
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = 1 y = 1 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_advanced_autopilot
			JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			night_penalty = -0.15
			air_defence = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_training_pylons
		name = JAP_mitsubishi_aerospace_aircraft_trait_training_pylons
		icon = GFX_generic_mio_trait_icon_air_ground_attack

		position = { x = 0 y = 1 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_digital_glass
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_digital_glass
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_ground_attack = 0.10
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_engine_thrust
		name = JAP_mitsubishi_aerospace_aircraft_trait_engine_thrust
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 0 y = 2 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_digital_glass
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_training_pylons
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			thrust = 0.10
			fuel_consumption = 0.05
			reliability = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_aerodynamic_clean
		name = JAP_mitsubishi_aerospace_aircraft_trait_aerodynamic_clean
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 3 y = 1 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_advanced_autopilot
			JAP_mitsubishi_aerospace_aircraft_trait_composite_trainer
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			maximum_speed = 0.05
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_lightweight_systems
		name = JAP_mitsubishi_aerospace_aircraft_trait_lightweight_systems
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 2 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_aerodynamic_clean
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			weight = -0.05
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_range_profile
		name = JAP_mitsubishi_aerospace_aircraft_trait_range_profile
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 3 y = 3 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_lightweight_systems
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_stability_autopilot
		name = JAP_mitsubishi_aerospace_aircraft_trait_stability_autopilot
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 4 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_range_profile
			JAP_mitsubishi_aerospace_aircraft_trait_engine_thrust
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_agility = 0.15
			reliability = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_high_altitude
		name = JAP_mitsubishi_aerospace_aircraft_trait_high_altitude
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 2 y = 5 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_stability_autopilot
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_defence = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_export_bureau
		name = JAP_mitsubishi_aerospace_aircraft_trait_export_bureau
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 5 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_stability_autopilot
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		production_bonus = {
			production_cost_factor = -0.05
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_maintencance_workflow
		name = JAP_mitsubishi_aerospace_aircraft_trait_maintencance_workflow
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 4 y = 5 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_stability_autopilot
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_hud_integration
		name = JAP_mitsubishi_aerospace_aircraft_trait_hud_integration
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 6 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_high_altitude
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_noise_suppression
		name = JAP_mitsubishi_aerospace_aircraft_trait_noise_suppression
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = 2 y = 6 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_high_altitude
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			night_penalty = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_rapid_panels
		name = JAP_mitsubishi_aerospace_aircraft_trait_rapid_panels
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 4 y = 6 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_high_altitude
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_ground_refuel
		name = JAP_mitsubishi_aerospace_aircraft_trait_ground_refuel
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 5 y = 7 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_tx_trainer
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_rapid_panels
			JAP_mitsubishi_aerospace_aircraft_trait_maintencance_workflow
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		name = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_glide_inteceptor
		name = JAP_mitsubishi_aerospace_aircraft_trait_glide_inteceptor
		icon = GFX_generic_mio_trait_icon_air_attack
		position = { x = 2 y = 0 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_interceptor_datalink
		name = JAP_mitsubishi_aerospace_aircraft_trait_interceptor_datalink
		icon = GFX_generic_mio_trait_icon_naval_strike_targetting

		position = { x = 2 y = 2 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_glide_inteceptor
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}


		equipment_bonus = {
			naval_strike_targetting = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_seeker_advancements
		name = JAP_mitsubishi_aerospace_aircraft_trait_seeker_advancements
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 1 y = 1 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_glide_inteceptor
			JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_hardenend_launch
		name = JAP_mitsubishi_aerospace_aircraft_trait_hardenend_launch
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 3 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_seeker_advancements
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_missile_upgrade_suite
		name = JAP_mitsubishi_aerospace_aircraft_trait_missile_upgrade_suite
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 4 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_hardenend_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.05
			air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_quick_reload
		name = JAP_mitsubishi_aerospace_aircraft_trait_quick_reload
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 5 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_missile_upgrade_suite
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_hypersonic_production_cell
		name = JAP_mitsubishi_aerospace_aircraft_trait_hypersonic_production_cell
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 2 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_glide_inteceptor
		}

		available = {
			JAP = {
				is_special_project_completed = sp:sp_hypersonic_missile
			}
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_hvgp_engineering
		name = JAP_mitsubishi_aerospace_aircraft_trait_hvgp_engineering
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 2 y = 4 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_hardenend_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.04
			air_range = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_airborne_sam_integration
		name = JAP_mitsubishi_aerospace_aircraft_trait_airborne_sam_integration
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 2 y = 5 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_hvgp_engineering
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			JAP = {
				add_doctrine_cost_reduction = {
					cost_reduction = 0.15
					name = JAP_mitsubishi_aerospace_aircraft_trait_airborne_sam_integration
					category = CAT_airborne
					uses = 2
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_aerospace_aircraft_trait_low_missile_husk
		name = JAP_mitsubishi_aerospace_aircraft_trait_low_missile_husk
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 1 y = 6 }
		relative_position_id = JAP_mitsubishi_aerospace_aircraft_trait_patriot_line
		all_parents = {
			JAP_mitsubishi_aerospace_aircraft_trait_airborne_sam_integration
			JAP_mitsubishi_aerospace_aircraft_trait_quick_reload
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		on_complete = {
			JAP = {
				add_doctrine_cost_reduction = {
					cost_reduction = 0.15
					name = JAP_mitsubishi_aerospace_aircraft_trait_airborne_sam_integration
					category = CAT_airborne
					uses = 2
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_kawasaki_aerospace_company_aircraft_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_kawasaki_aerospace
	name = JAP_kawasaki_aerospace_company_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_large_aircraft
		heavy_tank_chassis
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_heli
		CAT_h_air
	}

	research_bonus = 0.01

	tree_header_text = {
		text = "Rotorcraft"
		x = 2
	}

	tree_header_text = {
		text = "heavy Fixed Wing"
		x = 7
	}

	initial_trait = {
		name = JAP_kawasaki_aerospace_aircraft_trait

		equipment_bonus = {
			reliability = 0.15
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_series_optimization
		name = JAP_kawasaki_aerospace_trait_series_optimization
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_engine_overhaul
		name = JAP_kawasaki_aerospace_trait_engine_overhaul
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 0 y = 1 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_series_optimization
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			fuel_consumption = -0.05
			max_organisation = 0.05
			build_cost_ic = -0.02
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_reduced_airframe
		name = JAP_kawasaki_aerospace_trait_reduced_airframe
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = 2 y = 0 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			weight = -0.05
			fuel_consumption = -0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_parts_standardization
		name = JAP_kawasaki_aerospace_trait_parts_standardization
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 2 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_engine_overhaul
			JAP_kawasaki_aerospace_trait_reduced_airframe
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_hot_high
		name = JAP_kawasaki_aerospace_trait_hot_high
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 1 y = 3 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_parts_standardization
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			acclimatization_hot_climate_gain_factor = 0.15
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_ground_support_training
		name = JAP_kawasaki_aerospace_trait_ground_support_training
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 3 y = 2 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_reduced_airframe
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			soft_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_autopilot
		name = JAP_kawasaki_aerospace_trait_autopilot
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 3 y = 3 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_ground_support_training
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.10
			max_organisation = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_rotorblade_dynamics
		name = JAP_kawasaki_aerospace_trait_rotorblade_dynamics
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 4 y = 4 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_autopilot
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_dual_redundant_electronics
		name = JAP_kawasaki_aerospace_trait_dual_redundant_electronics
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 2 y = 4 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		any_parent = {
			JAP_kawasaki_aerospace_trait_autopilot
			JAP_kawasaki_aerospace_trait_hot_high
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.10
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_rapid_reconfig_loader
		name = JAP_kawasaki_aerospace_trait_rapid_reconfig_loader
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 4 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_hot_high
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_lightweight_line
		name = JAP_kawasaki_aerospace_trait_lightweight_line
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 5 }
		relative_position_id = JAP_kawasaki_aerospace_trait_series_optimization
		all_parents = {
			JAP_kawasaki_aerospace_trait_dual_redundant_electronics
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		production_bonus = {
			production_cost_factor = -0.05
			production_resource_penalty_factor = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_c2_ferry
		name = JAP_kawasaki_aerospace_trait_c2_ferry
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_composite_fuselage
		name = JAP_kawasaki_aerospace_trait_composite_fuselage
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = -2 y = 1 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_c2_ferry
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			weight = -0.05
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_high_speed_transport
		name = JAP_kawasaki_aerospace_trait_high_speed_transport
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 1 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_c2_ferry
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_elint_avionics
		name = JAP_kawasaki_aerospace_trait_elint_avionics
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 1 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_c2_ferry
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_maritime_sensor
		name = JAP_kawasaki_aerospace_trait_maritime_sensor
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = 1 y = 2 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_elint_avionics
			JAP_kawasaki_aerospace_trait_high_speed_transport
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			naval_strike_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_fly_by_light
		name = JAP_kawasaki_aerospace_trait_fly_by_light
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 2 y = 3 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_maritime_sensor
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			air_defence = 0.10
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_transport_export
		name = JAP_kawasaki_aerospace_trait_transport_export
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -2 y = 2 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_composite_fuselage
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_maintenance_workflow
		name = JAP_kawasaki_aerospace_trait_maintenance_workflow
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -2 y = 3 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_transport_export
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_cargo_floor
		name = JAP_kawasaki_aerospace_trait_cargo_floor
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 3 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_transport_export
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			armor_value = 0.10
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_night_ops
		name = JAP_kawasaki_aerospace_trait_night_ops
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = -1 y = 4 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_maintenance_workflow
			JAP_kawasaki_aerospace_trait_cargo_floor
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			night_penalty = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_long_range_crew
		name = JAP_kawasaki_aerospace_trait_long_range_crew
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 4 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_fly_by_light
			JAP_kawasaki_aerospace_trait_cargo_floor
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_kawasaki_aerospace_trait_drone_interface
		name = JAP_kawasaki_aerospace_trait_drone_interface
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 5 }
		relative_position_id = JAP_kawasaki_aerospace_trait_c2_ferry
		all_parents = {
			JAP_kawasaki_aerospace_trait_long_range_crew
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_large_aircraft
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## Armor

JAP_mitsubishi_heavy_industries_tank_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Mitsubishi_Heavy_Industries
	name = JAP_mitsubishi_heavy_industries_tank_manufacturer

	equipment_type = {
		medium_tank_chassis
		medium_tank_destroyer_chassis
		medium_tank_artillery_chassis
		medium_tank_aa_chassis
	}

	research_categories = {
		CAT_tanks
		CAT_armor_engines
		CAT_computer_systems
		CAT_armor_weapons
		CAT_armour
		CAT_sp_arty
		CAT_sp_r_arty
		CAT_sp_aa
	}

	research_bonus = -0.08

	tree_header_text = {
		text = "Battle & Recon Power"
		x = 2
	}

	tree_header_text = {
		text = "Artillery & Anti-Air Systems"
		x = 7
	}

	initial_trait = {
		name = JAP_mitsubishi_heavy_industries_tank_trait

		equipment_bonus = {
			armor_value = 0.15
			reliability = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.05
			armor_value = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_modular_armor
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_modular_armor
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 2 y = 0 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_c4i_integration
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_c4i_integration
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 1 y = 1 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_modular_armor
			JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		}

		available = {
			JAP = { has_tech = command_control_equipment3 }
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			max_organisation = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_high_mobility_trans
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_high_mobility_trans
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 1 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_c4i_integration
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_computer
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_computer
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_high_mobility_trans
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			hard_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_chitose_facility
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_chitose_facility
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 2 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_high_mobility_trans
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			JAP = {
				random_owned_state = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					large_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_refurbishment
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_refurbishment
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 4 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_high_mobility_trans
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_modules_Kit
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_modules_Kit
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = -1 y = 5 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_refurbishment
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_recon_mast
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_recon_mast
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 5 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_refurbishment
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			breakthrough = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_fuel_engine
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_fuel_engine
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 3 y = 5 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_refurbishment
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			fuel_consumption = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_local_parts
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_local_parts
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 1 y = 6 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_recon_mast
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_autoloader
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_autoloader
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 7 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_local_parts
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.10
			soft_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_rapid_deployment
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_rapid_deployment
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 2 y = 7 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_agile_turret
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_local_parts
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			medium_tank_destroyer_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			hard_attack = 0.10
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_shoot_scoot
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_shoot_scoot
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -2 y = 1 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.08
			breakthrough = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_aluminium_chassis
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_aluminium_chassis
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = 0 y = 1 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		}

		available = {
			JAP = {
				has_resources_in_country = {
					resource = aluminium
					amount > 0
				}
			}
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			weight = -0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_production_line
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_production_line
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 2 y = 1 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_training_sim
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_training_sim
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 2 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_production_line
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_integrated
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_integrated
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 2 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_training_sim
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			soft_attack = 0.05
			hard_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_quick_reload
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_quick_reload
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_aluminium_chassis
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_radar_integration
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_radar_integration
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = -1 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_aluminium_chassis
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_ammo_feed
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_ammo_feed
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_radar_integration
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_airfire_trianing
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_airfire_trianing
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 1 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_radar_integration
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_barrel_workshop
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_barrel_workshop
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -2 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_shoot_scoot
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
			medium_tank_aa_chassis
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_locator_radar
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_locator_radar
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -2 y = 2 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_barrel_workshop
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_autonomy_kit
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_autonomy_kit
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = -2 y = 3 }
		relative_position_id = JAP_mitsubishi_heavy_industries_tank_mio_trait_fire_control
		all_parents = {
			JAP_mitsubishi_heavy_industries_tank_mio_trait_locator_radar
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			soft_attack = 0.10
			fuel_consumption = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_komatsu_tank_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Komatsu
	name = JAP_komatsu_tank_manufacturer

	equipment_type = {
		medium_tank_destroyer_chassis
		medium_tank_amphibious_chassis
		medium_tank_flame_chassis
		util_vehicle_equipment
	}

	research_categories = {
		CAT_afv
		CAT_excavation_tech
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_komatsu_tank_trait

		equipment_bonus = {
			maximum_speed = 0.15
			defense = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_subaru_tank_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Komatsu
	name = JAP_subaru_tank_manufacturer

	equipment_type = {
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_trans_heli
		CAT_air_engine
		CAT_armor_engines
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_subaru_tank_manufacturer_trait

		equipment_bonus = {
			maximum_speed = 0.10
			breakthrough = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## Material
JAP_howa_machinery_materiel_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Howa
	name = JAP_howa_machinery_materiel_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf_wep
		CAT_support_weapons
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_howa_machinery_materiel_manufacturer_trait

		equipment_bonus = {
			soft_attack = 0.10
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
JAP_nec_materiel_manufacturer = {
	allowed = { original_tag = JAP }
	icon = x
	name = JAP_nec_materiel_manufacturer

	equipment_type = {
		cnc_equipment
	}

	research_categories = {
		CAT_cnc
		CAT_naval_electronics
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_nec_materiel_manufacturer_trait

		equipment_bonus = {
			max_organisation = 0.25
		}

		production_bonus = {
			production_efficiency_cap_factor = -0.10
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_toshiba_materiel_manufacturer = {
	allowed = { original_tag = JAP }
	icon = x
	name = JAP_toshiba_materiel_manufacturer

	equipment_type = {
		train
		medium_tank_aa_chassis
		AA_Equipment
	}

	research_categories = {
		CAT_nuclear_reactors
		CAT_computing_tech
		CAT_internet_tech
		CAT_infrastructure
		CAT_aa
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_toshiba_materiel_manufacturer_trait

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
			military_industrial_organization_size_up_requirement = 0.30
			military_industrial_organization_industrial_manufacturer_assign_cost = 0.10
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_jsw_materiel_manufacturer = {
	allowed = { original_tag = JAP }
	icon = x
	name = JAP_jsw_materiel_manufacturer

	equipment_type = {
		medium_tank_chassis
		medium_tank_artillery_chassis
	}

	research_categories = {
		CAT_nuclear_reactors
		CAT_mbt
		CAT_sp_arty
		CAT_sp_r_arty
		CAT_naval_cannons
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_jsw_materiel_manufacturer_trait

		equipment_bonus = {
			ap_attack = 0.10
			armor_value = 0.15
			build_cost_ic = 0.05
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## Naval

JAP_mitsubishi_shipbuilding_naval_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Mitsubishi_Heavy_Industries
	name = JAP_mitsubishi_shipbuilding_naval_manufacturer

	equipment_type = {
		patrol_boat
		submarine
		mio_cat_destroyers
		convoy
		mio_cat_frigates
	}

	research_categories = {
		CAT_sub
		CAT_destroyer
		CAT_frigate
		CAT_torpedoes
		CAT_vls_systems
		CAT_landing_craft
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_mitsubishi_shipbuilding_naval_manufacturer_trait

		equipment_bonus = {
			hg_armor_piercing = 0.10
			lg_armor_piercing = 0.10
			lg_attack = 0.10
			hg_attack = 0.10
			surface_detection = 0.05
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_kawasaki_shipbuilding_naval_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_Kawasaki_Shipbuilding
	name = JAP_kawasaki_shipbuilding_naval_manufacturer

	equipment_type = {
		submarine
		convoy
	}

	research_categories = {
		CAT_sub
		CAT_naval_engine
		CAT_landing_craft
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_kawasaki_shipbuilding_naval_manufacturer_trait

		equipment_bonus = {
			fuel_consumption = -0.15
			sub_detection = -0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_ihi_corporation_naval_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_IHI
	name = JAP_ihi_corporation_naval_manufacturer

	equipment_type = {
		mio_cat_destroyers
		helicopter_operator
		convoy
	}

	research_categories = {
		CAT_lha
		CAT_lpd
		CAT_destroyer
		CAT_landing_craft
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_ihi_shipbuilding_naval_manufacturer_trait

		equipment_bonus = {
			naval_speed = 0.15
			naval_range = 0.05
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

JAP_jmu_corporation_naval_manufacturer = {
	allowed = { original_tag = JAP }
	icon = GFX_idea_IHI
	name = JAP_jmu_corporation_naval_manufacturer

	equipment_type = {
		mio_cat_destroyers
		helicopter_operator
		carrier
	}

	research_categories = {
		CAT_carrier
		CAT_destroyer
	}

	tree_header_text = {
		text = "Light Wings"
		x = 2
	}

	tree_header_text = {
		text = "Air Defense Shield"
		x = 7
	}

	initial_trait = {
		name = JAP_jmu_shipbuilding_naval_manufacturer_trait

		equipment_bonus = {
			reliability = 0.10
			armor_value = 0.15
		}
	}
	trait = {
		token = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		name = JAP_mitsubishi_heavy_industries_tank_mio_trait_
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}