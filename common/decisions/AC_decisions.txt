############################################################################################################
#	AC mod - decisions
############################################################################################################

AC_DECISIONS = {

	AC_assist_repair_decision = {
		icon = GFX_decision_category_generic

		highlight_states = {
			CONTROLLER = {
				has_country_flag = AC_assist_repair_target_by_@ROOT
			}
		}

		visible = {
			has_decision = AC_assist_repair_decision
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_country = {
						has_country_flag = AC_assist_repair_target_by_@ROOT
					}
				}
			}
		}

		modifier = {
			political_power_gain = -1
		}

		cost = 0

		days_remove = 180

		remove_effect = {
			every_country = {
				limit = { has_country_flag = AC_assist_repair_target_by_@ROOT }

				remove_ideas = AC_assist_repair_target_idea

				clr_country_flag = AC_assist_repair_target_by_@ROOT
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	AC_assist_repair_CANCEL_decision = {
		icon = GFX_decision_category_generic_crisis

		visible = {
			has_decision = AC_assist_repair_decision
		}

		cost = 0

		complete_effect = {
			every_country = {
				limit = { has_country_flag = AC_assist_repair_target_by_@ROOT }

				remove_ideas = AC_assist_repair_target_idea

				clr_country_flag = AC_assist_repair_target_by_@ROOT
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	###################################################

	AC_construction_CIC_decision1 = { #civilian factories
		icon = GFX_decision_category_generic
		
		allowed = { FROM = { not = { tag = ROOT } } }
		
		highlight_states = {
			is_owned_by = FROM
			has_state_flag = AC_construction_CIC_target_state1_@ROOT
		}
		available = {
			FROM = { not = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state1_@ROOT } } }
			hidden_trigger = { FROM = { not = { tag = ROOT } } }
		}

		visible = {
			FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state1_@ROOT } }
			FROM = { not = { tag = ROOT } }
		}
		
		cost = 0
		
		Is_good = yes
		days_mission_timeout = AC_construction_duration
		days_remove = 3
		cancel_if_not_visible = yes
		fire_only_once = yes
		
		modifier = {
			#civilian_factory_use = 1
		}
		
		timeout_effect = {
			if = { # check state eligibility
				limit = {
					FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state1_@ROOT free_building_slots = { building = industrial_complex size > 0 include_locked = no } } }
					#AC_building_slot_available = yes
				}
				FROM = {
					random_owned_state = {
						limit = { has_state_flag = AC_construction_CIC_target_state1_@ROOT }

						AC_add_CIC_building = yes
						save_event_target_as = AC_state_event_target
						clr_state_flag = AC_construction_CIC_target_state1_@ROOT
						set_variable = { AC_build_amount = 1 }
					}
				}
				hidden_effect = { 
					remove_targeted_decision = { target = FROM decision = AC_construction_CIC_decision1 }
					FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_target_decision1 } }
				}
				
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_CIC_decision2 = { #civilian factories
		icon = GFX_decision_category_generic
		
		allowed = { FROM = { not = { tag = ROOT } } }
		
		highlight_states = {
			is_owned_by = FROM
			has_state_flag = AC_construction_CIC_target_state2_@ROOT
		}
		available = {
			FROM = { not = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state2_@ROOT } } }
			hidden_trigger = { FROM = { not = { tag = ROOT } } }
		}

		visible = {
			FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state2_@ROOT } }
			FROM = { not = { tag = ROOT } }
		}
		
		cost = 0
		
		Is_good = yes
		days_mission_timeout = AC_construction_duration
		days_remove = 3
		cancel_if_not_visible = yes
		
		
		
		timeout_effect = {
			if = { # check state eligibility
				limit = {
					FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state2_@ROOT free_building_slots = { building = industrial_complex size > 0 include_locked = no } } }
					
					#AC_building_slot_available = yes
				}
				FROM = {
					random_owned_state = {
						limit = { has_state_flag = AC_construction_CIC_target_state2_@ROOT }

						AC_add_CIC_building = yes
						save_event_target_as = AC_state_event_target
						clr_state_flag = AC_construction_CIC_target_state2_@ROOT
						set_variable = { AC_build_amount = 1 }
					}
				}
				hidden_effect = { 
					remove_targeted_decision = { target = FROM decision = AC_construction_CIC_decision2 }
					FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_target_decision2 } }
				}
				
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_CIC_decision3 = { #civilian factories
		icon = GFX_decision_category_generic
		
		allowed = { FROM = { not = { tag = ROOT } } }
		
		highlight_states = {
			is_owned_by = FROM
			has_state_flag = AC_construction_CIC_target_state3_@ROOT
		}
		available = {
			FROM = { not = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state3_@ROOT } } }
			hidden_trigger = { FROM = { not = { tag = ROOT } } }
		}

		visible = {
			FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state3_@ROOT } }
			FROM = { not = { tag = ROOT } }
		}
		
		cost = 0
		
		Is_good = yes
		days_mission_timeout = AC_construction_duration
		days_remove = 3
		cancel_if_not_visible = yes
		
		
		
		timeout_effect = {
			if = { # check state eligibility
				limit = {
					FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state3_@ROOT free_building_slots = { building = industrial_complex size > 0 include_locked = no } } }
					#AC_building_slot_available = yes
				}
				FROM = {
					random_owned_state = {
						limit = { has_state_flag = AC_construction_CIC_target_state3_@ROOT }

						AC_add_CIC_building = yes
						save_event_target_as = AC_state_event_target
						clr_state_flag = AC_construction_CIC_target_state3_@ROOT
						set_variable = { AC_build_amount = 1 }
					}
				}
				hidden_effect = { 
					remove_targeted_decision = { target = FROM decision = AC_construction_CIC_decision3 }
					FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_target_decision3 } }
				}
				
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_CIC_decision4 = { #civilian factories
		icon = GFX_decision_category_generic
		
		allowed = { FROM = { not = { tag = ROOT } } }
		
		highlight_states = {
			is_owned_by = FROM
			has_state_flag = AC_construction_CIC_target_state4_@ROOT
		}
		available = {
			FROM = { not = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state4_@ROOT } } }
			hidden_trigger = { FROM = { not = { tag = ROOT } } }
		}

		visible = {
			FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state4_@ROOT } }
			FROM = { not = { tag = ROOT } }
		}
		
		cost = 0
		
		Is_good = yes
		days_mission_timeout = AC_construction_duration
		days_remove = 4
		cancel_if_not_visible = yes
		
		
		
		timeout_effect = {
			if = { # check state eligibility
				limit = {
					FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state4_@ROOT free_building_slots = { building = industrial_complex size > 0 include_locked = no } } }
					#AC_building_slot_available = yes
				}
				FROM = {
					random_owned_state = {
						limit = { has_state_flag = AC_construction_CIC_target_state4_@ROOT }

						AC_add_CIC_building = yes
						save_event_target_as = AC_state_event_target
						clr_state_flag = AC_construction_CIC_target_state4_@ROOT
						set_variable = { AC_build_amount = 1 }
					}
				}
				hidden_effect = { 
					remove_targeted_decision = { target = FROM decision = AC_construction_CIC_decision4 }
					FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_target_decision4 } }
				}
				
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_CIC_decision5 = { #civilian factories
		icon = GFX_decision_category_generic
		
		allowed = { FROM = { not = { tag = ROOT } } }
		
		highlight_states = {
			is_owned_by = FROM
			has_state_flag = AC_construction_CIC_target_state5_@ROOT
		}
		available = {
			FROM = { not = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state5_@ROOT } } }
			hidden_trigger = { FROM = { not = { tag = ROOT } } }
		}

		visible = {
			FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state5_@ROOT } }
			FROM = { not = { tag = ROOT } }
		}
		
		cost = 0
		
		Is_good = yes
		days_mission_timeout = AC_construction_duration
		days_remove = 5
		cancel_if_not_visible = yes
		
		
		
		timeout_effect = {
			if = { # check state eligibility
				limit = {
					FROM = { any_owned_state = { has_state_flag = AC_construction_CIC_target_state5_@ROOT free_building_slots = { building = industrial_complex size > 0 include_locked = no } } }
					#AC_building_slot_available = yes
				}
				FROM = {
					random_owned_state = {
						limit = { has_state_flag = AC_construction_CIC_target_state5_@ROOT }

						AC_add_CIC_building = yes
						save_event_target_as = AC_state_event_target
						clr_state_flag = AC_construction_CIC_target_state5_@ROOT
						set_variable = { AC_build_amount = 1 }
					}
				}
				hidden_effect = { 
					remove_targeted_decision = { target = FROM decision = AC_construction_CIC_decision5 }
					FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_target_decision5 } }
				}
				
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
}

AC_target_country_DECISIONS = {

	AC_construction_target_decision1 = {

		allowed = { always = no }

		available = {
			
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
					
						has_state_flag = AC_construction_CIC_target_state1_@FROM
					}
				}
			}
		}

		highlight_states = {
			is_controlled_by = ROOT
			has_state_flag = AC_construction_CIC_target_state1_@FROM
		}

		is_good = yes
		fire_only_once = yes
		selectable_mission = yes

		days_mission_timeout = AC_target_construction_duration
		days_remove = 3

		cost = 0

		remove_effect = {

		}

		timeout_effect = {

		}

		complete_effect = { # cancel
			custom_effect_tooltip = AC_cancel_investment_tt
			random_owned_state = {
				limit = { has_state_flag = AC_construction_CIC_target_state1_@FROM }
				
				effect_tooltip = { AC_add_CIC_building2 = yes }
				clr_state_flag = AC_construction_CIC_target_state1_@FROM
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = AC_construction_target_decision1 }
				FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_CIC_decision1 } }
			}
			FROM = {
				hidden_effect = {
					country_event = AC_event.3
					set_variable = { AC_build_amount = 1 }
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_target_decision2 = {

		allowed = { always = no }

		available = {
			
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
					
						has_state_flag = AC_construction_CIC_target_state2_@FROM
					}
				}
			}
		}

		highlight_states = {
			is_controlled_by = ROOT
			has_state_flag = AC_construction_CIC_target_state2_@FROM
		}

		is_good = yes

		selectable_mission = yes

		days_mission_timeout = AC_target_construction_duration
		days_remove = 3

		cost = 0

		remove_effect = {

		}

		timeout_effect = {

		}

		complete_effect = { # cancel
			custom_effect_tooltip = AC_cancel_investment_tt
			random_owned_state = {
				limit = { has_state_flag = AC_construction_CIC_target_state2_@FROM }
				
				effect_tooltip = { AC_add_CIC_building2 = yes }
				clr_state_flag = AC_construction_CIC_target_state2_@FROM
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = AC_construction_target_decision2 }
				FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_CIC_decision2 } }
			}
			FROM = {
				hidden_effect = {
					country_event = AC_event.3
					set_variable = { AC_build_amount = 1 }
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_target_decision3 = {

		allowed = { always = no }

		available = {
			
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
					
						has_state_flag = AC_construction_CIC_target_state3_@FROM
					}
				}
			}
		}

		highlight_states = {
			is_controlled_by = ROOT
			has_state_flag = AC_construction_CIC_target_state3_@FROM
		}

		is_good = yes

		selectable_mission = yes

		days_mission_timeout = AC_target_construction_duration
		days_remove = 3

		cost = 0

		remove_effect = {

		}

		timeout_effect = {

		}

		complete_effect = { # cancel
			custom_effect_tooltip = AC_cancel_investment_tt
			random_owned_state = {
				limit = { has_state_flag = AC_construction_CIC_target_state3_@FROM }
				
				effect_tooltip = { AC_add_CIC_building2 = yes }
				clr_state_flag = AC_construction_CIC_target_state3_@FROM
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = AC_construction_target_decision3 }
				FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_CIC_decision3 } }
			}
			FROM = {
				hidden_effect = {
					country_event = AC_event.3
					set_variable = { AC_build_amount = 1 }
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_target_decision4 = {

		allowed = { always = no }

		available = {
			
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
					
						has_state_flag = AC_construction_CIC_target_state4_@FROM
					}
				}
			}
		}

		highlight_states = {
			is_controlled_by = ROOT
			has_state_flag = AC_construction_CIC_target_state4_@FROM
		}

		is_good = yes

		selectable_mission = yes

		days_mission_timeout = AC_target_construction_duration
		days_remove = 3

		cost = 0

		remove_effect = {

		}

		timeout_effect = {

		}

		complete_effect = { # cancel
			custom_effect_tooltip = AC_cancel_investment_tt
			random_owned_state = {
				limit = { has_state_flag = AC_construction_CIC_target_state4_@FROM }
				
				effect_tooltip = { AC_add_CIC_building2 = yes }
				clr_state_flag = AC_construction_CIC_target_state3_@FROM
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = AC_construction_target_decision4 }
				FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_CIC_decision4 } }
			}
			FROM = {
				hidden_effect = {
					country_event = AC_event.3
					set_variable = { AC_build_amount = 1 }
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	AC_construction_target_decision5 = {

		allowed = { always = no }

		available = {
			
		}

		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
					
						has_state_flag = AC_construction_CIC_target_state5_@FROM
					}
				}
			}
		}

		highlight_states = {
			is_controlled_by = ROOT
			has_state_flag = AC_construction_CIC_target_state5_@FROM
		}

		is_good = yes

		selectable_mission = yes

		days_mission_timeout = AC_target_construction_duration
		days_remove = 3

		cost = 0

		remove_effect = {

		}

		timeout_effect = {

		}

		complete_effect = { # cancel
			custom_effect_tooltip = AC_cancel_investment_tt
			random_owned_state = {
				limit = { has_state_flag = AC_construction_CIC_target_state5_@FROM }
				
				effect_tooltip = { AC_add_CIC_building2 = yes }
				clr_state_flag = AC_construction_CIC_target_state3_@FROM
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = AC_construction_target_decision5 }
				FROM = { remove_targeted_decision = { target = ROOT decision = AC_construction_CIC_decision5 } }
			}
			FROM = {
				hidden_effect = {
					country_event = AC_event.3
					set_variable = { AC_build_amount = 1 }
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	
}