###Author: Angriest Bird (aka Birdy)
####Main Tree Scripted Effects- View USA_2017 for Donald Trump Scripted Effects####
regulation_implementation_effects = {
	if = {
		limit = {
			NOT = { has_idea = USA_industrial_regulations_one_idea } 
			NOT = { has_idea = USA_industrial_regulations_two_idea }
			NOT = { has_idea = USA_industrial_regulations_three_idea }
			NOT = { has_idea = USA_industrial_regulations_four_idea }
			NOT = { has_idea = USA_industrial_regulations_five_idea }
		}
		add_ideas = USA_industrial_regulations_one_idea
	}
	else_if = {
		limit = { has_idea = USA_industrial_regulations_one_idea }
		swap_ideas = {
			remove_idea = USA_industrial_regulations_one_idea
			add_idea = USA_industrial_regulations_two_idea 
		}
	}
	else_if = {
		limit = { has_idea = USA_industrial_regulations_two_idea }
		swap_ideas = {
			remove_idea = USA_industrial_regulations_two_idea
			add_idea = USA_industrial_regulations_three_idea
		}
	}
	else_if = {
		limit = { has_idea = USA_industrial_regulations_three_idea }
		swap_ideas = {
			remove_idea = USA_industrial_regulations_three_idea
			add_idea = USA_industrial_regulations_four_idea
		}
	}
	else_if = {
		limit = { has_idea = USA_industrial_regulations_four_idea }
		swap_ideas = {
			remove_idea = USA_industrial_regulations_four_idea
			add_idea = USA_industrial_regulations_five_idea
		}
	}

}
###Resourec Production Effects####
degregulation_resource_expansion_effect = {
	if = {
		limit = {
			NOT = { has_idea = USA_resource_investment_program1 }
			NOT = { has_idea = USA_resource_investment_program2 }
			NOT = { has_idea = USA_resource_investment_program3 }
			NOT = { has_idea = USA_resource_investment_program4 }
			NOT = { has_idea = USA_resource_investment_program5 }
		}
		add_ideas = USA_resource_investment_program1
	}
	else_if = {
		limit = { has_idea = USA_resource_investment_program1 }
		swap_ideas = {
			remove_idea = USA_resource_investment_program1
			add_idea = USA_resource_investment_program2
		}
	}
	else_if = {
		limit = { has_idea = USA_resource_investment_program2 }
		swap_ideas = {
			remove_idea = USA_resource_investment_program2
			add_idea = USA_resource_investment_program3
		}
	}
	else_if = {
		limit = { has_idea = USA_resource_investment_program3 }
		swap_ideas = {
			remove_idea = USA_resource_investment_program3
			add_idea = USA_resource_investment_program4
		}
	}
	else_if = {
		limit = { has_idea = USA_resource_investment_program4 }
		swap_ideas = {
			remove_idea = USA_resource_investment_program4
			add_idea = USA_resource_investment_program5
		}
	}
}

###American Influence
USA_effect_gain_american_influence_5 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = 5 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = USA }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = USA_raise_influence_by_5_TT
}

USA_effect_gain_american_influence_10 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = 10 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = USA }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = USA_raise_influence_by_10_TT
}


USA_effect_gain_american_influence_25 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = 25 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = USA }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = USA_raise_influence_by_25_TT
}

USA_effect_american_lose_american_influence_10 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = -10 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = USA }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = USA_lose_influence_by_10_TT
}


USA_effect_lose_american_influence_25 = {
	hidden_effect = {
		set_temp_variable = { influence_gain = -25 }
		for_loop_effect = {
			end = influence_array^num
			value = v
			if = {
				limit = {
					check_variable = { influence_array^v = USA }
				}
				add_to_variable = { influence_array_val^v = influence_gain }
				set_country_flag = found
			}
		}
		if = {
			limit = { NOT = { has_country_flag = found } }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = influence_gain }
		}
		clr_country_flag = found
		recalculate_influence = yes
	}
	custom_effect_tooltip = USA_lose_influence_by_25_TT
}