on_actions = {
	on_startup = {
		effect = {
			every_country = {
				log = "[GetDateText]: [THIS.GetName]: on_startup setup missiles"
				set_variable = {
					var_missile_trajectory_ID = -1
				}
				set_variable = { orbit_selected_TAG = THIS.id }
				resize_array = { missile_inventory_array = 154 }
				add_dynamic_modifier = { modifier = fleet_air_defense_system }
				calculate_NSAM_AD_gui_vars = yes
				add_dynamic_modifier = { modifier = integrated_air_defense_system }
				add_dynamic_modifier = { modifier = GNSS_system }
				add_dynamic_modifier = { modifier = COMSAT_system }
				add_dynamic_modifier = { modifier = SPYSAT_system }
				calculate_SAM_AD_gui_vars = yes
				set_sat_orbit_startup = yes
				set_all_sat_system_tech = yes
				#for testing give all techs to all countries
				set_all_missile_launcher = yes
				set_all_missile_tech = yes
				set_all_missile_defense_tech = yes
				set_all_warhead_tech = yes
				set_all_prod_arrays = yes
				set_all_OLV_tech = yes
				set_all_sat_mass = yes
				set_all_spp_mass = yes
				set_all_KILLSAT_tech = yes
				set_all_ASAT_tech = yes
				###

				# add_to_array = { nuclear_action_array = 1 }
				# add_to_array = { nuclear_action_array = 1 }
				# add_to_array = { nuclear_action_array = 1 }
				### sat gui testing
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { payload_types_array = 1 }
				add_to_array = { array = spp_inventory_array value = 10 index = 0 }
				add_to_array = { array = spp_inventory_array value = 30 index = 1 }
				add_to_array = { array = spp_inventory_array value = 100 index = 2 }
				#GNSS
				# #add_to_array = { GNSS_satellite_array = 0 }
				# add_to_array = { GNSS_satellite_array = 15 }
				# add_to_array = { GNSS_satellite_array = 20 }
				# add_to_array = { GNSS_satellite_array = 25 }
				# add_to_array = { GNSS_satellite_array = 3 }
				# add_to_array = { GNSS_satellite_array = 3 }
				# add_to_array = { GNSS_satellite_array = 4 }
				# add_to_array = { GNSS_satellite_array = 5 }
				# add_to_array = { GNSS_satellite_array = 5 }
				# #COM
				# #add_to_array = { COM_satellite_array = 0 }
				# add_to_array = { COM_satellite_array = 15 }
				# add_to_array = { COM_satellite_array = 20 }
				# add_to_array = { COM_satellite_array = 25 }
				# add_to_array = { COM_satellite_array = 30 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 35 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 40 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 50 }
				# add_to_array = { COM_satellite_array = 5 } # add_to_array = { COM_satellite_array = 55 }
				# #SPY
				# #add_to_array = { SPY_satellite_array = 0 }
				# add_to_array = { SPY_satellite_array = 15 }
				# add_to_array = { SPY_satellite_array = 20 }
				# add_to_array = { SPY_satellite_array = 25 }
				# add_to_array = { SPY_satellite_array = 30 }
				# add_to_array = { SPY_satellite_array = 35 }
				# add_to_array = { SPY_satellite_array = 40 }
				# add_to_array = { SPY_satellite_array = 50 }
				# add_to_array = { SPY_satellite_array = 55 }

				#for testing network traffic
				set_COM_sat_receiver_tech_array = yes
				### testing GNSS_mil_gui_vars
				#max

				#min

			}
			###Testing FRA
			GER = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 25 }
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				update_sat_systems_stats = yes
			}
			FRA = {
				#GNSS
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 60 }
				set_variable = { var_GNSS_mil_system_idx = 4 }
				set_variable = { var_GNSS_civ_system_idx = 4 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^4 }
				set_variable = { var_GNSS_civ_sat_system_max = GNSS_sat_system_max_array^4 }
				#COM
				add_to_array = { COM_satellite_array = 1 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 2 }
				add_to_array = { COM_satellite_array = 60 }
				set_variable = { var_COM_mil_system_idx = 4 }
				set_variable = { var_COM_civ_system_idx = 4 }
				set_variable = { var_COM_mil_sat_system_max = COM_sat_system_max_array^4 }
				set_variable = { var_COM_civ_sat_system_max = COM_sat_system_max_array^4 }
				#SPY
				add_to_array = { SPY_satellite_array = 1 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 2 }
				add_to_array = { SPY_satellite_array = 60 }
				set_variable = { var_SPY_mil_system_idx = 4 }
				set_variable = { var_SPY_civ_system_idx = 4 }
				set_variable = { var_SPY_mil_sat_system_max = SPY_sat_system_max_array^4 }
				set_variable = { var_SPY_civ_sat_system_max = SPY_sat_system_max_array^4 }
				#
				update_sat_systems_stats = yes
			}
			SWE = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				update_sat_systems_stats = yes
			}
			DEN = {
				add_to_array = { GNSS_satellite_array = 1 }
				add_to_array = { GNSS_satellite_array = 2 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 7 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^7 }
				update_sat_systems_stats = yes
			}
			CHI = {
				set_temp_variable = { cur = 0 }
				while_loop_effect = {
					limit = { check_variable = { cur < 120 } }
					add_to_temp_variable = { cur = 1 }
					add_to_array = { payload_array = 113 }
					add_to_array = { payload_array = 114 }
					add_to_array = { payload_array = 115 }
					add_to_array = { payload_array = 116 }
					add_satellite_from_payload = yes
				}
				# add_to_array = { GNSS_satellite_array = 1 }
				# add_to_array = { GNSS_satellite_array = 2 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 5 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^5 }
				update_sat_systems_stats = yes
			}
			SOV = {
				set_temp_variable = { cur = 0 }
				while_loop_effect = {
					limit = { check_variable = { cur < 120 } }
					add_to_temp_variable = { cur = 1 }
					add_to_array = { payload_array = 113 }
					add_to_array = { payload_array = 114 }
					add_to_array = { payload_array = 115 }
					add_to_array = { payload_array = 116 }
					add_satellite_from_payload = yes
				}
				# add_to_array = { GNSS_satellite_array = 1 }
				# add_to_array = { GNSS_satellite_array = 2 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				# add_to_array = { GNSS_satellite_array = 30 }
				set_variable = { var_GNSS_mil_system_idx = 5 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^5 }
				update_sat_systems_stats = yes
				# add_to_array = { payload_array = 111 }
				# add_to_array = { payload_array = 112 }
				# add_to_array = { payload_array = 112 }
				# add_satellite_from_payload = yes
			}

			set_temp_variable = { temp1 = 1 } # 0
			while_loop_effect = {
				limit = {
					check_variable = { temp1 < 17 } # number of buildings + 1 # number of buildings 16
				}				
				add_to_array = { global.building_array = temp1 }
				add_to_temp_variable = { temp1 = 1 }
			}
			every_state = {
				limit = {
					is_coastal = yes
				}
				log = "[GetDateText]: [ROOT.GetName]: on_startup set is_coastal"
				add_to_array = { global.sea_launch_point_array = THIS.id }
				set_state_flag = sea_launch_point
			}
			#############################
			### MISSILE HISTORY FILES ###
			#############################

			############
			### 2000 ###
			############

			### USA ###

			USA = {

				#GNSS
				add_to_array = { GNSS_satellite_array = 10 }
				add_to_array = { GNSS_satellite_array = 11 }
				add_to_array = { GNSS_satellite_array = 19 }
				add_to_array = { GNSS_satellite_array = 12 }
				add_to_array = { GNSS_satellite_array = 8 }
				add_to_array = { GNSS_satellite_array = 12 }
				add_to_array = { GNSS_satellite_array = 5 }
				add_to_array = { GNSS_satellite_array = 0 }

				#COM
				#mil 27 #civ 11
				add_to_array = { COM_satellite_array = 38 }
				#mil 16 #civ 20
				add_to_array = { COM_satellite_array = 36 }
				#mil 14 #civ 11
				add_to_array = { COM_satellite_array = 25 }
				#mil 6 #civ 18
				add_to_array = { COM_satellite_array = 24 }
				#mil 6 #civ 24
				add_to_array = { COM_satellite_array = 30 }
				#mil 5 #civ 24
				add_to_array = { COM_satellite_array = 29 }
				#mil 5 #civ
				add_to_array = { COM_satellite_array = 5 }
				#mil 5 #civ
				add_to_array = { COM_satellite_array = 5 }

				#SPY
				add_to_array = { SPY_satellite_array = 26 }
				add_to_array = { SPY_satellite_array = 54 }
				add_to_array = { SPY_satellite_array = 20 }
				add_to_array = { SPY_satellite_array = 5 }
				add_to_array = { SPY_satellite_array = 4 }
				add_to_array = { SPY_satellite_array = 4 }
				add_to_array = { SPY_satellite_array = 3 }
				add_to_array = { SPY_satellite_array = 2 }

				#set sat system
				set_variable = { var_GNSS_mil_system_idx = 2 }
				set_variable = { var_GNSS_mil_sat_system_max = GNSS_sat_system_max_array^2 }
				set_variable = { var_GNSS_civ_system_idx = 1 }
				set_variable = { var_GNSS_civ_sat_system_max = GNSS_sat_system_max_array^1 }
				set_variable = { var_COM_mil_system_idx = 2 }
				set_variable = { var_COM_mil_sat_system_max = COM_sat_system_max_array^2 }
				set_variable = { var_COM_civ_system_idx = 1 }
				set_variable = { var_COM_civ_sat_system_max = COM_sat_system_max_array^1 }
				set_variable = { var_SPY_mil_system_idx = 2 }
				set_variable = { var_SPY_mil_sat_system_max = SPY_sat_system_max_array^2 }
				set_variable = { var_SPY_civ_system_idx = 1 }
				set_variable = { var_SPY_civ_sat_system_max = SPY_sat_system_max_array^1 }
				update_sat_systems_stats = yes
			}


		}
	}
	on_daily = {
		effect = {
			missile_on_daily = yes
			### testing
			update_sat_systems_stats = yes

		}
	}
	### for testing
	on_daily_GER = {
		effect = {
			update_sat_systems_stats = yes

		}
	}
}