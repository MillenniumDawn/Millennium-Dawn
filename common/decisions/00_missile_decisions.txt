00_missile_decisions = {

###############
### TESTING ###
###############

### test offsite

add_offsite = {
	icon = GFX_decision_generic_ignite_civil_war
	available = {

	}
	visible = {
		#has_country_flag = invisible
	}

	complete_effect = {
		log = "[GetDateText]: [Root.GetName]: Decision add_offsite"
		add_offsite_building = { type = arms_factory level = 10 }
	}

}

remove_offsite = {
	icon = GFX_decision_generic_ignite_civil_war
	available = {

	}
	visible = {
		#has_country_flag = invisible
	}

	complete_effect = {
		log = "[GetDateText]: [Root.GetName]: Decision remove_offsite"
		add_offsite_building = { type = arms_factory level = -10 }
	}

}


### mock up AI building
add_missile_defense_buildings = {
	icon = GFX_decision_generic_ignite_civil_war
	available = {

	}
	visible = {
		#has_country_flag = invisible
	}
	days_remove = 30

	complete_effect = {
		log = "[GetDateText]: [Root.GetName]: Decision add_missile_defense_buildings"
		random_controlled_state = {
			limit = {
				anti_air_building < 5
			}
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
		}
		random_controlled_state = {
			limit = {
				missile_defense_station < 6
			}
			add_building_construction = {
				type = missile_defense_station
				level = 1
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}


### mock up AI SAM
deploy_SAM = {
	icon = GFX_decision_generic_ignite_civil_war
	available = {

	}
	visible = {
		#has_country_flag = invisible
	}
	days_remove = 30
	fixed_random_seed = no

	complete_effect = {
		log = "[GetDateText]: [Root.GetName]: Decision deploy_SAM"
		randomize_temp_variable = {
			var = temp1
			distribution = uniform
			min = 0
			max = 7
		}
		set_variable = { var_random_tech_SAM = temp1 }
		#multiply_variable = { var_random_tech_SAM = 7 }
		round_variable = var_random_tech_SAM

		set_variable = { var_SAM_launcher_tech = SAM_TEL_array^var_random_tech_SAM }

		set_variable = { var_ship_SAM_launcher_tech = 4 }

		set_variable = { var_SAM_range = SAM_range_array^var_random_tech_SAM }

		set_variable = { var_SAM_intercept_chance = SAM_intercept_chance_array^var_random_tech_SAM }

		set_variable = { var_deployed_SAM_total = num_of_military_factories }
	}
	ai_will_do = {
		factor = 1
	}
}

### mock up AI ABM
deploy_ABM = {
	icon = GFX_decision_generic_ignite_civil_war
	available = {

	}
	visible = {
		#has_country_flag = invisible
	}
	days_remove = 30
	fixed_random_seed = no

	complete_effect = {
		log = "[GetDateText]: [Root.GetName]: Decision deploy_ABM"
		randomize_temp_variable = {
			var = temp1
			distribution = uniform
			min = 0
			max = 7
		}
		set_variable = { var_random_tech_ABM = temp1 }
		#multiply_variable = { var_random_tech_ABM = 7 }
		round_variable = var_random_tech_ABM

		set_variable = { var_ABM_launcher_tech = ABM_silo_array^var_random_tech_ABM }

		set_variable = { var_ship_ABM_launcher_tech = 2 }

		set_variable = { var_ABM_range = ABM_range_array^var_random_tech_ABM }

		set_variable = { var_ABM_intercept_chance = ABM_intercept_chance_array^var_random_tech_ABM }

		set_variable = { var_deployed_ABM_total = num_of_military_factories }
	}
	ai_will_do = {
		factor = 1
	}
}

######################
### End of Testing ###
######################


missile_construction_XXX = {

	allowed = { always = no }

	available = {
		always = no
	}

	activation = {
		always = no
	}

	visible = {
		always = yes
	}


	days_mission_timeout = var_gui_prod_XXX_CIC_days
	#days_remove = var_gui_prod_CIC_days
	selectable_mission = no

	fire_only_once = yes

	# modifier = {
	# 	civilian_factory_use = 1
	# }

	timeout_effect = {
		remove_dynamic_modifier = { modifier = missile_prod_XXX_dynamic_modifier }
		ROOT = {
			### missiles
			add_to_array = {
				array = missile_inventory_array
				value = var_gui_prod_XXX_amount
				index = var_gui_prod_XXX_missile_inventory_idx
			}
			### space
			add_to_array = {
				array = space_inventory_array
				value = var_gui_prod_XXX_amount
				index = var_gui_prod_XXX_space_inventory_idx
			}
		}
		###
		clr_country_flag = missile_construction_XXX
	}
	complete_effect = {

	}
	# remove_effect = {
	# 	add_to_variable = { var_inventroy_1 = var_gui_prod_CIC_total }
	# 	clr_country_flag = missile_construction_XXX
	# }
}

# missile_construction_XXX_x5 = {
# 	allowed = { always = no }
# 	available = {
# 		always = no
# 	}
# 	activation = {
# 		always = no
# 	}
# 	visible = {
# 		always = yes
# 	}
# 	days_mission_timeout = 0
# 	days_remove = var_gui_prod_CIC_days
# 	selectable_mission = no
# 	fire_only_once = yes
# 	modifier = {
# 		civilian_factory_use = 5
# 	}
# 	timeout_effect = {
# 	}
# 	complete_effect = {
# 	}
# 	remove_effect = {
# 		add_to_variable = { var_inventroy_1 = var_gui_prod_CIC_total }
# 		clr_country_flag = missile_construction_XXX
# 	}
# }

# missile_construction_XXX_x10 = {
# 	allowed = { always = no }
# 	available = {
# 		always = no
# 	}
# 	activation = {
# 		always = no
# 	}
# 	visible = {
# 		always = yes
# 	}
# 	days_mission_timeout = 0
# 	days_remove = var_gui_prod_CIC_days
# 	selectable_mission = no
# 	fire_only_once = yes
# 	modifier = {
# 		civilian_factory_use = 10
# 	}
# 	timeout_effect = {
# 	}
# 	complete_effect = {
# 	}
# 	remove_effect = {
# 		add_to_variable = { var_inventroy_1 = var_gui_prod_CIC_total }
# 		clr_country_flag = missile_construction_XXX
# 	}
# }




}
