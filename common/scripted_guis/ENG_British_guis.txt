scripted_gui = {
	ENG_devolution_gui_window = {
		window_name = "ENG_devolution_gui_window"
		context_type = player_context
		visible = { has_country_flag = open_devolution_screen }
		triggers = {
			# Scotland Info
			ENG_scotland_menu_agitation_visible =  { has_country_flag = ENG_scotland_menu_opened }
			ENG_scotland_menu_parliament_visible =  { has_country_flag = ENG_scotland_menu_opened }
			ENG_scotland_menu_dependency_visible = { has_country_flag = ENG_scotland_menu_opened }
			ENG_scottish_agitation_VAR_visible = { has_country_flag = ENG_scotland_menu_opened }
			ENG_scotland_parliament_VAR_visible = { has_country_flag = ENG_scotland_menu_opened }
			ENG_scots_dependent_visible = { has_country_flag = ENG_scotland_menu_opened }
			# North Ireland Info
			ENG_north_ireland_menu_agitation_visible =  { has_country_flag = ENG_n_ireland_menu_opened }
			ENG_north_ireland_menu_parliament_visible =  { has_country_flag = ENG_n_ireland_menu_opened }
			ENG_north_ireland_menu_dependency_visible = { has_country_flag = ENG_n_ireland_menu_opened }
			ENG_north_ireland_agitation_VAR_visible = { has_country_flag = ENG_n_ireland_menu_opened }
			ENG_north_ireland_parliament_VAR_visible = { has_country_flag = ENG_n_ireland_menu_opened }
			ENG_north_ireland_dependent_visible = { has_country_flag = ENG_n_ireland_menu_opened }
			# Wales Info
			ENG_wales_menu_agitation_visible =  { has_country_flag = ENG_wales_menu_opened }
			ENG_wales_menu_parliament_visible =  { has_country_flag = ENG_wales_menu_opened }
			ENG_wales_menu_dependency_visible = { has_country_flag = ENG_wales_menu_opened }
			ENG_wales_agitation_VAR_visible = { has_country_flag = ENG_wales_menu_opened }
			ENG_wales_parliament_VAR_visible = { has_country_flag = ENG_wales_menu_opened }
			ENG_wales_dependent_visible = { has_country_flag = ENG_wales_menu_opened }
			# Dependency
			ENG_scots_dependent_visible = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_scotland_is_dependent }
			ENG_scots_mostly_dependent_visible = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_scotland_is_mostly_dependent }
			ENG_scots_semi_dependent_visible = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_scotland_somewhat_dependent }
			ENG_scots_not_dependent_visible = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_scotland_not_dependent }
			# Ireland
			ENG_north_ireland_dependent_visible = { has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_north_ireland_is_dependent }
			ENG_north_ireland_semi_dependent_visible = { has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_north_ireland_somewhat_dependent }
			ENG_north_ireland_not_dependent_visible = { has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_north_ireland_not_dependent }
			ENG_north_ireland_mostly_dependent_visible = { has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_north_ireland_is_mostly_dependent }
			# Wales
			ENG_wales_dependent_visible = { has_country_flag = ENG_wales_menu_opened has_country_flag = ENG_wales_is_dependent }
			ENG_wales_semi_dependent_visible = { has_country_flag = ENG_wales_menu_opened has_country_flag = ENG_wales_somewhat_dependent }
			ENG_wales_not_dependent_visible = { has_country_flag = ENG_wales_menu_opened has_country_flag = ENG_wales_not_dependent }
			ENG_wales_mostly_dependent_visible = { has_country_flag = ENG_wales_menu_opened has_country_flag = ENG_wales_is_mostly_dependent }
			# Information Icons
			GFX_ENG_agitation_info_visible = { OR = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_wales_menu_opened } }
			GFX_ENG_parliament_info_visible = { OR = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_wales_menu_opened } }
			GFX_ENG_dependency_info_visible = { OR = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_wales_menu_opened } }
			GFX_ENG_irish_tension_info_visible = { has_country_flag = ENG_n_ireland_menu_opened }
			# Back button
			GFX_ENG_back_button_visible = { OR = { has_country_flag = ENG_scotland_menu_opened has_country_flag = ENG_n_ireland_menu_opened has_country_flag = ENG_wales_menu_opened } }
		}
		effects = {
			close_button_click = { clr_country_flag = open_devolution_screen }
			ENG_scotland_map_button_click = {
				set_country_flag = ENG_scotland_menu_opened
				clr_country_flag = ENG_n_ireland_menu_opened
				clr_country_flag = ENG_wales_menu_opened
			}
			# North Ireland button
			ENG_north_ireland_map_button_click = {
				set_country_flag = ENG_n_ireland_menu_opened
				clr_country_flag = ENG_scotland_menu_opened
				clr_country_flag = ENG_wales_menu_opened
			}
			# Wales button
			ENG_wales_map_button_click = {
				set_country_flag = ENG_wales_menu_opened
				clr_country_flag = ENG_n_ireland_menu_opened
				clr_country_flag = ENG_scotland_menu_opened
			}
			# Back
			GFX_ENG_back_button_click = {
				clr_country_flag = ENG_n_ireland_menu_opened
				clr_country_flag = ENG_scotland_menu_opened
				clr_country_flag = ENG_wales_menu_opened
			}
		}
	}
	open_devolution_main_button = {
		context_type = player_context
		window_name = "main_devolution_open_button"
		parent_window_name = "MapmodesInterface_Ingame"
		dirty = global.num_days
		visible = {
			original_tag = ENG
			NOT = {
				has_country_flag = ENG_devolution_GONE
			}
		}
		effects = {
			open_devolution_main_screen_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_devolution_screen } }
					set_country_flag = open_devolution_screen
					set_country_flag = devolution_main_menu
				}
				else = {
					clr_country_flag = open_devolution_screen
				}
				clr_country_flag = ENG_n_ireland_menu_opened
				clr_country_flag = ENG_scotland_menu_opened
				clr_country_flag = ENG_wales_menu_opened
			}
		}
	}
}