#ter defence
CUB_ter_defence_category ={

	CUB_ter_oboronaup_start = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 854 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}

	CUB_ter_oboronaup = {
		cost = 15
		icon = CUB_traien_usa
		days_remove = 10
		fire_only_once = yes

		available = {
			has_war = yes
		}
		visible = {
			 has_completed_focus = CUB_create_ter_defense
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CUB_ter_oboronaup_start"
			add_manpower = -5000
			set_temp_variable = { treasury_change = -6}
			modify_treasury_effect = yes
			division_template = {
				name = "Territorial Defense Brigade"
				is_locked = yes
				regiments = {
					Militia_Bat = { x = 0 y = 0 }
					Militia_Bat = { x = 0 y = 1 }
					Militia_Bat = { x = 1 y = 0 }
					Militia_Bat = { x = 1 y = 1 }
					Militia_Bat = { x = 1 y = 2 }
					Militia_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 0 }
					Arty_Bat = { x = 2 y = 1 }
					Arty_Bat = { x = 2 y = 2 }
				}
				support = {
					Mot_Recce_Comp = { x = 0 y = 0 }
					L_Engi_Comp = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 855 }
				create_unit = {
					division = "name = \"Territorial Defense Brigade\" division_template = \"Territorial Defense Brigade\" start_experience_factor = 1"
					owner = CUB
				}
			}
		}
	}
}
#blockade
CUB_blockade_fight_category ={
	CUB_un = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_1 }
			}
		}
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CUB_unt"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_1
					days = 200
					value = 1
				}
			}
		}
	CUB_us_citizens_propoganda = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_2 }
			}
		}
		ai_will_do = { factor = 355 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_us_citizens_propoganda"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_2
					days = 70
					value = 1
				}
			}
		}
	CUB_cuban_us = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 50
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_3 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_cuban_us"
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_3
					days = 100
					value = 1
				}
			}
		}
	CUB_smi = {
		icon = GFX_decision_usa
		days_remove = 45
		fire_only_once = no
		cost = 100
		allowed = { original_tag = CUB }
		ai_will_do = { factor = 355 }
		available = {
			custom_trigger_tooltip = {
				tooltip = cant_start1_tt
				NOT = { has_country_flag = cant_start_4 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: CUB_smi "
				set_temp_variable = { modify_blockade = -5 }
				modify_blockade_support = yes
				set_country_flag = {
					flag = cant_start_4
					days = 40
					value = 1
				}
			}
		}
	}
	CUB_alba_category ={
		CUB_alba_healthcare = {
			cost = 195
			days_remove = 365
			fire_only_once = yes
			icon = cuba_healtalba_button
			modifier = {
				consumer_goods_factor = 0.01
				monthly_population = 0.05
				stability_factor = 0.01
				health_cost_multiplier_modifier = 0.05
			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_alba_healthcare"
				add_stability = 0.06
				set_temp_variable = { treasury_change = -7 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_alba_schools = {
			cost = 150
			days_remove = 210
			fire_only_once = yes
			icon = cuba_education_button
			modifier = {
				consumer_goods_factor = 0.01
				political_power_factor = 0.03
				research_speed_factor = 0.05
				education_cost_multiplier_modifier = 0.05
				production_speed_internet_station_factor = 0.05
				production_speed_offices_factor = 0.10
				bureaucracy_cost_multiplier_modifier = 0.03

			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_alba_schools"
				add_stability = 0.02
				set_temp_variable = { treasury_change = -7 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_own_currency = {
			cost = 150
			days_remove = 210
			fire_only_once = yes
			icon = cuba_currency_button
			modifier = {
				political_power_factor = 0.03
				research_speed_factor = 0.05
				consumer_goods_factor = 0.02
				production_speed_infrastructure_factor = 0.10
				production_speed_internet_station_factor = 0.05
				bureaucracy_cost_multiplier_modifier = 0.05
				education_cost_multiplier_modifier = 0.05
			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_own_currency"
				add_stability = 0.02
				set_temp_variable = { treasury_change = -7 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_alba_petrosur = {
			cost = 150
			days_remove = 250
			fire_only_once = yes
			icon = cuba_oil_button
			modifier = {
				local_resources_factor = 0.15
				research_speed_factor = 0.05
				bureaucracy_cost_multiplier_modifier = -0.02
			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_alba_petrosur"
				add_stability = 0.06
				set_temp_variable = { treasury_change = -10 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_alba_telesur = {
			cost = 120
			days_remove = 180
			fire_only_once = yes
			icon = cuba_tv_button
			modifier = {
				political_power_factor = 0.03
				industrial_capacity_factory = 0.1
				research_speed_factor = 0.05
			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_alba_telesur"
				add_stability = 0.06
				set_temp_variable = { treasury_change = -5 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_alba_sport = {
			cost = 100
			days_remove = 180
			fire_only_once = yes
			icon = cuba_sports_button
			modifier = {
				political_power_factor = 0.03
				research_speed_factor = 0.05
			}
			ai_will_do = { factor = 100 }
			remove_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision remove CUB_alba_sport"
				add_stability = 0.03
				set_temp_variable = { treasury_change = -3 }
				modify_treasury_effect = yes
				add_to_variable = {
					var = alba_completed
					value = 1
				}
			}
		}
		CUB_alba_ticker_mission = {
			available = { always = no }
			activation = { has_idea = CUB_alba_idea }
			days_mission_timeout = 800
			is_good = no
			fire_only_once = yes
			icon = none
			cancel_trigger = {
				custom_trigger_tooltip = {
					tooltip = CUB_alba_completion_trigger_TT
					OR = {
						check_variable = { alba_completed = 5 }
						check_variable = { alba_completed > 5 }
					}
				}
			}
			visible = { check_variable = { alba_completed < 5 } }
			cancel_effect = {
				add_stability = 0.12
				country_event = { id = cuba.21 days = 1 }
			}
			timeout_effect = {
				add_stability = -0.12
				add_political_power = -100
				country_event = { id = cuba.22 days = 1 }
			}
		}
	}
	CUB_confederation_category = {
		CUB_invite_haiti = {
			allowed = { original_tag = CUB }
			cost = 80
			fire_only_once = no
			days_remove = 365
			ai_will_do = {
				factor = 355
			}
			available = {
				country_exists = HAI
				NOT = {
					has_war_with = HAI
				}
				HAI= {
					influence_higher_25 = yes
				}
			}
			visible = {
				CUB = { has_completed_focus = CUB_invite_haiti }
				tag = CUB
				HAI = {
					NOT = {
						has_country_flag = antillies_conf_agree
					}
				}
			}
			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision SER_invite_bosnia"
				HAI = {	country_event = { id = CubaConf.50 days = 1 } }
			}
		}
		CUB_invite_dominicana = {
			allowed = { original_tag = CUB }
			cost = 80
			fire_only_once = no
			days_remove = 365
			ai_will_do = {
				factor = 355
			}
			available = {
				country_exists = DOM
				NOT = {
					has_war_with = DOM
				}
				DOM= {
					influence_higher_25 = yes
				}
			}
			visible = {
				CUB = { has_completed_focus = CUB_invite_dominicana }
				tag = CUB
			}
			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision SER_invite_bosnia"
				DOM = {	country_event = { id = CubaConf.50 days = 1 } }
			}
		}
		CUB_invite_puerto_rico = {
			allowed = { original_tag = CUB }
			cost = 80
			fire_only_once = no
			days_remove = 365
			ai_will_do = {
				factor = 355
			}
			available = {
				country_exists = PTR
				NOT = {
					has_war_with = PTR
				}
				PTR= {
					influence_higher_25 = yes
				}
			}
			visible = {
				CUB = { has_completed_focus = CUB_invite_dominicana }
				tag = CUB
				country_exists = PTR
			}
			complete_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision SER_invite_bosnia"
				PTR = {	country_event = { id = CubaConf.50 days = 1 } }
			}
		}
	}

