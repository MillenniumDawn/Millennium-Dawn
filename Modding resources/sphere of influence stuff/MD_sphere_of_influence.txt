scripted_gui = {
	open_FoPol_main_button = {
		context_type = player_context
		window_name = "main_FoPol_open_button"
		parent_window_token = politics_tab
		dirty = global.refresh_gui # do not hit droid, this was dread doing gypsy things, we can make a new refresh if you want pepega kode
		effects = {
			FoPol_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_FoPol_screen } }
					set_country_flag = open_FoPol_screen
				}
				else = {
					FoPol_close_menu = yes
				}
			}
		}
	}
	FoPol_GUI_main = {
		window_name = "FoPol_GUI_main"
		context_type = player_context
		parent_window_token = politics_tab
		visible = { has_country_flag = open_FoPol_screen }
		triggers = {
		}
		effects = {
			close_button_click = { FoPol_close_menu = yes }
			FoPol_GUI_refresh_button_click = { refresh_gui = yes }
			FoPol_GUI_influence_button_click = {
				FoPol_view_influence_options = yes # flag stuff to actually see the stuff
				FoPol_existing_country_check = yes # to not make the array/gui shit pant and use pap's whatever the fuck is going on
			}
			FoPol_GUI_influence_actions_button_click = {
				FoPol_view_influence_actions = yes
				FoPol_sphere_check = yes
			}
			FoPol_GUI_terror_button_click = {
				FoPol_view_terror = yes
				FoPol_terror_check = yes
			}
			FoPol_GUI_PMC_button_click = { FoPol_view_PMC = yes }
			FoPol_GUI_protest_promises_button_click = { FoPol_view_protest_promises = yes }
			FoPol_GUI_corruption_button_click = { FoPol_view_corruption = yes }
		}
	}
	FoPol_tag_location_buttons = {
		window_name = "FoPol_tag_location_buttons"
		context_type = player_context
		parent_window_token = politics_tab
		dirty = global.refresh_gui

		visible = {
			OR = {
				has_country_flag = view_FoPol_influence_options
				has_country_flag = view_FoPol_influence_actions
				has_country_flag = view_FoPol_terror
				# has_country_flag = view_FoPol_PMC
				# has_country_flag = view_FoPol_protest_promises
				# has_country_flag = view_FoPol_corruption
			}
		}
		effects = {
			FoPol_influence_list_GUI_EUROPE_button_click = {
				FoPol_european_button_effects = yes
			}
			FoPol_influence_list_GUI_AMERICA_button_click = {
				FoPol_american_button_effects = yes
			}
			FoPol_influence_list_GUI_OCEANIA_button_click = {
				FoPol_oceanic_button_effects = yes
			}
			FoPol_influence_list_GUI_AFRICA_button_click = {
				FoPol_african_button_effects = yes
			}
			FoPol_influence_list_GUI_ASIA_button_click = {
				FoPol_asian_button_effects = yes
			}
			FoPol_influence_list_GUI_MIDDLE_EAST_button_click = {
				FoPol_middle_eastern_button_effects = yes
			}
		}
	}
	FoPol_influence_list_GUI = {
		window_name = "FoPol_influence_list_GUI"
		context_type = player_context
		parent_window_token = politics_tab
		dirty = global.refresh_gui

		visible = { has_country_flag = view_FoPol_influence_options }

		properties = {
			flag = { image = "[THIS.GetFlag]" }
		}

		effects = {
			flag_click = {
				set_variable = { ROOT.option_tag = THIS.id }
			}
		}

		# triggers = { # where gfx gone, put up missing posters
		# 	FoPol_major_overlay_visible = {
		# 		is_major = yes
		# 	}
		# }

		dynamic_lists = {
			FoPol_dynamic_influencer_tag_list = {
				change_scope = yes
				array = ROOT.influencer_option
				entry_container = "FoPol_tag_flag_entry"
			}
		}
	}
	FoPol_sphere_list_GUI = {
		window_name = "FoPol_sphere_list_GUI"
		context_type = player_context
		parent_window_token = politics_tab
		dirty = global.refresh_gui

		visible = { has_country_flag = view_FoPol_influence_actions }

		properties = {
			flag = { image = "[THIS.GetFlag]" }
		}

		effects = {
			flag_click = {
				set_variable = { ROOT.sphere_tag = THIS.id }
			}
		}

		# triggers = { # where gfx gone, put up missing posters
		# 	FoPol_major_overlay_visible = {
		# 		is_major = yes
		# 	}
		# }

		dynamic_lists = {
			FoPol_dynamic_sphere_tag_list = {
				change_scope = yes
				array = ROOT.influenced_nation
				entry_container = "FoPol_tag_flag_entry"
			}
		}
	}
	FoPol_terror_list_GUI = {
		window_name = "FoPol_terror_list_GUI"
		context_type = player_context
		parent_window_token = politics_tab
		dirty = global.refresh_gui

		visible = { has_country_flag = view_FoPol_terror }

		properties = {
			flag = { image = "[THIS.GetFlag]" }
		}

		effects = {
			flag_click = {
				set_variable = { ROOT.ct_tag = THIS.id }
			}
		}

		# triggers = { # where gfx gone, put up missing posters
		# 	FoPol_major_overlay_visible = {
		# 		is_major = yes
		# 	}
		# }

		dynamic_lists = {
			FoPol_counter_terror_tag_list = {
				change_scope = yes
				array = ROOT.counter_terror_targets
				entry_container = "FoPol_tag_flag_entry"
			}
		}
	}
}
#