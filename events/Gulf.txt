###########################
# 	  Gulf Events	      #
###########################

add_namespace = gulf

#hidden event that increases militant support/salafi jihadist/shia revolutionary/islamist popularity
country_event = {
	id = gulf.1
	
	hidden = yes
	
	trigger = {
		check_variable = { social_conservatism_government < social_conservatism_society }
	}
	
	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 10 }
			check_variable = { social_conservatism_society > 10 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 20 }
			check_variable = { social_conservatism_society > 20 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 30 }
			check_variable = { social_conservatism_society > 30 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 40 }
			check_variable = { social_conservatism_society > 40 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 50 }
			check_variable = { social_conservatism_society > 50 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 60 }
			check_variable = { social_conservatism_society > 60 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 70 }
			check_variable = { social_conservatism_society > 70 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 80 }
			check_variable = { social_conservatism_society > 80 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government < 90 }
			check_variable = { social_conservatism_society > 90 }
		}
	}
	
	option = {
		name = gulf.1.a
		log = "[GetDateText]: [This.GetName]: gulf.1.a executed"
		if = {	
			limit = {
				OR = {
					original_tag = KUW
					original_tag = BAH
					AND = {
						original_tag = SAU
						controls_state = 174 #Haasa
					}
				}
				NOT = { has_government = communism }
			}
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
			recalculate_party = yes
		}
		if = {	
			limit = {
				NOT = { has_government = neutrality }
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.02
			}
			recalculate_party = yes
		}
		if = {
			limit = { NOT = { has_government = fascism } }
			add_popularity = {
				ideology = fascism
				popularity = 0.02
			}
			recalculate_party = yes
		}
		if = {	
			limit = {
				has_government = fascism
				no_jihadist_government = yes
			}
			add_to_variable = { party_pop_array^11 = 0.01 }
			recalculate_party = yes
		}
	}
}

#hidden event that decreases militant support/salafi jihadist/shia revolutionary/islamist popularity
country_event = {
	id = gulf.2
	
	hidden = yes
	
	trigger = {
		check_variable = { social_conservatism_government > social_conservatism_society }
	}
	
	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 10 }
			check_variable = { social_conservatism_society < 10 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 20 }
			check_variable = { social_conservatism_society < 20 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 30 }
			check_variable = { social_conservatism_society < 30 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 40 }
			check_variable = { social_conservatism_society < 40 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 50 }
			check_variable = { social_conservatism_society < 50 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 60 }
			check_variable = { social_conservatism_society < 60 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 70 }
			check_variable = { social_conservatism_society < 70 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 80 }
			check_variable = { social_conservatism_society < 80 }
		}
		modifier = {
			factor = 0.5
			check_variable = { social_conservatism_government > 90 }
			check_variable = { social_conservatism_society < 90 }
		}
	}
	
	option = {
		name = gulf.2.a
		log = "[GetDateText]: [This.GetName]: gulf.2.a executed"
		if = {	
			limit = {
				OR = {
					original_tag = KUW
					original_tag = BAH
					AND = {
						original_tag = SAU
						controls_state = 174 #Haasa
					}
				}
				NOT = { has_government = communism }
			}
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			recalculate_party = yes
		}
		if = {	
			limit = {
				NOT = { has_government = neutrality }
			}
			add_popularity = {
				ideology = neutrality
				popularity = -0.02
			}
			recalculate_party = yes
		}
		if = {
			limit = { NOT = { has_government = fascism } }
			add_popularity = {
				ideology = fascism
				popularity = -0.02
			}
			recalculate_party = yes
		}
		if = {	
			limit = {
				has_government = fascism
				no_jihadist_government = yes
			}
			subtract_from_variable = { party_pop_array^11 = 0.01 }
			recalculate_party = yes
		}
	}
}

#hidden event that decreases SC-C to match SC-G
country_event = {
	id = gulf.3
	
	hidden = yes
	
	trigger = {
		check_variable = { social_conservatism_government < social_conservatism_society }
	}
	
	mean_time_to_happen = {
		days = 100
	}
	
	option = {
		name = gulf.3.a
		log = "[GetDateText]: [This.GetName]: gulf.3.a executed"
		subtract_from_variable = { social_conservatism_society = 1 }
		clamp_variable = {
			var = social_conservatism_society
			min = social_conservatism_government
			max = 100
		}
	}
}

#hidden event that increases SC-C to match SC-G
country_event = {
	id = gulf.4
	
	hidden = yes
	
	trigger = {
		check_variable = { social_conservatism_government > social_conservatism_society }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = gulf.4.a
		log = "[GetDateText]: [This.GetName]: gulf.4.a executed"
		add_to_variable = { social_conservatism_society = 1 }
		clamp_variable = {
			var = social_conservatism_society
			min = 0
			max = social_conservatism_government
		}
	}
}