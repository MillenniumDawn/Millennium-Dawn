#Unlisted on_actions by haveabeard
#http://forum.paradoxplaza.com/forum/index.php?threads/list-of-currently-hardcoded-features-mechanics-etc-in-hoi4.957265/page-25#post-22275603
#on_military_access
#on_offer_military_access
#on_improve_relation
#on_guarantee
#on_non_aggression_pact
#on_call_allies
#on_join_allies
#on_declare_war
#on_create_faction
#on_join_faction
#on_offer_join_faction
#on_peace_proposal
#on_add_wargoal
#on_lend_lease
#on_incoming_lend_lease
#on_send_volunteers
#on_send_expeditionary_force
#on_return_expeditionary_forces
#on_request_expeditionary_forces
#on_generate_wargoal
#on_boost_party_popularity
#on_stage_coup
#on_leave_faction
#on_dismantle_faction
#on_ask_for_state_control
#on_give_state_control
#on_reduce_autonomy
#on_increase_autonomy

# written by Birdy
# The on_action here is used to fire random dynamic events on_weekly checks. The idea is that the faction will get interacted with as long as they have an opinion of some kind.
on_actions = {
	on_monthly = {
		# random_events = {
		# 	100 = small_medium_business_owners_request_events.0
		# 	100 = small_medium_business_owners_request_events.1
		# 	100 = small_medium_business_owners_request_events.2
		# 	100 = small_medium_business_owners_request_events.3
		# 	100 = small_medium_business_owners_request_events.4
		# 	100 = small_medium_business_owners_request_events.5
		# 	100 = small_medium_business_owners_request_events.6
		# 	100 = small_medium_business_owners_request_events.7
		# 	100 = small_medium_business_owners_request_events.8
		# 	100 = small_medium_business_owners_bonus_events.0
		# 	100 = small_medium_business_owners_bonus_events.1
		# 	100 = small_medium_business_owners_negative_events.0
		# 	100 = 0
		# }

		effect = {
			if = {
				limit = {
					OR = {
						check_variable = { global.month = 4 }
						check_variable = { global.month = 8 }
						check_variable = { global.month = 12 }
					}
				}
				#Economic Factions
				if = { #SMBO - Small Medium Business Owners
					limit = { has_idea = small_medium_business_owners }
					random_list = {
						5 = { #S&M Demand Tax Cuts
							#More likely with higher tax rate
							modifier = {
								factor = 2.5
								check_variable = { tax_rate > 30 }
							}
							#Less Likely if low tax rate
							modifier = {
								factor = 0.5
								check_variable = { tax_rate < 20 }
							}
							#More likely if low economic cyclce
							modifier = {
								factor = 0.5
								OR = {
									has_idea = depression
									has_idea = recession
									has_idea = stagnation
								}
							}
							#Do not fire in this circumstance
							modifier = {
								factor = 0
								OR = {
									has_country_flag = enthusiastic_small_medium_business_owners
									check_variable = { tax_rate < 11 }
									NOT = { has_idea = small_medium_business_owners }
								}
							}
							country_event = { id = small_medium_business_owners_request_events.0 random_days = 10 }
						}
						5 = { #Large Foreign Coumpany purchases domestic small business
							modifier = {
								factor = 0.5
								OR = {
									has_government = communism
									has_government = fascism
									has_government = nationalist
								}
							}
							modifier = {
								factor = 1.5
								OR = {
									has_idea = international_bankers
									has_idea = industrial_conglomerates
								}
							}
							modifier = {
								factor = 0
								NOT = { has_idea = small_medium_business_owners }
							}
							country_event = { id = small_medium_business_owners_request_events.1 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.2 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.3 random_days = 10 }
						 }
						5 = {
							country_event = { id = small_medium_business_owners_request_events.4 random_days = 10 }
						 }
						#25
						5 = {
							country_event = { id = small_medium_business_owners_request_events.5 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.6 random_days = 10 }
						 }
						5 = {
							country_event = { id = small_medium_business_owners_request_events.7 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_request_events.8 random_days = 10 }
						}
						#45
						5 = {
							country_event = { id = small_medium_business_owners_bonus_events.0 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_bonus_events.1 random_days = 10 }
						}
						5 = {
							country_event = { id = small_medium_business_owners_negative_events.0 random_days = 10 }
						}
						#60
						30 = {
							modifier = {
								factor = 100
								has_war = yes
							}
						}
					}
				}
				if = { #INTBANK - International Bankers
					limit = { has_idea = international_bankers }

				}
				if = {
					limit = { has_idea = fossil_fuel_industry }

				}
				if = {
					limit = { has_idea = industrial_conglomerates }

				}
				if = {
					limit = { has_idea = oligarchs }

				}
				#Militaristic
				if = {
					limit = { has_idea = maritime_industry }

				}
				if = {
					limit = { has_idea = defense_industry }

				}
				if = {
					limit = { has_idea = the_military }

				}
				if = {
					limit = { has_idea = intelligence_community }

				}
				#Special Interests
				if = {
					limit = { has_idea = labour_unions }

				}
				if = {
					limit = { has_idea = landowners }

				}
				if = {
					limit = { has_idea = farmers }

				}
				if = {
					limit = { has_idea = communist_cadres }

				}
				if = {
					limit = { has_idea = the_priesthood }

				}
				if = {
					limit = { has_idea = The_Ulema }

				}
				if = {
					limit = { has_idea = The_Clergy }

				}
				if = {
					limit = { has_idea = wahabi_ulema }

				}
				#Nation Specific
				if = {
					limit = { has_idea = the_donju }

				}
				if = {
					limit = { has_idea = the_bazaar }

				}
				if = {
					limit = { has_idea = saudi_royal_family }

				}
				if = {
					limit = { has_idea = irgc }

				}
				if = {
					limit = { has_idea = iranian_quds_force }

				}
				if = {
					limit = { has_idea = foreign_jihadis }

				}
				if = {
					limit = { has_idea = vevak }

				}
				if = {
					limit = { has_idea = isi_pakistan }

				}
				if = {
					limit = { has_idea = wall_street }

				}
				if = {
					limit = { has_idea = chaebols }

				}
			}
		}
	}
}