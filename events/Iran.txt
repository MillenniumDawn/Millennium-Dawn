add_namespace = iran_md
add_namespace = iranian_events
add_namespace = PER_majlis
add_namespace = nuclear_iran
add_namespace = iranian_focus
add_namespace = PER_election_events
add_namespace = axis_of_resistance_events

country_event = {
	id = iran_md.1 # Flag change (alt hist)
	title = iran_md.1.t
	desc = iran_md.1.d
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = PER_civil_war
		}
	}
	option = {
		name = iran_md.1.a
		log = "[GetDateText]: [This.GetName]:iran_md.1.a executed"
		hidden_effect = {
			if = {
				limit = {
					PER = {
						nationalist_monarchists_are_in_power = yes
					}
				}
				PER = { set_cosmetic_tag = PER_AUTH_PAN }
			}
		}
	}
}
country_event = {
	id = iranian_events.1 #Bam Earthquake
	title = iranian_events.1.t
	desc = iranian_events.1.d
	picture = GFX_bam_earthquake

	is_triggered_only = yes

	option = { # Send army personnel there to handle the situation.
		name = iranian_events.1.o1
		log = "[GetDateText]: [This.GetName]:iranian_events.1.o1 executed"
		add_political_power = -50
		add_stability = -0.05
		add_manpower = -1000
	}
	option = { # Declare martial law until the situation calms down.
		name = iranian_events.1.o2
		log = "[GetDateText]: [This.GetName]:iranian_events.1.o2 executed"
		add_political_power = -200
		add_stability = 0.05
	}
	option = { # Move Capital to Isfahan for now.
		name = iranian_events.1.o3
		log = "[GetDateText]: [This.GetName]:iranian_events.1.o3 executed"
		set_capital = {
			state = 976
			remember_old_capital = yes
		}
		hidden_effect = {
			add_timed_idea = {
				idea = PER_capital_moved_to_isfahan
				days = 30
			}
		}
	}
}
news_event = {
	id = iranian_events.2
	title = iranian_events.2.t
	desc = iranian_events.2.d

	picture = GFX_aramco_fire_night

	is_triggered_only = yes
	major = yes

	option = {
		name = iranian_events.2.o1
		log = "[GetDateText]: [This.GetName]: iranian_events.2.o1 executed"
	}
}
country_event = {
	id = iranian_events.3 # Sabotage In Aramco
	title = iranian_events.3.t
	desc = iranian_events.3.d
	picture = GFX_aramco_fire_day
	is_triggered_only = yes

	option = {
		name = iranian_events.3.o1 # Curse them.
		log = "[GetDateText]: [This.GetName]:iranian_events.3.o1 executed"
		add_stability = -0.05
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
		news_event = {
			id = iranian_events.2
		}
	}
}
news_event = {
	id = iranian_events.4 # Israeli Weapon Storage Blown
	title = iranian_events.4.t
	desc = iranian_events.4.d

	picture = GFX_nahariya_storage_blown_world

	is_triggered_only = yes
	major = yes

	option = {
		name = iranian_events.4.o1
		log = "[GetDateText]: [This.GetName]: iranian_events.4.o1 executed"
	}
}
country_event = {
	id = iranian_events.5 # Sabotage In Nahariya Weapon Storage
	title = iranian_events.5.t
	desc = iranian_events.5.d
	picture = GFX_nahariya_storage_blown_country
	is_triggered_only = yes

	option = {
		name = iranian_events.5.o1 # Damn those Iranians!!!
		log = "[GetDateText]: [This.GetName]:iranian_events.5.o1 executed"
		add_stability = -0.05
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
		news_event = {
			id = iranian_events.4
		}
	}
}
country_event = {
	id = iranian_events.7 # The Quds is ours!
	title = iranian_events.7.t
	desc = iranian_events.7.d
	picture = GFX_iran_quds

	is_triggered_only = yes

	option = { # For Islam and for Palestine!
		name = iranian_events.7.o1
		log = "[GetDateText]: [This.GetName]:iranian_events.7.o1 executed"
		ai_chance = {
			base = 1
		}
		set_country_flag = quds_event_was_fired
		PAL = {
			every_core_state = {
				transfer_state_to = PAL
			}
			set_capital = { state = 207 }
			set_province_name = { id = 1086 name = PER_1086_name }
			set_province_name = { id = 4206 name = PER_4206_name }
			set_province_name = { id = 11970 name = PER_11970_name }
		}
		PER = {
			puppet = PAL
			hidden_effect = {
				remove_ideas = israeli_settlements
			}
		}
		hidden_effect = {
			ISR = {
				set_country_flag = PER_identify_israeli_divisions_to_damage_them
			}
			damage_units = {
				region = 174
				limit = { has_country_flag = PER_identify_israeli_divisions_to_damage_them }
				damage = 0.8
				org_damage = 0.5
				str_damage = 0.8
				ratio = yes
				army = yes
				navy = yes
			}
			ISR = {
				clr_country_flag = PER_identify_israeli_divisions_to_damage_them
			}
		}
	}
	option = { # We need it for now.
		name = iranian_events.7.o2
		log = "[GetDateText]: [This.GetName]:iranian_events.7.o2 executed"
		set_country_flag = quds_event_was_fired
		ai_chance = {
			base = 0
		}
	}

	trigger = {
		PER = {
			NOT = {
				has_country_flag = quds_event_was_fired
			}
			OR = {
				emerging_hardline_shiite_are_in_power = yes
				emerging_moderate_shiite_are_in_power = yes
			}
			OR = {
				207 = {
					is_controlled_by = PER
				}
				any_allied_country = {
					207 = {
						is_controlled_by = PREV
					}
				}
			}
		}
		ISR = {
			OR = {
				surrender_progress > 0.2
				has_capitulated = yes
			}
		}
	}
}
news_event = {
	id = iranian_events.8
	title = iranian_events.8.t
	desc = iranian_events.8.d

	picture = GFX_turkey_iraqi_base_world

	is_triggered_only = yes
	major = yes

	option = {
		name = iranian_events.8.o1
		log = "[GetDateText]: [This.GetName]: iranian_events.8.o1 executed"
	}
}
country_event = {
	id = iranian_events.9 # Turkey-Iraqi Base Blown
	title = iranian_events.9.t
	desc = iranian_events.9.d
	picture = GFX_turkey_iraqi_base_country
	is_triggered_only = yes

	option = {
		name = iranian_events.9.o1 # Sad.
		log = "[GetDateText]: [This.GetName]:iranian_events.9.o1 executed"
		add_war_support = -0.05
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
		news_event = {
			id = iranian_events.8
			days = 0
		}
	}
}
news_event = {
	id = iranian_events.10
	title = iranian_events.10.t
	desc = iranian_events.10.d

	picture = GFX_baku_gas_lines_world

	is_triggered_only = yes
	major = yes

	option = {
		name = iranian_events.10.o1
		log = "[GetDateText]: [This.GetName]: iranian_events.10.o1 executed"
	}
}
country_event = {
	id = iranian_events.11 # Baku Gas Lines Blown
	title = iranian_events.11.t
	desc = iranian_events.11.d
	picture = GFX_baku_gas_lines_country
	is_triggered_only = yes

	option = {
		name = iranian_events.11.o1 # Oh.
		log = "[GetDateText]: [This.GetName]:iranian_events.11.o1 executed"
		add_war_support = -0.02
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
		news_event = {
			id = iranian_events.10
			days = 0
		}
	}
}
country_event = {
	id = iranian_events.12 # The Third Development Plan
	title = iranian_events.12.t
	desc = iranian_events.12.d
	picture = GFX_iran_majles
	is_triggered_only = yes

	option = { # Industry
		name = iranian_events.12.o1
		log = "[GetDateText]: [This.GetName]:iranian_events.12.o1 executed"
		add_timed_idea = {
			idea = industry_focus_idea
			days = 1825
		}
		set_country_flag = PER_development_plan_option_industry
	}
	option = { # Science
		name = iranian_events.12.o2
		log = "[GetDateText]: [This.GetName]:iranian_events.12.o2 executed"
		add_timed_idea = {
			idea = science_focus_idea
			days = 1825
		}
		set_country_flag = PER_development_plan_option_science
	}
	option = { # Military
		name = iranian_events.12.o3
		log = "[GetDateText]: [This.GetName]:iranian_events.12.o3 executed"
		add_timed_idea = {
			idea = military_focus_idea
			days = 1825
		}
		set_country_flag = PER_development_plan_option_military
	}
}

### Iranian Presidental Elections Events ###
country_event = { # Event to automatically choose presidents based on popularity and date
	id = PER_election_events.1
	title = PER_election_events.1.t
	desc = PER_election_events.1.d
	picture = GFX_election
	trigger = {
		tag = PER
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		NOT = {
			has_country_flag = PER_election_enabled
		}
		OR = {
			date > 2001.2.1
			date > 2005.2.1
			date > 2009.2.1
			date > 2013.2.1
			date > 2017.2.1
			date > 2021.2.1
		}
	}
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	immediate = {
		if = { #8th Period
			limit = {
				date > 2001.1.1
				date < 2002.1.1
			}
			country_event = {
				id = PER_election_events.2
				days = 0
			}
		}
		else_if = { #9th Period
			limit = {
				date > 2005.1.1
				date < 2006.1.1
			}
			country_event = {
				id = PER_election_events.3
				days = 0
			}
		}
		else_if = { #10th Period
			limit = {
				date > 2009.1.1
				date < 2010.1.1
			}
			country_event = {
				id = PER_election_events.4
				days = 0
			}
		}
		else_if = { #11th Period
			limit = {
				date > 2013.1.1
				date < 2014.1.1
			}
			country_event = {
				id = PER_election_events.5
				days = 0
			}
		}
		else_if = { #12th Period
			limit = {
				date > 2017.1.1
				date < 2018.1.1
			}
			country_event = {
				id = PER_election_events.6
				days = 0
			}
		}
		else_if = { #13th Period
			limit = {
				date > 2021.1.1
				date < 2022.1.1
			}
			country_event = {
				id = PER_election_events.7
				days = 0
			}
		}
	}


	option = {
		name = PER_election_events.1.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.1.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}
country_event = { # 2001 Election Notification (Between Khatami and Tavakkoli)
	id = PER_election_events.2
	title = PER_election_events.2.t
	desc = PER_election_events.2.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2001.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi

		set_country_flag = PER_election_enabled
		set_country_flag = principalist_portrait_tavakoli
		if = {
			limit = {
				has_country_flag = PER_yazdi_goes
			}
			set_country_flag = reformist_portrait_yazdi
		}
		else = {
			set_country_flag = reformist_portrait_khatami
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}


	option = {
		name = PER_election_events.2.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.2.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}
country_event = { # 2005 Election Notification (Between Ahmadinejad and Rafsanjani)
	id = PER_election_events.3
	title = PER_election_events.3.t
	desc = PER_election_events.3.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2005.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi
		remove_from_array = { gov_coalition_array = 16 }

		set_country_flag = PER_election_enabled
		set_country_flag = principalist_portrait_ahmadinejad
		if = {
			limit = {
				has_country_flag = PER_yazdi_goes
			}
			set_country_flag = reformist_portrait_kavakebian
		}
		else = {
			set_country_flag = reformist_portrait_rafsanjani
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}


	option = {
		name = PER_election_events.3.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.3.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}
country_event = { # 2009 Election Notification (Between Ahmadinejad and Mousavi)
	id = PER_election_events.4
	title = PER_election_events.4.t
	desc = PER_election_events.4.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2009.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi
		

		set_country_flag = PER_election_enabled
		set_country_flag = principalist_portrait_ahmadinejad
		if = {
			limit = {
				has_country_flag = PER_karroubi_goes
			}
			set_country_flag = reformist_portrait_karroubi
		}
		else = {
			set_country_flag = reformist_portrait_mousavi
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}


	option = {
		name = PER_election_events.4.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.4.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}
country_event = { # 2013 Election Notification (Between Ghalibaf and Rouhani)
	id = PER_election_events.5
	title = PER_election_events.5.t
	desc = PER_election_events.5.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2013.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi

		set_country_flag = PER_election_enabled
		PER_scripted_effect_update_principalists_popularity_variable = yes
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_mashaei_goes
				}
			}
			set_country_flag = principalist_portrait_ghalibaf
		}
		else = {
			set_country_flag = principalist_portrait_mashaei
		}
		set_country_flag = reformist_portrait_rouhani
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
			if = {
				limit = {
					is_historical_focus_on = yes
					has_country_flag = principalist_portrait_ghalibaf
				}
				country_event = {
					id = PER_election_events.21
					days = 20
				}
			}
			else_if = {
				limit = {
					has_country_flag = principalist_portrait_ghalibaf
				}
				random_list = {
					30 = { # 30% Chance that Ghalibaf withdraws with historical AI off
						country_event = {
							id = PER_election_events.21
							days = 20
						}
					}
					70 = { }
				}
			}
		}
	}


	option = {
		name = PER_election_events.5.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.5.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}

country_event = { # 2013 Election Notification (Qalibaf Withdraws from Presidential Election, 30% chance that this event happens)
	id = PER_election_events.21
	title = PER_election_events.21.t
	desc = PER_election_events.21.d
	picture = GFX_ghalibaf_won_election
	is_triggered_only = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = principalist_portrait_ghalibaf
		set_country_flag = principalist_portrait_rezaee
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}

	option = {
		name = PER_election_events.21.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.21.a executed"
	}
}

country_event = { # 2017 Election Notification (Between Raisi and Rouhani)
	id = PER_election_events.6
	title = PER_election_events.6.t
	desc = PER_election_events.6.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		tag = PER
		date > 2017.2.1
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi

		set_country_flag = PER_election_enabled
		set_country_flag = reformist_portrait_rouhani
		if = {
			limit = {
				has_country_flag = PER_bayadi_goes
			}
			set_country_flag = principalist_portrait_bayadi
		}
		else = {
			set_country_flag = principalist_portrait_raisi
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}


	option = {
		name = PER_election_events.6.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.6.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}
country_event = { # 2021 Election Notification (Between Raisi and Hemmati)
	id = PER_election_events.7
	title = PER_election_events.7.t
	desc = PER_election_events.7.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2021.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi

		set_country_flag = PER_election_enabled
		set_country_flag = principalist_portrait_raisi
		if = {
			limit = {
				has_country_flag = PER_haghshenas_goes
			}
			set_country_flag = reformist_portrait_haghshenas
		}
		else = {
			set_country_flag = reformist_portrait_hemmati
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}


	option = {
		name = PER_election_events.7.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.7.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
		set_country_flag = PER_13th
	}
}

country_event = { # 2025 Election Notification (Between Raisi and Pezeshkian)
	id = PER_election_events.71
	title = PER_election_events.71.t
	desc = PER_election_events.71.d
	picture = GFX_election
	fire_only_once = yes
	trigger = {
		has_government = communism
		OR = {
			emerging_hardline_shiite_are_in_power = yes
			emerging_moderate_shiite_are_in_power = yes
		}
		tag = PER
		date > 2025.3.1
		NOT = {
			has_country_flag = PER_presidency_abolished
		}
	}
	fire_only_once = yes
	timeout_days = 30
	immediate = {
		clr_country_flag = PER_election_enabled
		clr_country_flag = principalist_portrait_ahmadinejad
		clr_country_flag = principalist_portrait_raisi
		clr_country_flag = principalist_portrait_tavakoli
		clr_country_flag = principalist_portrait_ghalibaf
		clr_country_flag = principalist_portrait_rezaee
		clr_country_flag = principalist_portrait_jalili
		clr_country_flag = reformist_portrait_hemmati
		clr_country_flag = reformist_portrait_khatami
		clr_country_flag = reformist_portrait_mousavi
		clr_country_flag = reformist_portrait_rafsanjani
		clr_country_flag = reformist_portrait_rouhani
		clr_country_flag = reformist_portrait_pezeshkian
		clr_country_flag = reformist_portrait_kavakebian
		clr_country_flag = reformist_portrait_yazdi
		clr_country_flag = reformist_portrait_karroubi
		clr_country_flag = reformist_portrait_haghshenas
		clr_country_flag = principalist_portrait_mashaei
		clr_country_flag = principalist_portrait_bayadi

		set_country_flag = PER_election_enabled
		set_country_flag = principalist_portrait_raisi
		set_country_flag = reformist_portrait_pezeshkian
		PER_scripted_effect_update_principalists_popularity_variable = yes
		hidden_effect = {
			activate_mission = PER_auto_update_gui_weekly
		}
	}

	option = {
		name = PER_election_events.71.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.71.a executed"
		unlock_decision_category_tooltip = PER_Iranian_elections_decision_category
	}
}

######## Election Result ########
country_event = { # Khatami Elected as President 2001 (Reformists Won)
	id = PER_election_events.8
	title = PER_election_events.8.t
	desc = PER_election_events.8.d
	picture = GFX_khatami_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.8.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.8.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_khatami # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_khatami_idea
	}
}
country_event = { # Yazdi Elected as President 2001 (Reformists Won)
	id = PER_election_events.81
	title = PER_election_events.81.t
	desc = PER_election_events.81.d

	is_triggered_only = yes

	option = {
		name = PER_election_events.8.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.81.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_yazdi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_yazdi_idea
		custom_effect_tooltip = PER_add_FMI_TT
		add_to_array = { gov_coalition_array = 16 }
	}
}
country_event = { # Tavakoli Elected as President 2001 (Principalists Won)
	id = PER_election_events.9
	title = PER_election_events.9.t
	desc = PER_election_events.9.d
	picture = GFX_tavakoli_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.9.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.9.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_tavakoli # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_tavakoli_idea
	}
}
country_event = { # Rafsanjani Elected as President 2005 (Reformists Won)
	id = PER_election_events.10
	title = PER_election_events.10.t
	desc = PER_election_events.10.d
	picture = GFX_rafsanjani_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.10.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.10.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_rafsanjani # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_rafsanjani_idea
	}
}
country_event = { # Kavakebian Elected as President 2005 (Reformists Won)
	id = PER_election_events.101
	title = PER_election_events.101.t
	desc = PER_election_events.101.d
	is_triggered_only = yes

	option = {
		name = PER_election_events.101.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.101.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_kavakebian # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_kavakebian_idea
	}
}
country_event = { # Ahmadinejad Elected as President 2005 (Principalists Won)
	id = PER_election_events.11
	title = PER_election_events.11.t
	desc = PER_election_events.11.d
	picture = GFX_ahmadinejad_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.11.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.11.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_ahmadinejad # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_ahmadinejad_idea
	}
}
country_event = { # Mousavi Elected as President 2009 (Reformists Won)
	id = PER_election_events.12
	title = PER_election_events.12.t
	desc = PER_election_events.12.d
	picture = GFX_mousavi_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.12.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.12.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_mousavi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_mousavi_idea
	}
}
country_event = { # Karroubi Elected as President 2009 (Reformists Won)
	id = PER_election_events.121
	title = PER_election_events.121.t
	desc = PER_election_events.121.d
	picture = GFX_mousavi_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.121.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.121.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_karroubi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_karroubi_idea
	}
}
country_event = { # Ahmedinejad Elected as President 2009 (Principalists Won)
	id = PER_election_events.13
	title = PER_election_events.13.t
	desc = PER_election_events.13.d
	picture = GFX_ahmadinejad_won_election_second
	is_triggered_only = yes


	option = {
		name = PER_election_events.13.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.13.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_ahmadinejad # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_ahmadinejad_idea

		#2009 Election protests will happen IF reformists have had 20% support or more.
		hidden_effect = {
			if = {
				limit = {
					check_variable = { reformists_popularity_percent_round > 19 }
				}
				country_event = {
					id = PER_election_events.28
					days = 3
				}
			}
		}
	}
}
country_event = { # Rouhani Elected as President 2013 (Reformists Won)
	id = PER_election_events.14
	title = PER_election_events.14.t
	desc = PER_election_events.14.d
	picture = GFX_rouhani_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.14.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.14.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_rouhani # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_rouhani_idea
	}
}
country_event = { # Ghalibaf Elected as President 2013 (Principalists Won)
	id = PER_election_events.15
	title = PER_election_events.15.t
	desc = PER_election_events.15.d
	picture = GFX_ghalibaf_won_election
	is_triggered_only = yes

	option = {
		name = PER_election_events.15.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.15.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_ghalibaf # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_ghalibaf_idea
	}
}
country_event = { # Mashaei Elected as President 2013 (Principalists Won)
	id = PER_election_events.151
	title = PER_election_events.15.t
	desc = PER_election_events.15.d
	picture = GFX_ghalibaf_won_election
	is_triggered_only = yes

	option = {
		name = PER_election_events.151.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.151.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_mashaei # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_mashaei_idea
	}
}
country_event = { # Rezaee Elected as President 2013 (Principalists Won)
	id = PER_election_events.16
	title = PER_election_events.16.t
	desc = PER_election_events.16.d
	picture = GFX_rezaee_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.16.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.16.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_rezaee # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_rezaee_idea
	}
}
country_event = { # Rouhani Elected as President 2017 (Reformists Won)
	id = PER_election_events.17
	title = PER_election_events.17.t
	desc = PER_election_events.17.d
	picture = GFX_rouhani_won_election_second
	is_triggered_only = yes


	option = {
		name = PER_election_events.17.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.17.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_rouhani # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_rouhani_idea
	}
}
country_event = { # Raisi Elected as President 2017 (Principalists Won)
	id = PER_election_events.18
	title = PER_election_events.18.t
	desc = PER_election_events.18.d
	picture = GFX_raisi_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.18.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.18.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_raisi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_raisi_idea
	}
}
country_event = { # Bayadi Elected as President 2017 (Principalists Won)
	id = PER_election_events.181
	title = PER_election_events.181.t
	desc = PER_election_events.181.d
	picture = GFX_raisi_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.181.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.181.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_bayadi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_bayadi_idea
	}
}
country_event = { # Hemmati Elected as President 2021 (Reformists Won)
	id = PER_election_events.19
	title = PER_election_events.19.t
	desc = PER_election_events.19.d
	picture = GFX_hemmati_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.19.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.19.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_hemmati # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_hemmati_idea
	}
}
country_event = { # Haghshenas Elected as President 2021 (Reformists Won)
	id = PER_election_events.191
	title = PER_election_events.191.t
	desc = PER_election_events.191.d
	picture = GFX_hemmati_won_election
	is_triggered_only = yes


	option = {
		name = PER_election_events.191.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.191.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_haghshenas # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_haghshenas_idea
	}
}
country_event = { # Raisi Elected as President 2021 (Principalists Won)
	id = PER_election_events.20
	title = PER_election_events.20.t
	desc = PER_election_events.20.d
	picture = GFX_raisi_won_election_second
	is_triggered_only = yes


	option = {
		name = PER_election_events.20.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.20.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_raisi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_raisi_idea
	}
}

country_event = { # Raisi Elected as President 2025 (Principalists Won)
	id = PER_election_events.201
	title = PER_election_events.201.t
	desc = PER_election_events.201.d
	picture = GFX_raisi_won_election_second
	is_triggered_only = yes


	option = {
		name = PER_election_events.201.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.201.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 9 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_raisi # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_raisi_idea
	}
}

country_event = { # Pezeshkian Elected as President 2025 (Reformists Won)
	id = PER_election_events.202
	title = PER_election_events.202.t
	desc = PER_election_events.202.d

	is_triggered_only = yes

	option = {
		name = PER_election_events.202.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.202.a executed"

		PER_scripted_effect_update_principalists_popularity_variable = yes

		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes

		PER_scripted_effect_finish_election = yes
		set_country_flag = PER_president_pezeshkian # Set President
		add_to_variable = { iranian_president_change = 1 }
		add_ideas = PER_pezeshkian_idea
	}
}
#Events for decisions
country_event = { # TV Ads for Principalists
	id = PER_election_events.22
	title = PER_election_events.22.t
	desc = PER_election_events.22.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Let's do this!
		name = PER_election_events.22.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.22.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.03 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.03 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #Nevermind.
		name = PER_election_events.22.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.22.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # TV Ads for Reformists
	id = PER_election_events.23
	title = PER_election_events.23.t
	desc = PER_election_events.23.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Let's do this!
		name = PER_election_events.23.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.23.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.03 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.03 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #Nevermind.
		name = PER_election_events.23.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.23.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # Put Up Street Ads for Principalists
	id = PER_election_events.24
	title = PER_election_events.24.t
	desc = PER_election_events.24.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Okay.
		name = PER_election_events.24.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.24.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.015 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.015 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #Maybe next time.
		name = PER_election_events.24.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.24.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # Put Up Street Ads for Reformists
	id = PER_election_events.25
	title = PER_election_events.25.t
	desc = PER_election_events.25.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Okay.
		name = PER_election_events.25.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.25.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.015 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.015 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #Maybe next time.
		name = PER_election_events.25.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.25.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # Host Internet Ads for Principalists
	id = PER_election_events.26
	title = PER_election_events.26.t
	desc = PER_election_events.26.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Sure, why not?
		name = PER_election_events.26.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.26.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.01 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.01 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #No.
		name = PER_election_events.26.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.26.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # Host Internet Ads for Reformists
	id = PER_election_events.27
	title = PER_election_events.27.t
	desc = PER_election_events.27.d
	picture = GFX_politics_talks
	is_triggered_only = yes


	option = { #Sure, why not?
		name = PER_election_events.27.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.27.a executed"
		random_list = {
			70 = {
				set_temp_variable = { party_index = 8 }
				set_temp_variable = { party_popularity_increase = 0.01 }
				add_relative_party_popularity = yes
			}
			30 = {
				set_temp_variable = { party_index = 9 }
				set_temp_variable = { party_popularity_increase = 0.01 }
				add_relative_party_popularity = yes
			}
		}
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
	option = { #No.
		name = PER_election_events.27.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.27.b executed"
		PER_scripted_effect_update_principalists_popularity_variable = yes
	}
}
country_event = { # 2009 Iranian election protests
	id = PER_election_events.28
	title = PER_election_events.28.t
	desc = PER_election_events.28.desc
	picture = GFX_election_protests
	is_triggered_only = yes

	option = { # Suppress them now!
		name = PER_election_events.28.a
		log = "[GetDateText]: [This.GetName]:PER_election_events.28.a executed"
		custom_effect_tooltip = PER_harsh_protests_tt
		add_ideas = PER_harsh_protests
		hidden_effect = {
			remove_ideas = PER_harsh_protests
			add_timed_idea = {
				idea = PER_harsh_protests
				days = 25
			}
		}
	}
	option = { # Let Principalists storm!
		name = PER_election_events.28.b
		log = "[GetDateText]: [This.GetName]:PER_election_events.28.b executed"
		custom_effect_tooltip = PER_protests_tt
		add_ideas = PER_protests
		hidden_effect = {
			remove_ideas = PER_protests
			add_timed_idea = {
				idea = PER_protests
				days = 90
			}
		}
	}
	option = { # This will pass like the others...
		name = PER_election_events.28.c
		log = "[GetDateText]: [This.GetName]:PER_election_events.28.c executed"
		custom_effect_tooltip = PER_peaceful_protests_tt
		add_ideas = PER_peaceful_protests
		hidden_effect = {
			remove_ideas = PER_peaceful_protests
			add_timed_idea = {
				idea = PER_peaceful_protests
				days = 130
			}
		}
	}
	option = { # Ok sure, there was fraud in the election.
		name = PER_election_events.28.d
		log = "[GetDateText]: [This.GetName]:PER_election_events.28.d executed"
		custom_effect_tooltip = PER_mousavi_becomes_president_tt
		set_temp_variable = { rul_party_temp = 8 }
		change_ruling_party_effect = yes
		hidden_effect = {
			PER_scripted_effect_finish_election = yes
			set_country_flag = PER_president_mousavi # Set President
			add_to_variable = { iranian_president_change = 1 }
			add_ideas = PER_mousavi_idea
		}
	}
}

# axis_of_resistance_events

country_event = {
	id = axis_of_resistance_events.1 # Iran Wants Us To Join Axis Of Resistance
	title = axis_of_resistance_events.1.t
	desc = axis_of_resistance_events.1.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # Together we're stronger!
		name = axis_of_resistance_events.1.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.1.o1 executed"
		ai_chance = {
			base = 1
		}
		PER = { add_to_faction = ROOT }
		news_event = {
			id = axis_of_resistance_events.3
			days = 0
		}
		PER = {
			clr_country_flag = invited_syria
			clr_country_flag = invited_iraq
			clr_country_flag = invited_houthis
			clr_country_flag = invited_hezbollah
			clr_country_flag = invited_azerbaijan
			clr_country_flag = invited_turkey
		}
	}
	option = { # No.
		name = axis_of_resistance_events.1.o2
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.1.o2 executed"
		ai_chance = {
			base = -1
		}
		PER = {
			country_event = {
				id = axis_of_resistance_events.2
				days = 0
			}
			clr_country_flag = invited_syria
			clr_country_flag = invited_iraq
			clr_country_flag = invited_houthis
			clr_country_flag = invited_hezbollah
			clr_country_flag = invited_azerbaijan
			clr_country_flag = invited_turkey
		}
	}
}
country_event = {
	id = axis_of_resistance_events.2 # [COUNTRY] Refused To Joined Axis Of Resistance (country event)
	title = axis_of_resistance_events.2.t
	desc = axis_of_resistance_events.2.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # Okay.
		name = axis_of_resistance_events.2.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.2.o1 executed"
	}
}
news_event = {
	id = axis_of_resistance_events.3 # [COUNTRY] Joined Axis Of Resistance
	title = axis_of_resistance_events.3.t
	desc = axis_of_resistance_events.3.d

	picture = GFX_axis_of_resistance_world

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.3.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.3.o1 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.4 # Iran Wants Us To Launch Attacks Against Israel
	title = axis_of_resistance_events.4.t
	desc = axis_of_resistance_events.4.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # Let's do this!
		name = axis_of_resistance_events.4.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.4.o1 executed"
		if = {
			limit = {
				587 = {
					is_fully_controlled_by = ISR
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 201
					num_provinces = 1
					on_win = axis_of_resistance_events.7
					on_lose = axis_of_resistance_events.7
					on_cancel = axis_of_resistance_events.7
				}
				defender = {
					state = 587
					num_provinces = 1
					on_win = axis_of_resistance_events.7
					on_lose = axis_of_resistance_events.7
					on_cancel = axis_of_resistance_events.7
				}
			}
		}
		else = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 201
					num_provinces = 1
					on_win = axis_of_resistance_events.7
	   				on_lose = axis_of_resistance_events.7
					on_cancel = axis_of_resistance_events.7
				}
				defender = {
					state = 205
					num_provinces = 1
					on_win = axis_of_resistance_events.7
					on_lose = axis_of_resistance_events.7
					on_cancel = axis_of_resistance_events.7
				}
			}
		}

	}
	option = { # We need to prepare.
		name = axis_of_resistance_events.4.o2
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.4.o2 executed"
		ai_chance = {
			base = 0
		}
		PER = {
			news_event = {
				id = axis_of_resistance_events.5
				days = 0
			}
		}
	}
}
news_event = {
	id = axis_of_resistance_events.5 # Hezbollah Attacks Israel
	title = {
		text = axis_of_resistance_events.5.t
	}
	desc = {
		text = axis_of_resistance_events.5.d
	}

	picture = GFX_axis_of_resistance_world

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.5.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.5.o1 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.6 # Hezbollah Didn't Attack
	title = axis_of_resistance_events.6.t
	desc = axis_of_resistance_events.6.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # Understood.
		name = axis_of_resistance_events.6.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.6.o1 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.7 # Border War Ends
	title = axis_of_resistance_events.7.t
	desc = axis_of_resistance_events.7.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # Ok.
		name = axis_of_resistance_events.7.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.7.o1 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.8 # Tied with PER_alawites_in_syria - Message to syria
	title = axis_of_resistance_events.8.t
	desc = axis_of_resistance_events.8.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.8.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.8.o1 executed"
		set_temp_variable = { party_index = 8 }
		set_temp_variable = { party_popularity_increase = 0.10 }
		set_temp_variable = { temp_outlook_increase = 0.05 }
		add_relative_party_popularity = yes
	}
}
country_event = {
	id = axis_of_resistance_events.9 # Baathist Plotting Coup
	title = axis_of_resistance_events.9.t
	desc = axis_of_resistance_events.9.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.9.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.9.o1 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.10 # Pro Assad Baathist counduct Coup
	title = axis_of_resistance_events.10.t
	desc = axis_of_resistance_events.10.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes

	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.10.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.10.o1 executed"
	}

	option = { # We shall not stand for this
		name = axis_of_resistance_events.10.o2
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.10.o2 executed"
	}
}
country_event = {
	id = axis_of_resistance_events.11 # Black Flag in Iraq
	title = axis_of_resistance_events.11.t
	desc = axis_of_resistance_events.11.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes
	hidden = yes
	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.11.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.11.o1 executed"
		hidden_effect = {
			IRQ = {
				#Need to make follow up event that spawns more units for them
				news_event = {
					id = iraqi_flavor_events.11
					hours = 1
				}
				set_political_party = {
					ideology = fascism
					popularity = 2
				}
				168 = { transfer_state_to = ISI }
				166 = { transfer_state_to = ISI }
				167 = { transfer_state_to = ISI }
				set_province_controller = 11369
				set_province_controller = 10106
				set_province_controller = 1938
				set_province_controller = 12372
				set_province_controller = 1631
				set_province_controller = 11191
				set_province_controller = 11199
				set_province_controller = 4951
				set_province_controller = 11292
				set_province_controller = 4951
				set_province_controller = 3265
				set_province_controller = 3180
				set_province_controller = 11198
			}

			ISI = {
				declare_war_on = {
					target = IRQ
					type = civil_war
				}

				declare_war_on = {
					target = MDA
					type = civil_war
				}

				declare_war_on = {
					target = IRS
					type = civil_war
				}

				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_country_flag = IRQ_badr_oponent
				set_country_flag = is_IRAQ
				set_cosmetic_tag = IRQ_ISI
				if = {
					limit = {
						check_variable = { global.year < 2007 }
					}
					create_country_leader = {
						name = "Abu Musab Al-Zarqawi"
						picture = "Abu_Musab_Al-Zarqawi.dds"
						ideology = Caliphate
						traits = {
							salafist_Caliphate
							ruthless
							war_criminal
							guerrilla_leader
						}
					}
					set_cosmetic_tag = ISI_aiq_iraq
				}

				division_template = {
					name = "Liwa Muharraka"
					priority = 0
					regiments = {
						Militia_Bat = { x = 0 y = 0 }
						Militia_Bat = { x = 0 y = 1 }
						Militia_Bat = { x = 0 y = 2 }
						Arty_Bat = { x = 0 y = 3 }
						Militia_Bat = { x = 1 y = 0 }
						Militia_Bat = { x = 1 y = 1 }
						Militia_Bat = { x = 1 y = 2 }
						Arty_Bat = { x = 1 y = 3 }
						Militia_Bat = { x = 2 y = 0 }
						Militia_Bat = { x = 2 y = 1 }
						Militia_Bat = { x = 2 y = 2 }
						Arty_Bat = { x = 2 y = 3 }
					}
					support = {
						L_Recce_Comp = { x = 0 y = 0 }
						L_Engi_Comp = { x = 0 y = 1 }
						combat_service_support_company = { x = 0 y = 2 }
						Arty_Battery = { x = 0 y = 3 }
					}
				}

				168 = {
					create_unit = {
						division = "name = \"1. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.1"
						prioritize_location = 11191
						owner = ISI
					}

					create_unit = {
						division = "name = \"3. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.2"
						prioritize_location = 11275
						owner = ISI
					}

					create_unit = {
						division = "name = \"3. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.2"
						prioritize_location = 11275
						owner = ISI
					}

					create_unit = {
						division = "name = \"3. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.1"
						prioritize_location = 11275
						owner = ISI
					}
				}

				166 = {
					create_unit = {
						division = "name = \"7. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.1"
						prioritize_location = 1938
						owner = ISI
					}
				}

				641 = {
					create_unit = {
						division = "name = \"10. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.3"
						prioritize_location = 10804
						owner = ISI
					}
				}

				167 = {
					create_unit = {
						division = "name = \"13. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.1"
						prioritize_location = 8123
						owner = ISI
					}

					create_unit = {
						division = "name = \"13. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.3"
						prioritize_location = 8123
						owner = ISI
					}

					create_unit = {
						division = "name = \"13. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.1"
						prioritize_location = 8123
						owner = ISI
					}

					create_unit = {
						division = "name = \"14. Liwa Muharraka\" division_template = \"Liwa Muharraka\"start_manpower_factor = 0.2"
						prioritize_location = 3795
						owner = ISI
					}
				}
			}
		}
	}
}
country_event = {
	id = axis_of_resistance_events.12 # Iraqi Baath Revolt
	title = axis_of_resistance_events.12.t
	desc = axis_of_resistance_events.12.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes
	hidden = yes
	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.12.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.11.o1 executed"
		hidden_effect = {
			IRQ = {
				news_event = {
					id = iraqi_flavor_events.13
					hours = 1
				}
				country_event = {
					id = axis_of_resistance_events.11
					days = 24
					random_hours = 12
					random_days = 2
				}
				set_country_flag = IRQ_baathist_oponent_iran
				start_civil_war = {
					ideology = nationalist
					size = IRQ_Support_for_baathist_revolt
					states = {
						641
					}
					set_cosmetic_tag = IRQ_sunni_revolt_name
					set_country_flag = IRQ_sunni_revolt
					keep_political_leader = yes
					keep_political_party_members = yes
				}
				declare_war_on = {
					target = IRS
					type = civil_war
				}
				add_ideas = rival_government
				#Recognition
				add_to_array = { global.rival_governments = THIS }
				random_country_with_original_tag = {
					original_tag_to_check = IRQ
					limit = { has_government = nationalist }

					set_politics = {
						ruling_party = nationalist
						elections_allowed = no
					}
					set_political_party = {
						ideology = nationalist
						popularity = 71
					}
					set_political_party = {
						ideology = neutrality
						popularity = 13
					}
					set_political_party = {
						ideology = fascism
						popularity = 18
					}

					set_temp_variable = { party_index = 21 }
					set_temp_variable = { party_popularity_increase = 0.55 }
					add_relative_party_popularity = yes

					set_temp_variable = { party_index = 22 }
					set_temp_variable = { party_popularity_increase = 0.14 }
					add_relative_party_popularity = yes

					set_temp_variable = { party_index = 19 }
					set_temp_variable = { party_popularity_increase = 0.13 }
					add_relative_party_popularity = yes

					set_temp_variable = { party_index = 12 }
					set_temp_variable = { party_popularity_increase = 0.18 }
					add_relative_party_popularity = yes

					set_temp_variable = { rul_party_temp = 21 }
					change_ruling_party_effect = yes

					set_temp_variable = { add_col_one = 22 }
					add_coalition_members_effect = yes

					swap_ideas = {
						remove_idea = iranian_quds_force
						add_idea = the_military
					}

					swap_ideas = {
						remove_idea = shia
						add_idea = sunni
					}

					add_to_array = { global.rival_governments = THIS }

					add_named_threat = {
						threat = 5
						name = IRQ_Iran_coup_civil_war.threat
					}

					clr_country_flag = dynamic_flag
					clr_country_flag = dynamic_rebel_flag
					set_country_flag = is_IRAQ

					set_province_controller = 10793
					set_province_controller = 11498
					set_province_controller = 11364
					set_province_controller = 11295
					set_province_controller = 1600
					set_province_controller = 11289
					set_province_controller = 3219
					set_province_controller = 3795
					set_province_controller = 1350
					set_province_controller = 8123
					set_province_controller = 11295
					set_province_controller = 10106
					set_province_controller = 6862
					set_province_controller = 11369

					set_temp_variable = { percent_change = -5.00 }
					set_temp_variable = { tag_index = PER }
					set_temp_variable = { influence_target = IRQ }
					change_influence_percentage = yes
				}
			}
			IRS = {
				create_country_leader = {
					name = "Izzat Ibrahim al-Douri"
					picture = "Izzat_Ibrahim_al-Douri.dds"
					ideology = Nat_Populism
					traits = {
						nationalist_Nat_Populism
						military_career
						anti_zionist
					}
				}
			}

		}
	}
}
news_event = {
	id = axis_of_resistance_events.13 # Rise of Hamas
	title = axis_of_resistance_events.13.t
	desc = axis_of_resistance_events.13.d

	picture = GFX_News_western_focus_afg

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.13.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.13.o1 executed"
	}
}
news_event = {
	id = axis_of_resistance_events.14 # Rise of PIJ
	title = axis_of_resistance_events.14.t
	desc = axis_of_resistance_events.14.d

	picture = GFX_PER_PAL_PIJ

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.14.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.14.o1 executed"
	}
}
news_event = {
	id = axis_of_resistance_events.15 # Rise of PFLP
	title = axis_of_resistance_events.15.t
	desc = axis_of_resistance_events.15.d

	picture = GFX_PER_PAL_PLPF

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.15.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.15.o1 executed"
	}
}
news_event = {
	id = axis_of_resistance_events.16 # Rise of PRC
	title = axis_of_resistance_events.16.t
	desc = axis_of_resistance_events.16.d

	picture = GFX_PER_PAL_PMC

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.16.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.16.o1 executed"
	}
}

country_event = {
	id = axis_of_resistance_events.17 # Directions from Tehran
	title = axis_of_resistance_events.17.t
	desc = axis_of_resistance_events.17.d
	picture = GFX_axis_of_resistance_country
	is_triggered_only = yes

	option = {
		name = axis_of_resistance_events.17.a
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.17.a executed"

	}
}

country_event = {
	id = axis_of_resistance_events.18 # Yemen Under Attack
	title = axis_of_resistance_events.18.t
	desc = axis_of_resistance_events.18.d
	is_triggered_only = yes

	option = {
		name = axis_of_resistance_events.18.a
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.18.a executed"
		add_relation_modifier = {
			target = YEM
			modifier = generic_increased_military_support
		}
		set_country_flag = help_yemen
	}
}

news_event = {
	id = axis_of_resistance_events.19 # Yemen Under Attack
	title = axis_of_resistance_events.19.t
	desc = axis_of_resistance_events.19.d
	picture = GFX_yemen_civilwar
	is_triggered_only = yes
	major = yes
	option = {
		name = axis_of_resistance_events.19.a
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.19.a executed"
	}
}

country_event = {
	id = axis_of_resistance_events.20 # Yemen Civil war Al-Qaeda
	title = "dont touch my events"
	picture = GFX_yemen_civilwar
	hidden = yes
	is_triggered_only = yes

	trigger = {
		country_exists = HOU
		country_exists = YEM
		HOU = { num_of_controlled_states > 0 }
		YEM = { num_of_controlled_states > 0 }
	}

	option = {
		name = axis_of_resistance_events.20.a
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.20.a executed"
		hidden_effect = {
			if = {
				limit = {
					country_exists = HOU
					country_exists = YEM
					HOU = { num_of_controlled_states > 0 }
					YEM = { num_of_controlled_states > 0 }
				}
				YEM = {
					news_event = { id = axis_of_resistance_events.23 hours = 1 }
					199 = { transfer_state_to = AQY }
					1105 = { transfer_state_to = AQY }
					set_province_controller = 14569
					set_province_controller = 14570
					set_province_controller = 14566
					set_province_controller = 9217
					set_province_controller = 1631
					every_core_state = { add_core_of = AQY }
				}
				AQY = {
					set_variable = { var = corporate_tax_rate value = YEM.corporate_tax_rate }
					set_variable = { var = population_tax_rate value = YEM.population_tax_rate }
					set_variable = { var = military_factory_employment_var value = YEM.military_factory_employment_var }
					set_variable = { var = civilian_factory_employment_var value = YEM.civilian_factory_employment_var }
					set_variable = { var = naval_factory_employment_var value = YEM.naval_factory_employment_var }
					set_variable = { var = office_employment_var value = YEM.office_employment_var }
					set_variable = { var = agriculture_district_employment_var value = YEM.agriculture_district_employment_var }
					ingame_update_setup = yes
					add_equipment_to_stockpile = { type = APC_1 amount = 100 producer = SOV }
					add_equipment_to_stockpile = { type = command_control_equipment amount = 400 producer = SOV }
					add_equipment_to_stockpile = { type = Heavy_Anti_tank_0 amount = 100 producer = SOV }
					add_equipment_to_stockpile = { type = infantry_weapons amount = 2400 producer = SOV }
					add_equipment_to_stockpile = { type = util_vehicle_0 amount = 200 producer = SOV }
					add_manpower = 10000
					set_province_controller = 9144
					set_province_controller = 9197
					set_global_flag = {
						flag = AQY_limited_war
						days = 450
						value = 1
					}
					add_named_threat = {
						threat = 5
						name = AQY_in_yemen
					}
					declare_war_on = { target = YEM type = civil_war }
					declare_war_on = { target = HOU type = civil_war }
					declare_war_on = { target = STC type = civil_war }
					clr_country_flag = dynamic_flag
					clr_country_flag = dynamic_rebel_flag
					set_country_flag = YEM_civilwar_tag
					if = {
						limit = {
							check_variable = { global.year < 2007 }
						}
						create_country_leader = {
							name = "Abu Musab Al-Zarqawi"
							picture = "gfx/leaders/AQY/AQY_qashim.dds"
							ideology = Caliphate
							traits = {
								salafist_Caliphate
								guerrilla_leader
							}
						}
					}
					division_template = {
						name = "al-Sharia Infantry"
						regiments = {
							Mot_Militia_Bat = { x = 0 y = 0 }
							Mot_Militia_Bat = { x = 0 y = 1 }
						}
						priority = 1
					}
					division_template = {
						name = "al-Sharia Insurgents"
						regiments = {
							Militia_Bat = { x = 0 y = 0 }
							Militia_Bat = { x = 0 y = 1 }
						}
						priority = 1
					}
				}
				199 = {
					create_unit = {
						division = "name = \"Al Mukalla al-Sharia Infantry\" division_template = \"al-Sharia Infantry\"start_manpower_factor = 0.1"
						owner = AQY
					}
					create_unit = {
						division = "name = \"Aboul Abbas Militia\" division_template = \"al-Sharia Infantry\"start_manpower_factor = 0.1"
						owner = AQY
					}
					create_unit = {
						division = "name = \"Tarim al-Sharia Infantry\" division_template = \"al-Sharia Infantry\"start_manpower_factor = 0.1"
						owner = AQY
					}
					create_unit = {
						division = "name = \"Mahrah al-Sharia Infantry\" division_template = \"al-Sharia Infantry\"start_manpower_factor = 0.1"
						owner = AQY
					}
					create_unit = {
						division = "name = \"Sheba al-Sharia Infantry\" division_template = \"al-Sharia Infantry\"start_manpower_factor = 0.1"
						owner = AQY
					}
				}
				196 = {
					create_unit = {
						division = "name = \"Ahwar al-Sharia Insurgents\" division_template = \"al-Sharia Insurgents\"start_manpower_factor = 0.1"
						owner = AQY
					}
					create_unit = {
						division = "name = \"Haduramaut al-Sharia Insurgents\" division_template = \"al-Sharia Insurgents\"start_manpower_factor = 0.1"
						owner = AQY
					}
				}
				1105 = { transfer_state_to = AQY }
			}
		}
	}
}

country_event = {
	id = axis_of_resistance_events.21 # Yemen STC
	title = "dont touch my events"
	picture = GFX_yemen_civilwar
	hidden = yes
	is_triggered_only = yes

	trigger = {
		country_exists = HOU
		country_exists = YEM
		HOU = { num_of_controlled_states > 0 }
		YEM = { num_of_controlled_states > 0 }
	}

	option = {
		name = axis_of_resistance_events.21.a
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.21.a executed"
		hidden_effect = {
			YEM = {
				news_event = { id = axis_of_resistance_events.24 hours = 1 }
				start_civil_war = {
					ideology = neutrality
					size = 0.2
					states = { 198 200 }
					keep_political_leader = yes
					keep_political_party_members = yes
				}
				set_global_flag = { flag = YEM_STC_Tag }
				add_ideas = rival_government
				add_to_array = { global.rival_governments = THIS }
				random_country_with_original_tag = {
					original_tag_to_check = YEM
					limit = { has_government = neutrality }
					set_politics = { ruling_party = neutrality elections_allowed = no }
					set_political_party = { ideology = neutrality popularity = 78 }
					set_political_party = { ideology = democratic popularity = 18 }
					set_political_party = { ideology = communism popularity = 4 }
					declare_war_on = { target = HOU type = civil_war }
					declare_war_on = { target = AQY type = civil_war }
					set_cosmetic_tag = YEM_REB
					set_country_flag = YEM_civilwar_tag
					set_country_flag = YEM_TAG_set_STC
					set_temp_variable = { rul_party_temp = 13 }
					change_ruling_party_effect = yes
					set_temp_variable = { party_index = 13 }
					set_temp_variable = { party_popularity_increase = 0.30 }
					add_relative_party_popularity = yes
					create_country_leader = {
						name = "Hadi al-Amiri"
						picture = "gfx/leaders/YEM/abd_rabbuh_mansur_hadi.dds"
						ideology = Neutral_Autocracy
						traits = {
							neutrality_Neutral_Autocracy
						}
					}
					add_threat = 2
					UAE = {
						recall_volunteers_from = YEM
						add_relation_modifier = {
							target = STC
							modifier = generic_increased_military_support
						}
					}
					set_temp_variable = { percent_change = 5.00 }
					set_temp_variable = { tag_index = UAE }
					set_temp_variable = { influence_target = STC }
					change_influence_percentage = yes
					200 = { transfer_state_to = STC }
				}
				YEM = {
					if = {
						limit = { HOU = { NOT = { controls_province = 14560 } } }
						YEM = { set_province_controller = 14560 }
					}
					if = {
						limit = {  HOU = { NOT = { controls_province = 14474 } } }
						YEM = { set_province_controller = 14474 }
					}
					if = {
						limit = {  HOU = { NOT = { controls_province = 14556 } } }
						YEM = { set_province_controller = 14556 }
					}
					if = {
						limit = {  HOU = { NOT = { controls_province = 9139 } } }
						YEM = { set_province_controller = 9139 }
					}
				}
			}
		}
	}
}

news_event = {
	id = axis_of_resistance_events.22 # Houthi offensive
	title = axis_of_resistance_events.22.t
	desc = axis_of_resistance_events.22.d

	picture = GFX_news_Yem_CivilWar_End

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.22.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.22.o1 executed"
	}
}

news_event = {
	id = axis_of_resistance_events.23 # Black Banner yemen
	title = axis_of_resistance_events.23.t
	desc = axis_of_resistance_events.23.d

	picture = GFX_news_Yem_CivilWar_End

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.23.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.23.o1 executed"
	}
}

news_event = {
	id = axis_of_resistance_events.24 # STC
	title = axis_of_resistance_events.24.t
	desc = axis_of_resistance_events.24.d

	picture = GFX_news_Yem_CivilWar_End

	is_triggered_only = yes
	major = yes

	option = {
		name = axis_of_resistance_events.24.o1
		log = "[GetDateText]: [This.GetName]: axis_of_resistance_events.24.o1 executed"
	}
}

country_event = {
	id = axis_of_resistance_events.25 # Saudi IAM #Might Remove
	title = axis_of_resistance_events.20.t
	desc = axis_of_resistance_events.20.d
	picture = GFX_axis_of_resistance_country

	is_triggered_only = yes
	hidden = yes
	option = { # A keen Intrest Indeed.
		name = axis_of_resistance_events.20.o1
		log = "[GetDateText]: [This.GetName]:axis_of_resistance_events.20.o1 executed"
		hidden_effect = {
			HEJ = {
				news_event = {
					id = iraqi_flavor_events.13
					hours = 1
				}
				set_country_flag = SAU_civil_oponent_iran
				set_cosmetic_tag = SAU_IMA
				transfer_state = 932
				transfer_state = 178
				set_province_controller = 14469
				set_province_controller = 2095
				set_province_controller = 12883
				SAU = { 
					every_core_state = { add_core_of = HEJ }
					set_province_controller = 10786
					set_province_controller = 3350
					set_province_controller = 14431
					set_province_controller = 573
					set_province_controller = 11545
					set_province_controller = 5099
					set_province_controller = 3367
					set_province_controller = 8092
					set_province_controller = 573
				}
				set_global_flag = {
					flag = SAU_IMA_offensive
					days = 25
					value = 1
				}
				set_temp_variable = { rul_party_temp = 12 }
				change_ruling_party_effect = yes
				set_variable = { var = corporate_tax_rate value = SAU.corporate_tax_rate }
				set_variable = { var = population_tax_rate value = SAU.population_tax_rate }
				set_variable = { var = military_factory_employment_var value = SAU.military_factory_employment_var }
				set_variable = { var = civilian_factory_employment_var value = SAU.civilian_factory_employment_var }
				set_variable = { var = naval_factory_employment_var value = SAU.naval_factory_employment_var }
				set_variable = { var = office_employment_var value = SAU.office_employment_var }
				set_variable = { var = agriculture_district_employment_var value = SAU.agriculture_district_employment_var }
				ingame_update_setup = yes
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_political_party = {
					ideology = nationalist
					popularity = 10
				}
				set_political_party = {
					ideology = neutrality
					popularity = 48
				}
				set_political_party = {
					ideology = fascism
					popularity = 42
				}
				set_political_party = {
					ideology = communism
					popularity = 0
				}
				set_political_party = {
					ideology = democratic
					popularity = 0
				}
				init_influence = yes
				set_variable = { domestic_influence_amount = 402 }
				add_to_array = { influence_array = PER.id }
				add_to_array = { influence_array_val = 14 }
				add_to_array = { influence_array = EGY.id }
				add_to_array = { influence_array_val = 20 }
				add_to_array = { influence_array = USA.id }
				add_to_array = { influence_array_val = 15 }
				add_to_array = { influence_array = ENG.id }
				add_to_array = { influence_array_val = 42 }
				add_to_array = { influence_array = ISI.id }
				add_to_array = { influence_array_val = 13 }
				startup_influence = yes
				add_equipment_to_stockpile = {
					type = APC_1
					amount = 450
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = command_control_equipment
					amount = 1500
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = Heavy_Anti_tank_0
					amount = 500
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = infantry_weapons
					amount = 7000
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = util_vehicle_0
					amount = 675
					producer = USA
				}
				declare_war_on = {
					target = QTF
					type = annex_everything
				}
				declare_war_on = {
					target = SAU
					type = civil_war
				}
				division_template = {
					name = "IAM Awakening  Brigade"
					regiments = {
						Militia_Bat = { x = 0 y = 0 }
						Militia_Bat = { x = 0 y = 1 }
						Militia_Bat = { x = 0 y = 2 }
						Arty_Bat = { x = 0 y = 3 }
						Militia_Bat = { x = 1 y = 0 }
						Militia_Bat = { x = 1 y = 1 }
						Militia_Bat = { x = 1 y = 2 }
						Arty_Bat = { x = 1 y = 3 }
						Militia_Bat = { x = 2 y = 0 }
						Militia_Bat = { x = 2 y = 1 }
						Militia_Bat = { x = 2 y = 2 }
						Arty_Bat = { x = 2 y = 3 }
					}
					priority = 2
				}
				932 = {
					create_unit = {
						division = "name = \"1. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						prioritize_location = 10804
						owner = HEJ
					}
					create_unit = {
						division = "name = \"2. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						prioritize_location = 10804
						owner = HEJ
					}
					create_unit = {
						division = "name = \"3. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						prioritize_location = 10804
						owner = HEJ
					}
					create_unit = {
						division = "name = \"4. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
					create_unit = {
						division = "name = \"5. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
				}
				177 = {
					create_unit = {
						division = "name = \"6. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
					create_unit = {
						division = "name = \"7. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
				}
				178 = {
					create_unit = {
						division = "name = \"8. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
					create_unit = {
						division = "name = \"9. IAM Awakening  Brigade\" division_template = \"IAM Awakening  Brigade\"start_manpower_factor = 1.0"
						owner = HEJ
					}
				}
				SAU = {
					transfer_units_fraction= {
						target = SPD
						size = 0.2
						stockpile_ratio = 0.2
						army_ratio = 0.2
						navy_ratio = 0.2
						air_ratio = 0.2
						keep_unit_leaders_trigger = {
							TAG = SAU
						}
					}
				}
				add_ideas = rival_government
				add_to_array = { global.rival_governments = THIS }
				add_named_threat = {
					threat = 5
					name = SAU_Iran_prox_ima_civil_war.threat
				}
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				create_country_leader = {
					name = "Dr Sa'ad Al-Faqih"
					picture = "gfx/leaders/SAU/dr_saad_al_faqih.dds"
					ideology = Neutral_Muslim_Brotherhood
					traits = {
						neutrality_Neutral_Muslim_Brotherhood
					}
				}
			}

		}
	}
}
# Regular Events

country_event = {
	id = iran_md.1000
	title = iran_md.1000.t
	desc = iran_md.1000.d
	picture = GFX_report_event_Sicily_Farms

	is_triggered_only = yes

	option = {
		name = iran_md.1000.o1
		log = "[GetDateText]: [This.GetName]:iran_md.1000.o1 executed"
		ai_chance = { base = 9 }
		set_temp_variable = { treasury_change = -1.0 }
		modify_treasury_effect = yes
		add_timed_idea = {
			idea = PER_international_expo_1  days = 365
		}
	}
	option = {
		name = iran_md.1000.o2
		log = "[GetDateText]: [This.GetName]:iran_md.1000.o2 executed"
		set_temp_variable = { treasury_change = -1.0 }
		modify_treasury_effect = yes
		add_timed_idea = {
			idea = PER_international_expo_2  days = 365
			}
	}
	option = {
	name = iran_md.1000.o3
		log = "[GetDateText]: [This.GetName]:iran_md.1000.o3 executed"
		set_temp_variable = { treasury_change = -1.0 }
		modify_treasury_effect = yes
		add_timed_idea = {
			idea = PER_international_expo_3  days = 365
		}
	}
}


# New PM
country_event = {
	id = PER_majlis.401
	title = PER_majlis.401.t
	desc = PER_majlis.401.d
	is_triggered_only = yes
	option = {
		name = PER_majlis.401.a
		log = "[GetDateText]: [This.GetName]:PER_majlis.401.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_iranian_minister_given
				}
			}
			set_country_flag = PER_iranian_minister_given
		}
		ai_chance = {
			base = 5
		}
	}
	option = {
		name = PER_majlis.401.b
		log = "[GetDateText]: [This.GetName]:PER_majlis.401.b executed"
		trigger = {
			has_country_flag = PER_iranian_minister_given
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = PER_majlis.1
	title = PER_majlis.1.t
	desc = PER_majlis.1.d
	picture = GFX_iran_majles
	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.1.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.1.a executed"
		PER_majlis_elections = yes
		if = {
			limit = {
				has_country_flag = PER_stop_elections
			}
			clr_country_flag = PER_stop_elections
		}
		if = {
			limit = {
				NOT = {
					OR = {
						emerging_hardline_shiite_are_in_power = yes
						emerging_moderate_shiite_are_in_power = yes
					}
				}
			}
			country_event = {
				id = PER_majlis.401
				days = 3
			}
		}
		add_to_variable = { var = PER_election_var value = 48 }
		clamp_variable = { var = PER_election_var min = 0 max = 48 }
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = PER_majlis.2
	title = PER_majlis.2.t
	desc = PER_majlis.2.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.2.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.2.a executed"
		custom_effect_tooltip = PER_session_begins_TT
		set_country_flag = PER_debate_ongoing
		activate_mission = PER_debate_now
		ai_chance = {
			base = 1
		}
	}

	# I need more time
	option = {
		name = PER_majlis.2.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.2.b executed"
		custom_effect_tooltip = PER_session_extended_TT
		add_to_variable = { var = PER_session_var value = 3 }
		clamp_variable = { var = PER_session_var min = 0 max = 48 }
		ai_chance = {
			base = 5
		}
	}
}

# Liberal Bloc Proposal
country_event = {
	id = PER_majlis.10
	title = PER_majlis.10.t
	desc = PER_majlis.10.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Let's get to work
	option = {
		name = PER_majlis.10.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.10.a executed"
		if = {
			limit = {
				OR = {
					check_variable = { party_pop_array^6 > 0.04 }
					check_variable = { party_pop_array^7 > 0.04 }
					check_variable = { party_pop_array^8 > 0.04 }
					check_variable = { party_pop_array^9 > 0.04 }
				}
				NOT = {
					has_country_flag = PER_did_lib_1
				}
			}
			activate_mission = PER_purging_the_remnants
		}
		else_if = {
			limit = {
				power_balance_value = {
					id = PER_clergy_balance_of_power_category
					value > -0.4
				}
				NOT = {
					has_country_flag = PER_did_lib_2
				}
			}
			activate_mission = PER_turning_the_clock_forward
		}
		else_if = {
			limit = {
				NOT = {
					OR = {
						RAJ = {
							has_opinion_modifier = mutual_trade_agreement
						}
						GER = {
							has_opinion_modifier = mutual_trade_agreement
						}
						FRA = {
							has_opinion_modifier = mutual_trade_agreement
						}
						ITA = {
							has_opinion_modifier = mutual_trade_agreement
						}
					}
				}
				NOT = {
					has_country_flag = PER_did_lib_3
				}
			}
			activate_mission = PER_deep_pockets_deeper_ties
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_lib_4
				}
			}
			activate_mission = PER_the_iranian_lobby
		}
		else_if = {
			limit = {
				check_variable = { total_unemployed_percentage_display > 0.2 }
				NOT = {
					has_country_flag = PER_did_lib_5
				}
			}
			activate_mission = PER_the_shift_never_ends
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = economic_boom
					OR = {
						has_idea = modest_corruption
						has_idea = slight_corruption
						has_idea = negligible_corruption
					}
				}
				NOT = {
					has_country_flag = PER_did_lib_6
				}
			}
			activate_mission = PER_clean_records
		}
		else_if = {
			limit = {
				NOT = {
					401 = {
						NOT = {
							internet_station > 1
						}
					}
					977 = {
						NOT = {
							internet_station > 1
						}
					}
					1151 = {
						NOT = {
							internet_station > 1
						}
					}
					402 = {
						NOT = {
							internet_station > 1
						}
					}
					1149 = {
						NOT = {
							internet_station > 1
						}
					}
					1147 = {
						NOT = {
							internet_station > 1
						}
					}
					978 = {
						NOT = {
							internet_station > 1
							offices > 1
						}
					}
				}
				NOT = {
					has_country_flag = PER_did_lib_7
				}
			}
			activate_mission = PER_is_this_thing_on
		}
		else_if = {
			limit = {
				NOT = {
					408 = {
						NOT = {
							infrastructure > 4
						}
					}
					401 = {
						NOT = {
							infrastructure > 4
						}
					}
					1039 = {
						NOT = {
							infrastructure > 4
						}
					}
					1138 = {
						NOT = {
							infrastructure > 4
						}
					}
				}
				NOT = {
					has_country_flag = PER_did_lib_8
				}
			}
			activate_mission = PER_disparity_has_no_place_here
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_liberals_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Moderate Conservative Bloc Proposal
country_event = {
	id = PER_majlis.11
	title = PER_majlis.11.t
	desc = PER_majlis.11.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.11.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.11.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_1
					OR = {
						has_idea = heavily_regulated_immigration
						has_idea = closed_borders
					}
					401 = {
						any_province_building_level = {
							province = {
								id = 3879
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
						any_province_building_level = {
							province = {
								id = 12895
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
						any_province_building_level = {
							province = {
								id = 2070
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
						any_province_building_level = {
							province = {
								id = 10782
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
						any_province_building_level = {
							province = {
								id = 13082
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
						any_province_building_level = {
							province = {
								id = 4891
								limit_to_border = yes
							}
							building = bunker
							level > 4
						}
					}
				}
			}
			activate_mission = PER_iran_is_full
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_2
					408 = {
						agriculture_district > 0
					}
					399 = {
						agriculture_district > 0
					}
					406 = {
						agriculture_district > 0
					}
					404 = {
						agriculture_district > 0
					}
				}
			}
			activate_mission = PER_the_green_pastures
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_3
					has_stability > 64
					OR = {
						has_idea = police_04
						has_idea = police_05
					}
				}
			}
			activate_mission = PER_safety_security_stability
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_4
				}
			}
			activate_mission = PER_our_left_hand
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_5
					AND = {
						check_variable = { party_pop_array^3 < 0.05 }
						check_variable = { party_pop_array^4 < 0.05 }
						check_variable = { party_pop_array^5 < 0.05 }
						check_variable = { party_pop_array^19 < 0.05 }
					}
				}
			}
			activate_mission = PER_the_socialist_threat
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_6
					399 = {
						infrastructure > 4
						synthetic_refinery > 4
					}
					1146 = {
						infrastructure > 4
						synthetic_refinery > 4
					}
				}
			}
			activate_mission = PER_the_arteries_of_iran
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_mcon_7
					SAU = {
						influence_higher_20 = yes
					}
				}
				check_variable = { domestic_influence_amount < 84.99 }
			}
			activate_mission = PER_chess
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_conservatives_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Socialist Bloc Proposal
country_event = {
	id = PER_majlis.12
	title = PER_majlis.12.t
	desc = PER_majlis.12.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.12.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.12.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_1
					has_idea = edu_05
					check_variable = { overall_productivity > 699.99 }
				}
			}
			activate_mission = PER_productive_minds
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_2
					OR = {
						has_idea = social_04
						has_idea = social_05
						has_idea = social_06
					}
					has_idea = open_borders
					1151 = {
						infrastructure > 2
						industrial_complex > 0
					}
				}
			}
			activate_mission = PER_open_hearts
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_3
					976 = {
						infrastructure > 3
						offices > 1
					}
					400 = {
						infrastructure > 3
						offices > 1
						internet_station > 1
					}
				}
			}
			activate_mission = PER_centers_of_innovation
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_4
					check_variable = { debt < 500 }
					check_variable = { interest_rate < 2.000 }
				}
			}
			activate_mission = PER_green_feel_to_paper
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_5
					401 = {
						radar_station > 3
					}
					1150 = {
						radar_station > 3
					}
					399 = {
						radar_station > 3
					}
					405 = {
						radar_station > 5
					}
				}
			}
			activate_mission = PER_eyes_on_the_future
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_6
					has_idea = labour_unions
				}
			}
			activate_mission = PER_rights_of_workers
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_7
					977 = {
						synthetic_refinery > 0
					}
					1147 = {
						synthetic_refinery > 0
					}
					check_variable = {
						energy_sum > 79.99
					}
				}
			}
			activate_mission = PER_the_lights_shine_bright
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_soc_8
					nationalist < 0.10
				}
			}
			activate_mission = PER_no_place_for_fascists
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_socialists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Radical Leftist Proposal
country_event = {
	id = PER_majlis.14
	title = PER_majlis.14.t
	desc = PER_majlis.14.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.14.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.14.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_1
				}
			}
			activate_mission = PER_old_friends
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_2
					408 = {
						industrial_complex > 0
					}
					1139 = {
						industrial_complex > 0
					}
				}
			}
			activate_mission = PER_the_pride_of_kordestan
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_3
					has_idea = health_06
					has_idea = social_06
					has_idea = edu_05
				}
			}
			activate_mission = PER_health_knowledge_and_prosperity
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_4
				}
				country_exists = KUR
				KUR = {
					is_subject = no
				}
			}
			activate_mission = PER_puppet_kurdistan
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_5
					1039 = {
						infrastructure > 4
					}
					979 = {
						infrastructure > 4
					}
					408 = {
						infrastructure > 4
					}
					1139 = {
						infrastructure > 4
					}
					1138 = {
						infrastructure > 4
					}
				}
			}
			activate_mission = PER_help_the_kurds
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_left_6
					1139 = {
						any_province_building_level = {
							province = {
								id = 12773
								limit_to_border = yes
							}
							building = supply_node
							level > 0
						}
					}
				}
			}
			activate_mission = PER_kermanshahs_supply
		}
		else_if = {
			limit = {
				has_idea = the_military
				NOT = {
					has_country_flag = PER_did_left_7
					check_variable = { party_pop_array^22 < 0.05 }
				}
			}
			activate_mission = PER_military_loyalty
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_leftists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Neo-I.R. Proposal
country_event = {
	id = PER_majlis.15
	title = PER_majlis.15.t
	desc = PER_majlis.15.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.15.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.15.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_ir_1
				}
			}
			activate_mission = PER_our_old_leverage
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_ir_2
					399 = {
						rocket_site > 4
					}
					403 = {
						rocket_site > 4
					}
				}
			}
			activate_mission = PER_our_thorns
		}
		# else_if = { # TODO: Replace this with a better trigger regarding the Nuclear Warheads
		# 	limit = {
		# 		NOT = {
		# 			has_country_flag = PER_did_ir_3
		# 			has_nuclear_warhead_0_inventory = yes
		# 		}
		# 	}
		# 	activate_mission = PER_explosive_deterrent
		# }
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_ir_4
					power_balance_value = {
						id = PER_clergy_balance_of_power_category
						value > 0.3
					}
				}
			}
			activate_mission = PER_a_return_to_the_past
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_ir_5
					402 = {
						infrastructure > 4
						internet_station > 1
					}
					1144 = {
						infrastructure > 4
						internet_station > 1
					}
				}
			}
			activate_mission = PER_righteous_roads
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_islamists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}

# Moderate Islamist Proposals
country_event = {
	id = PER_majlis.16
	title = PER_majlis.16.t
	desc = PER_majlis.16.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.16.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.16.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_moderates_1
					OR = {
						has_idea = police_04
						has_idea = police_05
					}
					OR = {
						has_idea = slight_corruption
						has_idea = negligible_corruption
					}
				}
			}
			activate_mission = PER_firm_hand_of_the_law
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_moderates_2
					OR = {
						has_country_flag = PER_iraq_accepted_to_pay_half_billion_weekly
						has_country_flag = PER_iraq_accepted_to_pay_one_billion_weekly
						has_country_flag = PER_iraq_accepted_to_pay_two_billion_weekly
					}
				}
			}
			activate_mission = PER_demand_our_payments
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_moderates_3
					1148 = {
						nuclear_reactor > 0
					}
					405 = {
						nuclear_reactor > 0
					}
				}
			}
			activate_mission = PER_nuclear_activities
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_moderates_4
					OMA = {
						influence_higher_20 = yes
					}
				}
			}
			activate_mission = PER_the_mediator
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_moderates_5
					407 = {
						air_base > 4
					}
					401 = {
						air_base > 4
					}
					976 = {
						air_base > 4
					}
				}
			}
			activate_mission = PER_take_flight
		}
		else_if = {
			limit = {
				country_exists = CHI
				NOT = {
					has_country_flag = PER_did_moderates_6
					has_idea = sco_member
					has_war_with = CHI
				}
			}
			activate_mission = PER_the_SCO
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_moderates_clear
		}
		ai_chance = {
			base = 1
		}
	}
}

# Libertarian Proposal
country_event = {
	id = PER_majlis.17
	title = PER_majlis.17.t
	desc = PER_majlis.17.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.17.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.17.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_libertarian_2
					check_variable = { population_tax_rate < 11 }
					check_variable = { corporate_tax_rate < 11 }
				}
			}
			activate_mission = PER_the_tax_haven
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_libertarian_3
					check_variable = { int_investments > 499.99 }
				}
			}
			activate_mission = PER_money_everywhere
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_libertarian_4
					has_equipment = {
						Inf_equipment > 30000
					}
					OR = {
						has_idea = police_01
						has_idea = police_02
					}
				}
			}
			activate_mission = PER_right_to_bear_arms
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_libertarian_5
					OR = {
						IRQ = { has_idea = tribute_idea_PER	}
						SYR = { has_idea = tribute_idea_PER	}
						AFG = { has_idea = tribute_idea_PER	}
					}
				}
			}
			activate_mission = PER_exploiting_competition
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_libertarian_6
					OR = {
						SAU = { is_subject_of = PER }
						UAE = { is_subject_of = PER }
						KUW = { is_subject_of = PER }
						QAT = { is_subject_of = PER }
					}
				}
			}
			activate_mission = PER_controlling_competition
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_libertarians_clear
		}
		ai_chance = {
			base = 1
		}
	}
}

# Green Proposal
country_event = {
	id = PER_majlis.18
	title = PER_majlis.18.t
	desc = PER_majlis.18.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.18.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.18.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_green_1
					405 = {
						synthetic_refinery > 0
					}
					400 = {
						synthetic_refinery > 0
					}
				}
			}
			activate_mission = PER_renewable_capitals
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_green_2
					1146 = {
						nuclear_reactor > 0
					}
				}
			}
			activate_mission = PER_nuclear_fumes
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_green_3
					1138 = {
						agriculture_district > 0
					}
					978 = {
						agriculture_district > 0
					}
					977 = {
						agriculture_district > 0
					}
				}
			}
			activate_mission = PER_farms_over_factories
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_green_4
					check_variable = {
						number_of_battery_parks > 4
					}
				}
			}
			activate_mission = PER_the_electric_grid
		}
		ai_chance = {
			base = 1
		}
	}
}
# Corporate Proposal (Oligarch)
country_event = {
	id = PER_majlis.19
	title = PER_majlis.19.t
	desc = PER_majlis.19.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.19.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.19.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_oligarch_1
					399 = {
						fuel_silo > 4
					}
					1146 = {
						fuel_silo > 4
					}
				}
			}
			activate_mission = PER_oil_warehouses
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_oligarch_2
					1146 = {
						infrastructure > 4
						internet_station > 1
					}
					399 = {
						infrastructure > 4
						internet_station > 1
					}
				}
			}
			activate_mission = PER_priority_treatment
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_oligarch_3
					check_variable = { corporate_tax_rate < 6 }
					has_idea = economic_boom
				}
			}
			activate_mission = PER_look_the_other_way
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_oligarch_4
					978 = {
						industrial_complex > 0
					}
					has_idea = open_borders
				}
			}
			activate_mission = PER_look_the_other_way
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_oligrachs_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Monarchist Bloc
country_event = {
	id = PER_majlis.20
	title = PER_majlis.20.t
	desc = PER_majlis.20.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.20.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.20.a executed"
		if = {
			limit = {
				country_exists = AFG
				AFG = {
					has_war_with = TAL
				}
				NOT = {
					has_country_flag = PER_did_monarch_1
					AFG = {
						has_volunteers_amount_from = {
							tag = PER
							count > 0
						}
					}
				}
			}
			hidden_effect = {
				PER = {
					add_relation_modifier = {
						target = AFG
						modifier = generic_increased_military_support
					}
				}
			}
			activate_mission = PER_intervention_in_the_east
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_3
					power_balance_value = {
						id = PER_clergy_balance_of_power_category
						value < -0.5
					}
					has_idea = economic_boom
				}
			}
			activate_mission = PER_lessons_of_white_revolution
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_4
					AFG = {
						influence_higher_20 = yes
					}
					TAJ = {
						influence_higher_20 = yes
					}
				}
			}
			activate_mission = PER_brother_nations
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_5
					HEZ = {
						is_subject_of = PER
						is_subject = yes
					}
					NOT = {
						country_exists = HEZ
					}
					has_war_with = HEZ
				}
			}
			activate_mission = PER_fight_against_evil
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_6
					OR = {
						BHR = {
							is_subject_of = PER
						}
						423 = {
							is_controlled_by = PER
						}
					}
				}
			}
			activate_mission = PER_our_lost_jewel
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_7
					check_variable = { domestic_influence_amount > 99 }
				}
			}
			activate_mission = PER_the_lions_jungle
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_monarch_8
					check_variable = { gdp_per_capita > 34.99 }
				}
			}
			activate_mission = PER_prosperity_of_the_people
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_monarchists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Tondar
country_event = {
	id = PER_majlis.21
	title = PER_majlis.21.t
	desc = PER_majlis.21.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.21.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.21.a executed"
		if = {
			limit = {
				country_exists = TAL
				NOT = {
					has_country_flag = PER_did_fascist_1
					TAL = {
						is_subject = yes
					}
				}
			}
			activate_mission = PER_insurgencies_nowhere
		}
		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_fascists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}
# Artesh
country_event = {
	id = PER_majlis.22
	title = PER_majlis.22.t
	desc = PER_majlis.22.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.22.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.22.a executed"
		if = {
			limit = {
				country_exists = TAL
				NOT = {
					has_country_flag = PER_did_artesh_1
					TAL = {
						is_subject = yes
					}
				}
			}
			activate_mission = PER_jobs_in_the_arms_industry
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_artesh_2
					407 = {
						anti_air_building > 4
					}
					405 = {
						anti_air_building > 4
					}
					976 = {
						anti_air_building > 4
					}
				}
			}
			activate_mission = PER_clear_skies
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_artesh_3
					has_army_manpower = {
						size > 399999
					}
				}
			}
			activate_mission = PER_sound_of_marching_boots
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_artesh_4
					has_equipment = {
						Inf_equipment > 3999
					}
				}
			}
			activate_mission = PER_endless_stockpiles
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_artesh_5
					1146 = {
						dockyard > 0
					}
				}
			}
			activate_mission = PER_calm_waters
		}

		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_artesh_clear
		}
		ai_chance = {
			base = 1
		}
	}
}

# Reformsits *I.R.
country_event = {
	id = PER_majlis.23
	title = PER_majlis.23.t
	desc = PER_majlis.23.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.23.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.23.a executed"
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_1
					405 = {
						internet_station > 1
					}
					402 = {
						internet_station > 1
					}
					400 = {
						internet_station > 1
					}
					979 = {
						internet_station > 1
					}
				}
			}
			activate_mission = PER_national_connection
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_2
					has_idea = sco_member
				}
			}
			activate_mission = PER_friends_from_across
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_3
					has_idea = economic_boom
				}
			}
			activate_mission = PER_booming_economy
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_4
					401 = {
						air_base > 4
						radar_station > 2
					}
				}
			}
			activate_mission = PER_safe_flight
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_5
					1190 = {
						dockyard > 0
						coastal_bunker > 2
					}
				}
			}
			activate_mission = PER_seagulls_screech
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_6
					AFG = {
						influence_higher_20 = yes
					}
					TAJ = {
						influence_higher_15 = yes
					}
				}
			}
			activate_mission = PER_brothers_to_the_east
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_7
					check_variable = { int_investments > 499.99 }
					has_idea = economic_boom
				}
			}
			activate_mission = PER_investments_everywhere
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_8
					1039 = {
						infrastructure > 3
					}
					1038 = {
						infrastructure > 3
					}
					401 = {
						infrastructure > 3
					}
					408 = {
						infrastructure > 3
					}
				}
			}
			activate_mission = PER_those_in_need
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_9
					1151 = {
						infrastructure > 2
						industrial_complex > 0
					}
					has_idea = open_borders
					OR = {
						has_idea = social_04
						has_idea = social_05
						has_idea = social_06
					}
				}
			}
			activate_mission = PER_a_place_for_all
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_10
					check_variable = { total_unemployed_percentage_display < 0.2 }
				}
			}
			activate_mission = PER_productive_promises
		}
		else_if = {
			limit = {
				has_idea = corruption_in_the_government
				NOT = {
					has_country_flag = PER_did_reformists_11
					has_idea = bureau_05
					OR = {
						has_idea = slight_corruption
						has_idea = negligible_corruption
					}
				}
			}
			activate_mission = PER_faith_in_the_government
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_12
					OR = {
						check_variable = { population_tax_rate < 16 }
						check_variable = { corporate_tax_rate > 14 }
					}
				}
			}
			activate_mission = PER_breaks_for_the_needy
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_13
					1146 = {
						industrial_complex > 0
					}
					1145 = {
						industrial_complex > 0
					}
					1039 = {
						industrial_complex > 0
					}
				}
			}
			activate_mission = PER_industrialization_of_rural_areas
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_14
					TUR = {
						influence_higher_15 = yes
					}
					GRE = {
						influence_higher_15 = yes
					}
				}
			}
			activate_mission = PER_meddling_in_conflicts
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_15
					check_variable = { party_pop_array^9 < 0.20 }
				}
			}
			activate_mission = PER_passive_aggressive_competition
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_16
					405 = {
						synthetic_refinery > 1
					}
					400 = {
						synthetic_refinery > 1
					}
				}
			}
			activate_mission = PER_new_energy
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_reformists_17
					check_variable = { debt < 500 }
					check_variable = { interest_rate < 2.000 }
				}
			}
			activate_mission = PER_a_thriving_economy
		}

		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_reformists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = PER_majlis.24
	title = PER_majlis.24.t
	desc = PER_majlis.24.d
	picture = GFX_iran_majles

	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.24.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.24.a executed"
		if = {
			limit = {
				country_exists = AFG
				AFG = {
					has_war_with = TAL
				}
				NOT = {
					has_country_flag = PER_did_principalists_1
					AFG = {
						has_volunteers_amount_from = {
							tag = PER
							count > 0
						}
					}
				}
			}
			hidden_effect = {
				PER = {
					add_relation_modifier = {
						target = AFG
						modifier = generic_increased_military_support
					}
				}
			}
			activate_mission = PER_intervention_in_afghanistan
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_2
					405 = {
						infrastructure > 4
						internet_station > 1
					}
				}
			}
			activate_mission = PER_developing_the_capital
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_3
					SYR = {
						OR = {
							has_idea = faction_resistance_axis_member
							is_subject_of = PER
						}
					}
				}
			}
			activate_mission = PER_syrian_hand
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_4
					976 = {
						arms_factory > 1
					}
				}
			}
			activate_mission = PER_the_armys_suppliers
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_5
					402 = {
						infrastructure > 4
						internet_station > 1
					}
					1144 = {
						infrastructure > 4
						internet_station > 1
					}
				}
			}
			activate_mission = PER_ease_of_prayer
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_6
					OR = {
						has_country_flag = PER_iraq_accepted_to_pay_half_billion_weekly
						has_country_flag = PER_iraq_accepted_to_pay_one_billion_weekly
						has_country_flag = PER_iraq_accepted_to_pay_two_billion_weekly
						IRQ = {
							influence_higher_50 = yes
						}
					}
				}
			}
			activate_mission = PER_our_rightful_money
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_7
					OR = {
						SAU = { is_subject_of = PER }
						UAE = { is_subject_of = PER }
						KUW = { is_subject_of = PER }
						QAT = { is_subject_of = PER }
					}
				}
			}
			activate_mission = PER_enemies_on_a_leash
		}
		else_if = {
			limit = {
				country_exists = JOR
				JOR = {
					OR = {
						check_variable = { influence_array^0 = USA }
						check_variable = { influence_array^1 = USA }
						check_variable = { influence_array^2 = USA }
						check_variable = { influence_array^3 = USA }
						check_variable = { influence_array^4 = USA }
					}
				}
				NOT = {
					has_country_flag = PER_did_principalists_8
				}
			}
			activate_mission = PER_fighting_foreigners
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_9
					has_equipment = {
						Kamikaze_drone_equipment > 4999
					}
				}
			}
			activate_mission = PER_the_supplier_of_martyrs
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_10
					408 = {
						agriculture_district > 0
					}
					408 = {
						agriculture_district > 0
					}
					408 = {
						agriculture_district > 0
					}
					408 = {
						agriculture_district > 0
					}
				}
			}
			activate_mission = PER_aiding_the_farmer
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_11
					1146 = {
						infrastructure > 4
						fuel_silo > 4
					}
					399 = {
						infrastructure > 4
						fuel_silo > 4
					}
				}
			}
			activate_mission = PER_fueling_our_revolution
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_12
					has_army_manpower = {
						size > 449999
					}
				}
			}
			activate_mission = PER_outnumbering_the_enemy
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_13
					has_stability > 74
					OR = {
						has_idea = police_04
						has_idea = police_05
					}
				}
			}
			activate_mission = PER_safety_with_stability
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_14
					403 = {
						rocket_site > 4
					}
					399 = {
						rocket_site > 4
					}
				}
			}
			activate_mission = PER_national_deterrents
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_15
					OR = {
						IRQ = { has_idea = tribute_idea_PER	}
						SYR = { has_idea = tribute_idea_PER	}
						LEB = { has_idea = tribute_idea_PER	}
					}
				}
			}
			activate_mission = PER_exploiting_our_proxies
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = PER_did_principalists_16
					check_variable = { overall_productivity > 899.99 }
				}
			}
			activate_mission = PER_exploiting_our_proxies
		}

		else = {
			custom_effect_tooltip = PER_no_more_missions_TT
			set_country_flag = PER_principalists_clear
		}
		ai_chance = {
			base = 1
		}
	}
}


# Set-up for new political parties
country_event = {
	id = PER_majlis.30
	title = PER_majlis.30.t
	desc = PER_majlis.30.d
	picture = GFX_iran_majles
	fire_only_once = yes
	is_triggered_only = yes

	# Okay
	option = {
		name = PER_majlis.30.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.30.a executed"
		hidden_effect = {
			set_popularities = {
				communism = 15
				democratic = 30
				nationalist = 15
				neutrality = 40
			}
		}
		# Total: 30
		set_variable = { party_pop_array^0 = 0.15 } #Western_Autocracy
		set_variable = { party_pop_array^1 = 0.05 } #conservatism
		set_variable = { party_pop_array^2 = 0.00 } #liberalism
		set_variable = { party_pop_array^3 = 0.10 } #socialism
		# Total: 15
		set_variable = { party_pop_array^4 = 0.05 } #Communist-State
		set_variable = { party_pop_array^5 = 0.10 } #anarchist_communism
		set_variable = { party_pop_array^6 = 0 } #Conservative
		set_variable = { party_pop_array^7 = 0 } #Autocracy
		set_variable = { party_pop_array^8 = 0.00 } #Mod_Vilayat_e_Faqih -> Reformists
		set_variable = { party_pop_array^9 = 0.00 } #Vilayat_e_Faqih -> Principalists
		# Total: 0 (Both Banned)
		set_variable = { party_pop_array^10 = 0.00 } #Kingdom
		set_variable = { party_pop_array^11 = 0.00 } #Caliphate
		# Total: 40
		set_variable = { party_pop_array^12 = 0.15 } #Neutral_Muslim_Brotherhood
		set_variable = { party_pop_array^13 = 0.00 } #Neutral_Autocracy
		set_variable = { party_pop_array^14 = 0.15 } #Neutral_conservatism
		set_variable = { party_pop_array^15 = 0.00 } #oligarchism
		set_variable = { party_pop_array^16 = 0.00 } #Neutral_Libertarian
		set_variable = { party_pop_array^17 = 0.00 } #Neutral_green
		set_variable = { party_pop_array^18 = 0.10 } #neutral_Social
		set_variable = { party_pop_array^19 = 0.00 } #Neutral_Communism
		# Total: 15
		set_variable = { party_pop_array^20 = 0.15 } #Nat_Populism
		set_variable = { party_pop_array^21 = 0.00 } #Nat_Fascism
		set_variable = { party_pop_array^22 = 0.00 } #Nat_Autocracy
		set_variable = { party_pop_array^23 = 0.00 } #Monarchist
		if = {
			limit = {
				has_country_flag = PER_peaceful_revolution
			}
			country_event = {
				id = PER_civilwar.301
			}
			country_event = {
				id = PER_majlis.1
				days = 2
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = PER_peaceful_revolution
				}
			}
			country_event = {
				id = PER_revolution.301
			}
			country_event = {
				id = PER_majlis.1
				days = 2
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Majles Protest to Centralization law Change
country_event = {
	id = PER_majlis.31
	title = PER_majlis.31.t
	desc = PER_majlis.31.d
	picture = GFX_iran_majles
	trigger = {
		NOT = {
			OR = {
				has_country_flag = PER_civil_war_decision_1
				has_country_flag = PER_buru_cool_down_02
			}
		}
	}
	is_triggered_only = yes

	# Okay, fine
	option = {
		name = PER_majlis.31.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.31.a executed"
		if = {
			limit = {
				has_country_flag = PER_removed_bureau_01
			}
			if = {
				limit = {
					has_idea = bureau_02
				}
				swap_ideas = {
					remove_idea = bureau_02
					add_idea = bureau_01
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_03
				}
				swap_ideas = {
					remove_idea = bureau_03
					add_idea = bureau_01
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_04
				}
				swap_ideas = {
					remove_idea = bureau_04
					add_idea = bureau_01
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_05
				}
				swap_ideas = {
					remove_idea = bureau_05
					add_idea = bureau_01
				}
			}
		}
		# B2
		if = {
			limit = {
				has_country_flag = PER_removed_bureau_02
			}
			if = {
				limit = {
					has_idea = bureau_01
				}
				swap_ideas = {
					remove_idea = bureau_01
					add_idea = bureau_02
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_03
				}
				swap_ideas = {
					remove_idea = bureau_03
					add_idea = bureau_02
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_04
				}
				swap_ideas = {
					remove_idea = bureau_04
					add_idea = bureau_02
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_05
				}
				swap_ideas = {
					remove_idea = bureau_05
					add_idea = bureau_02
				}
			}
		}
		# B3
		if = {
			limit = {
				has_country_flag = PER_removed_bureau_03
			}
			if = {
				limit = {
					has_idea = bureau_01
				}
				swap_ideas = {
					remove_idea = bureau_01
					add_idea = bureau_03
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_02
				}
				swap_ideas = {
					remove_idea = bureau_02
					add_idea = bureau_03
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_04
				}
				swap_ideas = {
					remove_idea = bureau_04
					add_idea = bureau_03
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_05
				}
				swap_ideas = {
					remove_idea = bureau_05
					add_idea = bureau_03
				}
			}
		}
		# B4
		if = {
			limit = {
				has_country_flag = PER_removed_bureau_04
			}
			if = {
				limit = {
					has_idea = bureau_01
				}
				swap_ideas = {
					remove_idea = bureau_01
					add_idea = bureau_04
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_02
				}
				swap_ideas = {
					remove_idea = bureau_02
					add_idea = bureau_04
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_03
				}
				swap_ideas = {
					remove_idea = bureau_03
					add_idea = bureau_04
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_05
				}
				swap_ideas = {
					remove_idea = bureau_05
					add_idea = bureau_04
				}
			}
		}
		# B5
		if = {
			limit = {
				has_country_flag = PER_removed_bureau_05
			}
			if = {
				limit = {
					has_idea = bureau_01
				}
				swap_ideas = {
					remove_idea = bureau_01
					add_idea = bureau_05
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_02
				}
				swap_ideas = {
					remove_idea = bureau_02
					add_idea = bureau_05
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_03
				}
				swap_ideas = {
					remove_idea = bureau_03
					add_idea = bureau_05
				}
			}
			else_if = {
				limit = {
					has_idea = bureau_04
				}
				swap_ideas = {
					remove_idea = bureau_04
					add_idea = bureau_05
				}
			}
		}
		block_bureau_change = yes
		clr_country_flag = PER_removed_bureau_01
		clr_country_flag = PER_removed_bureau_02
		clr_country_flag = PER_removed_bureau_03
		clr_country_flag = PER_removed_bureau_04
		clr_country_flag = PER_removed_bureau_05
		set_country_flag = {
			flag = PER_buru_cool_down
			days = 5
			value = 1
		}
		set_country_flag = {
			flag = PER_buru_cool_down_02
			days = 14
			value = 1
		}
		ai_chance = {
			base = 1
		}
	}
	# I don't care what they have to say
	option = {
		name = PER_majlis.31.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.31.b executed"
		set_country_flag = {
			flag = PER_buru_cool_down_02
			days = 14
			value = 1
		}
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.015 }
		set_temp_variable = { temp_outlook_increase = -0.01 }
		add_relative_party_popularity = yes
		newline = yes
		add_political_power = -75
		newline = yes
		random_list = {
			20 = {
				block_defence_change = yes
			}
			20 = {
				block_police_change = yes
			}
			60 = { }
		}
		ai_chance = {
			base = 1
		}
	}
}

# Majles Protest to Police law Change
country_event = {
	id = PER_majlis.32
	title = PER_majlis.32.t
	desc = PER_majlis.32.d
	picture = GFX_iran_majles
	trigger = {
		NOT = {
			OR = {
				has_country_flag = PER_civil_war_decision_1
				has_country_flag = PER_police_cool_down_2
			}
		}
	}
	is_triggered_only = yes

	# Okay, fine
	option = {
		name = PER_majlis.32.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.32.a executed"
		if = {
			limit = {
				has_country_flag = PER_removed_police_01
			}
			if = {
				limit = {
					has_idea = police_02
				}
				swap_ideas = {
					remove_idea = police_02
					add_idea = police_01
				}
			}
			else_if = {
				limit = {
					has_idea = police_03
				}
				swap_ideas = {
					remove_idea = police_03
					add_idea = police_01
				}
			}
			else_if = {
				limit = {
					has_idea = police_04
				}
				swap_ideas = {
					remove_idea = police_04
					add_idea = police_01
				}
			}
			else_if = {
				limit = {
					has_idea = police_05
				}
				swap_ideas = {
					remove_idea = police_05
					add_idea = police_01
				}
			}
		}
		# B2
		if = {
			limit = {
				has_country_flag = PER_removed_police_02
			}
			if = {
				limit = {
					has_idea = police_01
				}
				swap_ideas = {
					remove_idea = police_01
					add_idea = police_02
				}
			}
			else_if = {
				limit = {
					has_idea = police_03
				}
				swap_ideas = {
					remove_idea = police_03
					add_idea = police_02
				}
			}
			else_if = {
				limit = {
					has_idea = police_04
				}
				swap_ideas = {
					remove_idea = police_04
					add_idea = police_02
				}
			}
			else_if = {
				limit = {
					has_idea = police_05
				}
				swap_ideas = {
					remove_idea = police_05
					add_idea = police_02
				}
			}
		}
		# B3
		if = {
			limit = {
				has_country_flag = PER_removed_police_03
			}
			if = {
				limit = {
					has_idea = police_01
				}
				swap_ideas = {
					remove_idea = police_01
					add_idea = police_03
				}
			}
			else_if = {
				limit = {
					has_idea = police_02
				}
				swap_ideas = {
					remove_idea = police_02
					add_idea = police_03
				}
			}
			else_if = {
				limit = {
					has_idea = police_04
				}
				swap_ideas = {
					remove_idea = police_04
					add_idea = police_03
				}
			}
			else_if = {
				limit = {
					has_idea = police_05
				}
				swap_ideas = {
					remove_idea = police_05
					add_idea = police_03
				}
			}
		}
		# B4
		if = {
			limit = {
				has_country_flag = PER_removed_police_04
			}
			if = {
				limit = {
					has_idea = police_01
				}
				swap_ideas = {
					remove_idea = police_01
					add_idea = police_04
				}
			}
			else_if = {
				limit = {
					has_idea = police_02
				}
				swap_ideas = {
					remove_idea = police_02
					add_idea = police_04
				}
			}
			else_if = {
				limit = {
					has_idea = police_03
				}
				swap_ideas = {
					remove_idea = police_03
					add_idea = police_04
				}
			}
			else_if = {
				limit = {
					has_idea = police_05
				}
				swap_ideas = {
					remove_idea = police_05
					add_idea = police_04
				}
			}
		}
		# B5
		if = {
			limit = {
				has_country_flag = PER_removed_police_05
			}
			if = {
				limit = {
					has_idea = police_01
				}
				swap_ideas = {
					remove_idea = police_01
					add_idea = police_05
				}
			}
			else_if = {
				limit = {
					has_idea = police_02
				}
				swap_ideas = {
					remove_idea = police_02
					add_idea = police_05
				}
			}
			else_if = {
				limit = {
					has_idea = police_03
				}
				swap_ideas = {
					remove_idea = police_03
					add_idea = police_05
				}
			}
			else_if = {
				limit = {
					has_idea = police_04
				}
				swap_ideas = {
					remove_idea = police_04
					add_idea = police_05
				}
			}
		}
		block_police_change = yes
		clr_country_flag = PER_removed_police_01
		clr_country_flag = PER_removed_police_02
		clr_country_flag = PER_removed_police_03
		clr_country_flag = PER_removed_police_04
		clr_country_flag = PER_removed_police_05
		set_country_flag = {
			flag = PER_police_cool_down
			days = 5
			value = 1
		}
		set_country_flag = {
			flag = PER_police_cool_down_2
			days = 14
			value = 1
		}
		ai_chance = {
			base = 1
		}
	}
	# I don't care what they have to say
	option = {
		name = PER_majlis.32.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.32.b executed"
		set_country_flag = {
			flag = PER_police_cool_down_2
			days = 14
			value = 1
		}
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.015 }
		set_temp_variable = { temp_outlook_increase = -0.01 }
		add_relative_party_popularity = yes
		newline = yes
		add_political_power = -75
		newline = yes
		random_list = {
			20 = {
				block_edu_change = yes
			}
			20 = {
				block_health_change = yes
			}
			60 = { }
		}
		ai_chance = {
			base = 1
		}
	}
}

# Majles Protest to Education law Change
country_event = {
	id = PER_majlis.33
	title = PER_majlis.33.t
	desc = PER_majlis.33.d
	picture = GFX_iran_majles

	is_triggered_only = yes
	trigger = {
		NOT = {
			OR = {
				has_country_flag = PER_edu_cool_down_2
				has_country_flag = PER_civil_war_decision_1
			}
		}
	}
	# Okay, fine
	option = {
		name = PER_majlis.33.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.33.a executed"
		if = {
			limit = {
				has_country_flag = PER_removed_edu_01
			}
			if = {
				limit = {
					has_idea = edu_02
				}
				swap_ideas = {
					remove_idea = edu_02
					add_idea = edu_01
				}
			}
			else_if = {
				limit = {
					has_idea = edu_03
				}
				swap_ideas = {
					remove_idea = edu_03
					add_idea = edu_01
				}
			}
			else_if = {
				limit = {
					has_idea = edu_04
				}
				swap_ideas = {
					remove_idea = edu_04
					add_idea = edu_01
				}
			}
			else_if = {
				limit = {
					has_idea = edu_05
				}
				swap_ideas = {
					remove_idea = edu_05
					add_idea = edu_01
				}
			}
		}
		# B2
		if = {
			limit = {
				has_country_flag = PER_removed_edu_02
			}
			if = {
				limit = {
					has_idea = edu_01
				}
				swap_ideas = {
					remove_idea = edu_01
					add_idea = edu_02
				}
			}
			else_if = {
				limit = {
					has_idea = edu_03
				}
				swap_ideas = {
					remove_idea = edu_03
					add_idea = edu_02
				}
			}
			else_if = {
				limit = {
					has_idea = edu_04
				}
				swap_ideas = {
					remove_idea = edu_04
					add_idea = edu_02
				}
			}
			else_if = {
				limit = {
					has_idea = edu_05
				}
				swap_ideas = {
					remove_idea = edu_05
					add_idea = edu_02
				}
			}
		}
		# B3
		if = {
			limit = {
				has_country_flag = PER_removed_edu_03
			}
			if = {
				limit = {
					has_idea = edu_01
				}
				swap_ideas = {
					remove_idea = edu_01
					add_idea = edu_03
				}
			}
			else_if = {
				limit = {
					has_idea = edu_02
				}
				swap_ideas = {
					remove_idea = edu_02
					add_idea = edu_03
				}
			}
			else_if = {
				limit = {
					has_idea = edu_04
				}
				swap_ideas = {
					remove_idea = edu_04
					add_idea = edu_03
				}
			}
			else_if = {
				limit = {
					has_idea = edu_05
				}
				swap_ideas = {
					remove_idea = edu_05
					add_idea = edu_03
				}
			}
		}
		# B4
		if = {
			limit = {
				has_country_flag = PER_removed_edu_04
			}
			if = {
				limit = {
					has_idea = edu_01
				}
				swap_ideas = {
					remove_idea = edu_01
					add_idea = edu_04
				}
			}
			else_if = {
				limit = {
					has_idea = edu_02
				}
				swap_ideas = {
					remove_idea = edu_02
					add_idea = edu_04
				}
			}
			else_if = {
				limit = {
					has_idea = edu_03
				}
				swap_ideas = {
					remove_idea = edu_03
					add_idea = edu_04
				}
			}
			else_if = {
				limit = {
					has_idea = edu_05
				}
				swap_ideas = {
					remove_idea = edu_05
					add_idea = edu_04
				}
			}
		}
		# B5
		if = {
			limit = {
				has_country_flag = PER_removed_edu_05
			}
			if = {
				limit = {
					has_idea = edu_01
				}
				swap_ideas = {
					remove_idea = edu_01
					add_idea = edu_05
				}
			}
			else_if = {
				limit = {
					has_idea = edu_02
				}
				swap_ideas = {
					remove_idea = edu_02
					add_idea = edu_05
				}
			}
			else_if = {
				limit = {
					has_idea = edu_03
				}
				swap_ideas = {
					remove_idea = edu_03
					add_idea = edu_05
				}
			}
			else_if = {
				limit = {
					has_idea = edu_04
				}
				swap_ideas = {
					remove_idea = edu_04
					add_idea = edu_05
				}
			}
		}
		block_edu_change = yes
		clr_country_flag = PER_removed_edu_01
		clr_country_flag = PER_removed_edu_02
		clr_country_flag = PER_removed_edu_03
		clr_country_flag = PER_removed_edu_04
		clr_country_flag = PER_removed_edu_05
		set_country_flag = {
			flag = PER_edu_cool_down
			days = 5
			value = 1
		}
		set_country_flag = {
			flag = PER_edu_cool_down_2
			days = 14
			value = 1
		}
		ai_chance = {
			base = 1
		}
	}
	# I don't care what they have to say
	option = {
		name = PER_majlis.33.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.33.b executed"
		set_country_flag = {
			flag = PER_edu_cool_down_2
			days = 14
			value = 1
		}
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.015 }
		set_temp_variable = { temp_outlook_increase = -0.01 }
		add_relative_party_popularity = yes
		newline = yes
		add_political_power = -75
		newline = yes
		random_list = {
			20 = {
				block_social_change = yes
			}
			20 = {
				block_bureau_change = yes
			}
			60 = { }
		}
		ai_chance = {
			base = 1
		}
	}
}

# Majles Protest to Healthcare law Change
country_event = {
	id = PER_majlis.34
	title = PER_majlis.34.t
	desc = PER_majlis.34.d
	picture = GFX_iran_majles
	trigger = {
		NOT = {
			OR = {
				has_country_flag = PER_civil_war_decision_1
				has_country_flag = PER_health_cool_down_2
			}
		}
	}
	is_triggered_only = yes

	# Okay, fine
	option = {
		name = PER_majlis.34.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.34.a executed"
		if = {
			limit = {
				has_country_flag = PER_removed_health_01
			}
			if = {
				limit = {
					has_idea = health_02
				}
				swap_ideas = {
					remove_idea = health_02
					add_idea = health_01
				}
			}
			else_if = {
				limit = {
					has_idea = health_03
				}
				swap_ideas = {
					remove_idea = health_03
					add_idea = health_01
				}
			}
			else_if = {
				limit = {
					has_idea = health_04
				}
				swap_ideas = {
					remove_idea = health_04
					add_idea = health_01
				}
			}
			else_if = {
				limit = {
					has_idea = health_05
				}
				swap_ideas = {
					remove_idea = health_05
					add_idea = health_01
				}
			}
			else_if = {
				limit = {
					has_idea = health_06
				}
				swap_ideas = {
					remove_idea = health_06
					add_idea = health_01
				}
			}
		}
		# B2
		if = {
			limit = {
				has_country_flag = PER_removed_health_02
			}
			if = {
				limit = {
					has_idea = health_01
				}
				swap_ideas = {
					remove_idea = health_01
					add_idea = health_02
				}
			}
			else_if = {
				limit = {
					has_idea = health_03
				}
				swap_ideas = {
					remove_idea = health_03
					add_idea = health_02
				}
			}
			else_if = {
				limit = {
					has_idea = health_04
				}
				swap_ideas = {
					remove_idea = health_04
					add_idea = health_02
				}
			}
			else_if = {
				limit = {
					has_idea = health_05
				}
				swap_ideas = {
					remove_idea = health_05
					add_idea = health_02
				}
			}
			else_if = {
				limit = {
					has_idea = health_06
				}
				swap_ideas = {
					remove_idea = health_06
					add_idea = health_02
				}
			}
		}
		# B3
		if = {
			limit = {
				has_country_flag = PER_removed_health_03
			}
			if = {
				limit = {
					has_idea = health_01
				}
				swap_ideas = {
					remove_idea = health_01
					add_idea = health_03
				}
			}
			else_if = {
				limit = {
					has_idea = health_02
				}
				swap_ideas = {
					remove_idea = health_02
					add_idea = health_03
				}
			}
			else_if = {
				limit = {
					has_idea = health_04
				}
				swap_ideas = {
					remove_idea = health_04
					add_idea = health_03
				}
			}
			else_if = {
				limit = {
					has_idea = health_05
				}
				swap_ideas = {
					remove_idea = health_05
					add_idea = health_03
				}
			}
			else_if = {
				limit = {
					has_idea = health_06
				}
				swap_ideas = {
					remove_idea = health_06
					add_idea = health_03
				}
			}
		}
		# B4
		if = {
			limit = {
				has_country_flag = PER_removed_health_04
			}
			if = {
				limit = {
					has_idea = health_01
				}
				swap_ideas = {
					remove_idea = health_01
					add_idea = health_04
				}
			}
			else_if = {
				limit = {
					has_idea = health_02
				}
				swap_ideas = {
					remove_idea = health_02
					add_idea = health_04
				}
			}
			else_if = {
				limit = {
					has_idea = health_03
				}
				swap_ideas = {
					remove_idea = health_03
					add_idea = health_04
				}
			}
			else_if = {
				limit = {
					has_idea = health_05
				}
				swap_ideas = {
					remove_idea = health_05
					add_idea = health_04
				}
			}
			else_if = {
				limit = {
					has_idea = health_06
				}
				swap_ideas = {
					remove_idea = health_06
					add_idea = health_04
				}
			}
		}
		# B5
		if = {
			limit = {
				has_country_flag = PER_removed_health_05
			}
			if = {
				limit = {
					has_idea = health_01
				}
				swap_ideas = {
					remove_idea = health_01
					add_idea = health_05
				}
			}
			else_if = {
				limit = {
					has_idea = health_02
				}
				swap_ideas = {
					remove_idea = health_02
					add_idea = health_05
				}
			}
			else_if = {
				limit = {
					has_idea = health_03
				}
				swap_ideas = {
					remove_idea = health_03
					add_idea = health_05
				}
			}
			else_if = {
				limit = {
					has_idea = health_04
				}
				swap_ideas = {
					remove_idea = health_04
					add_idea = health_05
				}
			}
			else_if = {
				limit = {
					has_idea = health_06
				}
				swap_ideas = {
					remove_idea = health_06
					add_idea = health_05
				}
			}
		}
		# B6
		if = {
			limit = {
				has_country_flag = PER_removed_health_06
			}
			if = {
				limit = {
					has_idea = health_01
				}
				swap_ideas = {
					remove_idea = health_01
					add_idea = health_06
				}
			}
			else_if = {
				limit = {
					has_idea = health_02
				}
				swap_ideas = {
					remove_idea = health_02
					add_idea = health_06
				}
			}
			else_if = {
				limit = {
					has_idea = health_03
				}
				swap_ideas = {
					remove_idea = health_03
					add_idea = health_06
				}
			}
			else_if = {
				limit = {
					has_idea = health_04
				}
				swap_ideas = {
					remove_idea = health_04
					add_idea = health_06
				}
			}
			else_if = {
				limit = {
					has_idea = health_05
				}
				swap_ideas = {
					remove_idea = health_05
					add_idea = health_06
				}
			}
		}
		block_health_change = yes
		clr_country_flag = PER_removed_health_01
		clr_country_flag = PER_removed_health_02
		clr_country_flag = PER_removed_health_03
		clr_country_flag = PER_removed_health_04
		clr_country_flag = PER_removed_health_05
		clr_country_flag = PER_removed_health_06
		set_country_flag = {
			flag = PER_health_cool_down
			days = 5
			value = 1
		}
		set_country_flag = {
			flag = PER_health_cool_down_2
			days = 14
			value = 1
		}
		ai_chance = {
			base = 1
		}
	}
	# I don't care what they have to say
	option = {
		name = PER_majlis.34.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.34.b executed"
		set_country_flag = {
			flag = PER_health_cool_down_2
			days = 14
			value = 1
		}
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.015 }
		set_temp_variable = { temp_outlook_increase = -0.01 }
		add_relative_party_popularity = yes
		newline = yes
		add_political_power = -25
		newline = yes
		random_list = {
			20 = {
				block_police_change = yes
			}
			20 = {
				block_defence_change = yes
			}
			60 = { }
		}
		ai_chance = {
			base = 1
		}
	}
}

# Majles Protest to Welfare law Change
country_event = {
	id = PER_majlis.35
	title = PER_majlis.35.t
	desc = PER_majlis.35.d
	picture = GFX_iran_majles
	trigger = {
		NOT = {
			OR = {
				has_country_flag = PER_civil_war_decision_1
				has_country_flag = PER_social_cool_down_2
			}
		}
	}
	is_triggered_only = yes

	# Okay, fine
	option = {
		name = PER_majlis.35.a
		log = "[GetDateText]: [This.GetName]: PER_majlis.35.a executed"
		if = {
			limit = {
				has_country_flag = PER_removed_social_01
			}
			if = {
				limit = {
					has_idea = social_02
				}
				swap_ideas = {
					remove_idea = social_02
					add_idea = social_01
				}
			}
			else_if = {
				limit = {
					has_idea = social_03
				}
				swap_ideas = {
					remove_idea = social_03
					add_idea = social_01
				}
			}
			else_if = {
				limit = {
					has_idea = social_04
				}
				swap_ideas = {
					remove_idea = social_04
					add_idea = social_01
				}
			}
			else_if = {
				limit = {
					has_idea = social_05
				}
				swap_ideas = {
					remove_idea = social_05
					add_idea = social_01
				}
			}
			else_if = {
				limit = {
					has_idea = social_06
				}
				swap_ideas = {
					remove_idea = social_06
					add_idea = social_01
				}
			}
		}
		# B2
		if = {
			limit = {
				has_country_flag = PER_removed_social_02
			}
			if = {
				limit = {
					has_idea = social_01
				}
				swap_ideas = {
					remove_idea = social_01
					add_idea = social_02
				}
			}
			else_if = {
				limit = {
					has_idea = social_03
				}
				swap_ideas = {
					remove_idea = social_03
					add_idea = social_02
				}
			}
			else_if = {
				limit = {
					has_idea = social_04
				}
				swap_ideas = {
					remove_idea = social_04
					add_idea = social_02
				}
			}
			else_if = {
				limit = {
					has_idea = social_05
				}
				swap_ideas = {
					remove_idea = social_05
					add_idea = social_02
				}
			}
			else_if = {
				limit = {
					has_idea = social_06
				}
				swap_ideas = {
					remove_idea = social_06
					add_idea = social_02
				}
			}
		}
		# B3
		if = {
			limit = {
				has_country_flag = PER_removed_social_03
			}
			if = {
				limit = {
					has_idea = social_01
				}
				swap_ideas = {
					remove_idea = social_01
					add_idea = social_03
				}
			}
			else_if = {
				limit = {
					has_idea = social_02
				}
				swap_ideas = {
					remove_idea = social_02
					add_idea = social_03
				}
			}
			else_if = {
				limit = {
					has_idea = social_04
				}
				swap_ideas = {
					remove_idea = social_04
					add_idea = social_03
				}
			}
			else_if = {
				limit = {
					has_idea = social_05
				}
				swap_ideas = {
					remove_idea = social_05
					add_idea = social_03
				}
			}
			else_if = {
				limit = {
					has_idea = social_06
				}
				swap_ideas = {
					remove_idea = social_06
					add_idea = social_03
				}
			}
		}
		# B4
		if = {
			limit = {
				has_country_flag = PER_removed_social_04
			}
			if = {
				limit = {
					has_idea = social_01
				}
				swap_ideas = {
					remove_idea = social_01
					add_idea = social_04
				}
			}
			else_if = {
				limit = {
					has_idea = social_02
				}
				swap_ideas = {
					remove_idea = social_02
					add_idea = social_04
				}
			}
			else_if = {
				limit = {
					has_idea = social_03
				}
				swap_ideas = {
					remove_idea = social_03
					add_idea = social_04
				}
			}
			else_if = {
				limit = {
					has_idea = social_05
				}
				swap_ideas = {
					remove_idea = social_05
					add_idea = social_04
				}
			}
			else_if = {
				limit = {
					has_idea = social_06
				}
				swap_ideas = {
					remove_idea = social_06
					add_idea = social_04
				}
			}
		}
		# B5
		if = {
			limit = {
				has_country_flag = PER_removed_social_05
			}
			if = {
				limit = {
					has_idea = social_01
				}
				swap_ideas = {
					remove_idea = social_01
					add_idea = social_05
				}
			}
			else_if = {
				limit = {
					has_idea = social_02
				}
				swap_ideas = {
					remove_idea = social_02
					add_idea = social_05
				}
			}
			else_if = {
				limit = {
					has_idea = social_03
				}
				swap_ideas = {
					remove_idea = social_03
					add_idea = social_05
				}
			}
			else_if = {
				limit = {
					has_idea = social_04
				}
				swap_ideas = {
					remove_idea = social_04
					add_idea = social_05
				}
			}
			else_if = {
				limit = {
					has_idea = social_06
				}
				swap_ideas = {
					remove_idea = social_06
					add_idea = social_05
				}
			}
		}
		# B6
		if = {
			limit = {
				has_country_flag = PER_removed_social_06
			}
			if = {
				limit = {
					has_idea = social_01
				}
				swap_ideas = {
					remove_idea = social_01
					add_idea = social_06
				}
			}
			else_if = {
				limit = {
					has_idea = social_02
				}
				swap_ideas = {
					remove_idea = social_02
					add_idea = social_06
				}
			}
			else_if = {
				limit = {
					has_idea = social_03
				}
				swap_ideas = {
					remove_idea = social_03
					add_idea = social_06
				}
			}
			else_if = {
				limit = {
					has_idea = social_04
				}
				swap_ideas = {
					remove_idea = social_04
					add_idea = social_06
				}
			}
			else_if = {
				limit = {
					has_idea = social_05
				}
				swap_ideas = {
					remove_idea = social_05
					add_idea = social_06
				}
			}
		}
		block_social_change = yes
		clr_country_flag = PER_removed_social_01
		clr_country_flag = PER_removed_social_02
		clr_country_flag = PER_removed_social_03
		clr_country_flag = PER_removed_social_04
		clr_country_flag = PER_removed_social_05
		clr_country_flag = PER_removed_social_06
		set_country_flag = {
			flag = PER_social_cool_down
			days = 5
			value = 1
		}
		set_country_flag = {
			flag = PER_social_cool_down_2
			days = 14
			value = 1
		}
		ai_chance = {
			base = 1
		}
	}
	# I don't care what they have to say
	option = {
		name = PER_majlis.35.b
		log = "[GetDateText]: [This.GetName]: PER_majlis.35.b executed"
		set_country_flag = {
			flag = PER_social_cool_down_2
			days = 14
			value = 1
		}
		set_party_index_to_ruling_party = yes
		set_temp_variable = { party_popularity_increase = -0.015 }
		set_temp_variable = { temp_outlook_increase = -0.01 }
		add_relative_party_popularity = yes
		newline = yes
		add_political_power = -25
		newline = yes
		random_list = {
			20 = {
				block_police_change = yes
			}
			20 = {
				block_defence_change = yes
			}
			60 = { }
		}
		ai_chance = {
			base = 1
		}
	}
}

# New Events

# Nuclear Events
country_event = {
	id = nuclear_iran.1
	title = nuclear_iran.1.t
	desc = nuclear_iran.1.d

	is_triggered_only = yes
	# Russia
	option = {
		name = nuclear_iran.1.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.1.a executed"
		trigger = {
			NOT = {
				has_war_with = SOV
			}
		}
		SOV = {
			country_event = {
				id = nuclear_iran.2
				days = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
	# North Korea
	option = {
		name = nuclear_iran.1.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.1.b executed"
		trigger = {
			NOT = {
				has_war_with = NKO
			}
		}
		NKO = {
			country_event = {
				id = nuclear_iran.2
				days = 1
			}
		}
		ai_chance = {
			base = 2.5
		}
	}
}

# Iran Asks Us for Help
country_event = {
	id = nuclear_iran.2
	title = nuclear_iran.2.t
	desc = nuclear_iran.2.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.2.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.2.a executed"
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = ROOT }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		if = {
			limit = {
				ROOT = {
					original_tag = NKO
				}
			}
			custom_effect_tooltip = PER_missile_nko_TT
			PER = {
				country_event = {
					id = nuclear_iran.3
					days = 1
				}
			}
		}
		if = {
			limit = {
				ROOT = {
					original_tag = SOV
				}
			}
			custom_effect_tooltip = PER_missile_sov_TT
			PER = {
				country_event = {
					id = nuclear_iran.4
					days = 1
				}
			}
		}
		ai_chance = {
			base = 10
		}
	}
	# No
	option = {
		name = nuclear_iran.2.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.2.b executed"
		if = {
			limit = {
				ROOT = {
					original_tag = SOV
				}
			}
			PER = {
				set_country_flag = SOV_rejected_PER
			}
		}
		if = {
			limit = {
				ROOT = {
					original_tag = NKO
				}
			}
			PER = {
				set_country_flag = NKO_rejected_PER
			}
		}
		PER = {
			country_event = {
				id = nuclear_iran.5
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
# North Korea Provides Missile Technology
country_event = {
	id = nuclear_iran.3
	title = nuclear_iran.3.t
	desc = nuclear_iran.3.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.3.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.3.a executed"
		if = {
			limit = {
				has_tech = ICBM3
			}
			set_technology = { ICBM4 = 1 }
		}
		else = {
			PER = {
				set_technology = { ICBM3 = 1 }
			}
		}
		ai_chance = {
			base = 10
		}
	}
}

# Russia Provides Nuclear Technology
country_event = {
	id = nuclear_iran.4
	title = nuclear_iran.4.t
	desc = nuclear_iran.4.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.4.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.4.a executed"
		if = {
			limit = {
				has_tech = reactor3
			}
			set_technology = { reactor4 = 1 }
		}
		else = {
			PER = {
				set_technology = { reactor3 = 1 }
			}
		}
		ai_chance = {
			base = 10
		}
	}
}

# FROM Denies Assistance
country_event = {
	id = nuclear_iran.5
	title = nuclear_iran.5.t
	desc = nuclear_iran.5.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.5.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.5.a executed"
		if = {
			limit = {
				has_country_flag = NKO_rejected_PER
			}
			complete_national_focus = PER_mastering_the_atom
		}
		ai_chance = {
			base = 10
		}
	}
}

# Iran Asks Us For Missiles

country_event = {
	id = nuclear_iran.6
	title = nuclear_iran.6.t
	desc = nuclear_iran.6.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.6.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.6.a executed"
		if = {
			limit = {
				has_dlc = "Gotterdammerung"
			}
			send_equipment = {
				type = guided_missile_equipment_1
				amount = 400
				target = PER
			}
		}
		else = {
			send_equipment = {
				type = ballistic_missile_equipment
				amount = 400
				target = PER
			}
		}
		effect_tooltip = {
			PER = {
				set_temp_variable = { treasury_change = -47.00 }
				modify_treasury_effect = yes
			}
			SOV = {
				set_temp_variable = { treasury_change = 47.00 }
				modify_treasury_effect = yes
			}
			set_temp_variable = { percent_change = 4 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = PER }
			change_influence_percentage = yes
		}
		PER = {
			country_event = {
				id = nuclear_iran.7
				days = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
	# No
	option = {
		name = nuclear_iran.6.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.6.b executed"
		PER = {
			country_event = {
				id = nuclear_iran.8
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Russia Sells it's Missiles
country_event = {
	id = nuclear_iran.7
	title = nuclear_iran.7.t
	desc = nuclear_iran.7.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.7.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.7.a executed"
		effect_tooltip = {
			SOV = {
				if = {
					limit = {
						has_dlc = "Gotterdammerung"
					}
					send_equipment = {
						type = guided_missile_equipment_1
						amount = 400
						target = PER
					}
				}
				else = {
					send_equipment = {
						type = ballistic_missile_equipment
						amount = 400
						target = PER
					}
				}
			}
		}
		PER = {
			set_temp_variable = { treasury_change = -47.00 }
			modify_treasury_effect = yes
		}
		SOV = {
			set_temp_variable = { treasury_change = 47.00 }
			modify_treasury_effect = yes
		}
		set_temp_variable = { percent_change = 4 }
		set_temp_variable = { tag_index = SOV }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		ai_chance = {
			base = 10
		}
	}
}

# Russia Refuses to Sell Missiles
country_event = {
	id = nuclear_iran.8
	title = nuclear_iran.8.t
	desc = nuclear_iran.8.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.8.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.8.a executed"
		ai_chance = {
			base = 10
		}
	}
}

country_event = {
	id = nuclear_iran.9
	title = nuclear_iran.9.t
	desc = nuclear_iran.9.d

	is_triggered_only = yes
	# Okay
	option = {
		name = nuclear_iran.9.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.9.a executed"
		if = {
			limit = {
				has_dlc = "Gotterdammerung"
			}
			add_equipment_to_stockpile = {
				type = nuclear_missile_equipment_3
				amount = 15
				producer = SOV
			}
		}
		else = {
			add_equipment_to_stockpile = {
				type = ballistic_missile_equipment
				amount = 100
			}
		}
		ai_chance = {
			base = 10
		}
	}
}

# Iran Asks for SHORAD Systems
country_event = {
	id = nuclear_iran.10
	title = nuclear_iran.10.t
	desc = nuclear_iran.10.d

	is_triggered_only = yes

	# Okay
	option = {
		name = nuclear_iran.10.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.10.a executed"
		effect_tooltip = {
			1146 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
				}
			}
			newline = yes
			406 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
				}
			}
			newline = yes
			400 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
				}
			}
			newline = yes
			978 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
				}
			}
			newline = yes
			401 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
				}
			}
		}
		set_temp_variable = { treasury_change = -16.25 }
		modify_treasury_effect = yes
		set_temp_variable = { percent_change = 5 }
		set_temp_variable = { tag_index = SOV }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		PER = {
			country_event = {
				id = nuclear_iran.11
				days = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}

	# No
	option = {
		name = nuclear_iran.10.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.10.a executed"
		PER = {
			country_event = {
				id = nuclear_iran.12
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Russia Accepts
country_event = {
	id = nuclear_iran.11
	title = nuclear_iran.11.t
	desc = nuclear_iran.11.d

	is_triggered_only = yes

	# Okay
	option = {
		name = nuclear_iran.11.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.11.a executed"
		1146 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
			}
		}
		newline = yes
		406 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
			}
		}
		newline = yes
		400 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
			}
		}
		newline = yes
		978 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
			}
		}
		newline = yes
		401 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
}
# Russia Rejects
country_event = {
	id = nuclear_iran.12
	title = nuclear_iran.12.t
	desc = nuclear_iran.12.d

	is_triggered_only = yes

	# Okay
	option = {
		name = nuclear_iran.12.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.12.a executed"
		ai_chance = {
			base = 10
		}
	}
}

# Grand Bargain (JCPOA Path)
country_event = {
	id = nuclear_iran.13
	title = nuclear_iran.13.t
	desc = nuclear_iran.13.d

	is_triggered_only = yes

	# Negotiate for Monetary Benefits
	option = {
		name = nuclear_iran.13.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.13.a executed"
		activate_mission = PER_nuclear_disarming
		405 = {
			add_building_construction = {
				type = offices
				level = 1
			}
		}
		newline = yes
		400 = {
			add_building_construction = {
				type = offices
				level = 1
			}
		}
		newline = yes
		402 = {
			add_building_construction = {
				type = agriculture_district
				level = 1
			}
		}
		newline = yes
		407 = {
			add_building_construction = {
				type = agriculture_district
				level = 1
			}
		}
		newline = yes
		401 = {
			add_building_construction = {
				type = agriculture_district
				level = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
	# Negotiate for Industrial Benefits
	option = {
		name = nuclear_iran.13.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.13.b executed"
		activate_mission = PER_nuclear_disarming
		405 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		newline = yes
		400 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		newline = yes
		1146 = {
			add_building_construction = {
				type = dockyard
				level = 1
			}
		}
		newline = yes
		401 = {
			add_building_construction = {
				type = dockyard
				level = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
	# Negotiate for Energy Benefits
	option = {
		name = nuclear_iran.13.c
		log = "[GetDateText]: [This.GetName]: nuclear_iran.13.c executed"
		activate_mission = PER_nuclear_disarming
		405 = {
			add_building_construction = {
				type = nuclear_reactor
				level = 1
			}
		}
		newline = yes
		400 = {
			add_building_construction = {
				type = nuclear_reactor
				level = 1
			}
		}
		newline = yes
		1146 = {
			add_building_construction = {
				type = fossil_powerplant
				level = 2
			}
		}
		newline = yes
		406 = {
			add_building_construction = {
				type = fossil_powerplant
				level = 1
			}
		}
		newline = yes
		1039 = {
			add_building_construction = {
				type = dockyard
				level = 1
			}
		}
		newline = yes
		1151 = {
			add_building_construction = {
				type = dockyard
				level = 1
			}
		}
		ai_chance = {
			base = 10
		}
	}
}

# Iran Reveals Nuclear Capabilities (JCPOA Path)
country_event = {
	id = nuclear_iran.14
	title = nuclear_iran.14.t
	desc = nuclear_iran.14.d

	is_triggered_only = yes

	# Offer negotiations
	option = {
		name = nuclear_iran.14.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.14.a executed"
		PER = {
			country_event = {
				id = nuclear_iran.13
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 50
				has_opinion = {
					target = PER
					value > 4
				}
			}
		}
	}
	# Demand the destruction of all nuclear weapons
	option = {
		name = nuclear_iran.14.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.14.b executed"
		PER = {
			country_event = {
				id = nuclear_iran.15
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 50
				USA = {
					western_conservatism_are_in_power = yes
				}
			}
		}
	}
}
# US Gives its own offer
country_event = {
	id = nuclear_iran.15
	title = nuclear_iran.15.t
	desc = nuclear_iran.15.d

	is_triggered_only = yes
	# Ok
	option = {
		name = nuclear_iran.15.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.15.a executed"
		activate_mission = PER_nuclear_disarming
		USA = {
			country_event = {
				id = nuclear_iran.16
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
	# No
	option = {
		name = nuclear_iran.15.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.15.b executed"
		set_country_flag = PER_nuclear_known
		set_country_flag = PER_sanctioned
		clr_country_flag = PER_nuclear_negotiations
		USA = {
			country_event = {
				id = nuclear_iran.17
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
# Iran accepts our offer
country_event = {
	id = nuclear_iran.16
	title = nuclear_iran.16.t
	desc = nuclear_iran.16.d

	is_triggered_only = yes

	option = {
		name = nuclear_iran.16.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.16.a executed"

		ai_chance = {
			base = 1
		}
	}
}
# Iran refuses our offer
country_event = {
	id = nuclear_iran.17
	title = nuclear_iran.17.t
	desc = nuclear_iran.17.d

	is_triggered_only = yes

	option = {
		name = nuclear_iran.17.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.17.a executed"
		send_embargo = PER
		every_country = {
			limit = {
				OR = {
					has_government = democratic
					has_government = neutrality
					original_tag = ISR
					original_tag = SAU
					original_tag = UAE
					original_tag = KUW
				}
			}
			country_event = {
				id = nuclear_iran.18
				days = 2
			}
		}
		ai_chance = {
			base = 1
		}
	}

	option = {
		name = nuclear_iran.17.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.17.b executed"
		every_country = {
			limit = {
				OR = {
					has_government = democratic
					has_government = neutrality
					original_tag = ISR
					original_tag = SAU
					original_tag = UAE
					original_tag = KUW
				}
			}
			country_event = {
				id = nuclear_iran.18
				days = 2
			}
		}
		ai_chance = {
			base = 1
		}
	}

	option = {
		name = nuclear_iran.17.c
		log = "[GetDateText]: [This.GetName]: nuclear_iran.17.c executed"

		ai_chance = {
			base = 0
		}
	}
}
# US Calls for Sanctions on Iran
country_event = {
	id = nuclear_iran.18
	title = nuclear_iran.18.t
	desc = nuclear_iran.18.d
	is_triggered_only = yes
	trigger = {
		country_exists = USA
	}
	# Ok
	option = {
		name = nuclear_iran.18.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.18.a executed"
		send_embargo = PER
		add_opinion_modifier = {
			target = PER
			modifier = sanctioned_iran
		}
		PER = {
			country_event = nuclear_iran.19
		}
		PER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = sanctioned_us
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				add = 100
				OR = {
					has_government = democratic
					has_government = neutrality
					has_government = fascism
					original_tag = ISR
					original_tag = SAU
					original_tag = UAE
					original_tag = KUW
					NOT = {
						original_tag = RAJ
						original_tag = SWI
						original_tag = AUS
						original_tag = TAJ
						original_tag = AFG
						original_tag = CHI
						original_tag = SOV
						original_tag = KOR
						original_tag = PAL
						original_tag = SYR
						original_tag = HUN
						original_tag = TRK
						original_tag = UZB
						original_tag = ARM
						is_in_africa = yes
					}
				}
			}
		}
	}
	# No
	option = {
		name = nuclear_iran.18.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.18.b executed"

		ai_chance = {
			base = 5
			modifier = {
				add = 100
				OR = {
					has_government = nationalist
					has_government = communism
					original_tag = RAJ
					original_tag = SWI
					original_tag = AUS
					original_tag = TAJ
					original_tag = AFG
					original_tag = CHI
					original_tag = SOV
					original_tag = KOR
					original_tag = PAL
					original_tag = SYR
					original_tag = HUN
					original_tag = TRK
					original_tag = UZB
					original_tag = ARM
					is_in_africa = yes
				}
			}
		}
	}
}

# International Sanctions!
country_event = {
	id = nuclear_iran.19
	title = nuclear_iran.19.t
	desc = nuclear_iran.19.d
	is_triggered_only = yes
	fire_only_once = yes
	# Ok
	option = {
		name = nuclear_iran.19.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.19.a executed"
		set_country_flag = PER_sanctioned
		set_country_flag = PER_nuclear_known
		clr_country_flag = PER_nuclear_negotiations
		if = {
			limit = {
				NOT = {
					has_completed_focus = PER_silent_steps
				}
			}
			complete_national_focus = PER_silent_steps
		}
		if = {
			limit = {
				NOT = {
					has_dynamic_modifier = {
						modifier = PER_us_sanctions
					}
				}
			}
			add_dynamic_modifier = {
				modifier = PER_us_sanctions
			}
		}
		else_if = {
			limit = {
				has_dynamic_modifier = {
					modifier = PER_us_sanctions
				}
			}
			PER = {
				newline = yes
				set_temp_variable = { PER_sanction_trade_opinion_factor_change = -0.1 }
				update_PER_sanction_trade_opinion_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_trade_laws_cost_factor_change = 0.1 }
				update_PER_sanction_trade_laws_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_oil_export_multiplier_modifier_change = -0.1 }
				update_PER_sanction_oil_export_multiplier_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_improve_relations_maintain_cost_factor_change = 0.1 }
				update_PER_sanction_improve_relations_maintain_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_productivity_growth_modifier_change = -0.05 }
				update_PER_sanction_productivity_growth_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_stability_factor_change = -0.05 }
				update_PER_sanction_stability_factor = yes
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = nuclear_iran.20
	title = nuclear_iran.20.t
	desc = nuclear_iran.20.d
	is_triggered_only = yes
	fire_only_once = yes
	# Demand the Dismantlement of all Iranian Nuclear Weapons!
	option = {
		name = nuclear_iran.20.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.20.a executed"
		every_country = {
			limit = {
				OR = {
					has_government = democratic
					has_government = neutrality
					original_tag = ISR
					original_tag = SAU
					original_tag = UAE
					original_tag = KUW
				}
			}
			country_event = {
				id = nuclear_iran.18
				days = 2
			}
		}
		PER = {
			country_event = {
				id = nuclear_iran.21
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

# United States Demands Nuclear Disarming
country_event = {
	id = nuclear_iran.21
	title = nuclear_iran.21.t
	desc = nuclear_iran.21.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = nuclear_iran.21.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.21.a executed"
		ai_chance = {
			base = 5
		}
	}
}
# Iran Offers Cheap Oil
country_event = {
	id = nuclear_iran.22
	title = nuclear_iran.22.t
	desc = nuclear_iran.22.d
	is_triggered_only = yes
	fire_only_once = yes
	# Okay
	option = {
		name = nuclear_iran.22.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.22.a executed"
		create_import = {
			resource = oil
			amount = 19
			exporter = PER
		}
		set_temp_variable = { percent_change = 3 }
		set_temp_variable = { tag_index = CHI }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		PER = {
			country_event = nuclear_iran.23
		}
		ai_chance = {
			base = 5
		}
	}
	# No
	option = {
		name = nuclear_iran.22.b
		log = "[GetDateText]: [This.GetName]: nuclear_iran.22.b executed"
		PER = {
			country_event = nuclear_iran.24
		}
		ai_chance = {
			base = 0
		}
	}
}

country_event = {
	id = nuclear_iran.23
	title = nuclear_iran.23.t
	desc = nuclear_iran.23.d
	is_triggered_only = yes
	fire_only_once = yes
	# Okay
	option = {
		name = nuclear_iran.23.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.23.a executed"
		effect_tooltip = {
			CHI = {
				create_import = {
					resource = oil
					amount = 19
					exporter = PER
				}
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = nuclear_iran.24
	title = nuclear_iran.24.t
	desc = nuclear_iran.24.d
	is_triggered_only = yes
	fire_only_once = yes
	# Okay
	option = {
		name = nuclear_iran.24.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.24.a executed"

		ai_chance = {
			base = 5
		}
	}
}

# United States Increases Economic Sanctions!
country_event = {
	id = nuclear_iran.25
	title = nuclear_iran.25.t
	desc = nuclear_iran.25.d
	is_triggered_only = yes

	# They did what?
	option = {
		name = nuclear_iran.25.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.25.a executed"
		add_opinion_modifier = {
			target = USA
			modifier = recent_actions_negative
		}
		effect_tooltip = {
			PER = {
				newline = yes
				set_temp_variable = { PER_sanction_trade_opinion_factor_change = -0.1 }
				update_PER_sanction_trade_opinion_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_trade_laws_cost_factor_change = 0.1 }
				update_PER_sanction_trade_laws_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_oil_export_multiplier_modifier_change = -0.1 }
				update_PER_sanction_oil_export_multiplier_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_improve_relations_maintain_cost_factor_change = 0.1 }
				update_PER_sanction_improve_relations_maintain_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_productivity_growth_modifier_change = -0.05 }
				update_PER_sanction_productivity_growth_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_stability_factor_change = -0.05 }
				update_PER_sanction_stability_factor = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# United States Decreases Economic Sanctions
country_event = {
	id = nuclear_iran.26
	title = nuclear_iran.26.t
	desc = nuclear_iran.26.d
	is_triggered_only = yes

	# They did what?
	option = {
		name = nuclear_iran.26.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.26.a executed"
		add_opinion_modifier = {
			target = USA
			modifier = recent_actions_positive
		}
		effect_tooltip = {
			PER = {
				newline = yes
				set_temp_variable = { PER_sanction_trade_opinion_factor_change = 0.1 }
				update_PER_sanction_trade_opinion_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_trade_laws_cost_factor_change = -0.1 }
				update_PER_sanction_trade_laws_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_oil_export_multiplier_modifier_change = 0.1 }
				update_PER_sanction_oil_export_multiplier_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_improve_relations_maintain_cost_factor_change = -0.1 }
				update_PER_sanction_improve_relations_maintain_cost_factor = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_productivity_growth_modifier_change = 0.05 }
				update_PER_sanction_productivity_growth_modifier = yes
				newline = yes
				newline = yes
				set_temp_variable = { PER_sanction_stability_factor_change = 0.05 }
				update_PER_sanction_stability_factor = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Iran Increases Hostile Activity
country_event = {
	id = nuclear_iran.27
	title = nuclear_iran.27.t
	desc = nuclear_iran.27.d
	is_triggered_only = yes

	# They did what?
	option = {
		name = nuclear_iran.27.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.27.a executed"

		ai_chance = {
			base = 1
		}
	}
}
# Iran Decreases Hostile Activity
country_event = {
	id = nuclear_iran.28
	title = nuclear_iran.28.t
	desc = nuclear_iran.28.d
	is_triggered_only = yes

	# Good
	option = {
		name = nuclear_iran.28.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.28.a executed"

		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = nuclear_iran.29
	title = nuclear_iran.29.t
	desc = nuclear_iran.29.d
	is_triggered_only = yes

	# Good
	option = {
		name = nuclear_iran.29.a
		log = "[GetDateText]: [This.GetName]: nuclear_iran.29.a executed"

		ai_chance = {
			base = 1
		}
	}
}

# New Events

# IRGC Linked Politicians Invest in Foreign Companies
country_event = {
	id = iranian_focus.1
	title = iranian_focus.1.t
	desc = iranian_focus.1.d
	is_triggered_only = yes
	picture = GFX_dubai_event
	option = {
		name = iranian_focus.1.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.1.a executed"

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = iranian_focus.1.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.1.b executed"
		set_temp_variable = { PER_corruption_cost_change = -0.03 }
		update_PER_corruption_cost = yes
		newline = yes
		add_stability = 0.01
		ai_chance = {
			base = 1
		}
	}
}

# Black Gold

country_event = {
	id = iranian_focus.2
	title = iranian_focus.2.t
	desc = iranian_focus.2.d
	is_triggered_only = yes
	picture = GFX_bushehr_oil
	# Use the oil to build better infrastructure
	option = {
		name = iranian_focus.2.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.2.a executed"
		400 = {
			add_building_construction = {
				type = fossil_powerplant
				level = 1
			}
		}
		newline = yes
		1146 = {
			add_building_construction = {
				type = fossil_powerplant
				level = 1
			}
		}
		newline = yes
		978 = {
			add_building_construction = {
				type = fossil_powerplant
				level = 1
			}
		}
		newline = yes
		set_temp_variable = { treasury_change = -6.75 }
		modify_treasury_effect = yes
		ai_chance = {
			base = 1
		}
	}
	# Seize the fields and hold them
	option = {
		name = iranian_focus.2.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.2.b executed"
		1146 = {
			add_resource = {
				type = oil
				amount = 10
			}
		}
		set_temp_variable = { treasury_change = -11.54 }
		modify_treasury_effect = yes
		ai_chance = {
			base = 1
		}
	}
}

# Conference in Beijing
country_event = {
	id = iranian_focus.3
	title = iranian_focus.3.t
	desc = iranian_focus.3.d
	is_triggered_only = yes
	picture = GFX_bahman
	# Put Forward Iranian Designs
	option = {
		name = iranian_focus.3.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.3.a executed"
		set_temp_variable = { percent_change = 3 }
		change_domestic_influence_percentage = yes
		newline = yes
		set_temp_variable = { treasury_change = -12.5 }
		modify_treasury_effect = yes
		ai_chance = {
			base = 1
		}
	}
	# Request More Chinese Designs
	option = {
		name = iranian_focus.3.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.3.b executed"
		add_tech_bonus = {
			name = nuclear_reactors_research_bonus
			bonus = 1
			uses = 2
			category = CAT_util
		}
		newline = yes
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = CHI }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		ai_chance = {
			base = 1
		}
	}
}

# Bonyads Retaliate by Mobilizing the Public
country_event = {
	id = iranian_focus.4
	title = iranian_focus.4.t
	desc = iranian_focus.4.d
	is_triggered_only = yes
	picture = GFX_bonyad
	# Make concessions
	option = {
		name = iranian_focus.4.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.4.a executed"
		set_temp_variable = { PER_welfare_cost_change = 0.05 }
		update_PER_welfare_cost = yes
		ai_chance = {
			base = 1
		}
	}
	# Hold the line
	option = {
		name = iranian_focus.4.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.4.b executed"
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = -0.03
		}
		ai_chance = {
			base = 1
		}
	}
}
# Trial of Babak Zanjani
country_event = {
	id = iranian_focus.5
	title = iranian_focus.5.t
	desc = iranian_focus.5.d
	is_triggered_only = yes
	picture = GFX_zanjani
	# Seize all his assets
	option = {
		name = iranian_focus.5.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.5.a executed"
		set_temp_variable = { PER_corporate_tax_cost_change = 0.10 }
		update_PER_corporate_tax_cost = yes
		newline = yes
		set_temp_variable = { PER_corruption_cost_change = 0.05 }
		update_PER_corruption_cost = yes
		newline = yes
		custom_effect_tooltip = PER_chance_of_corruption_TT
		hidden_effect = {
			random_list = {
				15 = {
					increase_corruption = yes
				}
				85 = {
					# nothing
				}
			}
		}
		ai_chance = {
			base = 1
		}
	}
	# Redistribute his assets to the public
	option = {
		name = iranian_focus.5.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.5.b executed"
		set_temp_variable = { PER_production_speed_buildings_factor_change = 0.05 }
		update_PER_production_speed_buildings_factor = yes
		newline = yes
		set_temp_variable = { PER_corruption_cost_change = -0.05 }
		update_PER_corruption_cost = yes
		ai_chance = {
			base = 1
		}
	}
}
# Bazaari's Upset with Tax Reform
country_event = {
	id = iranian_focus.6
	title = iranian_focus.6.t
	desc = iranian_focus.6.d
	is_triggered_only = yes
	picture = GFX_bazaar_strike
	# Make concessions
	option = {
		name = iranian_focus.6.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.6.a executed"
		set_temp_variable = { PER_population_tax_income_multiplier_modifier_change = -0.05 }
		update_PER_population_tax_income_multiplier_modifier = yes
		newline = yes
		set_temp_variable = { temp_opinion = 5 }
		change_small_medium_business_owners_opinion = yes
		ai_chance = {
			base = 1
		}
	}
	# Hold the line
	option = {
		name = iranian_focus.6.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.6.b executed"
		set_temp_variable = { temp_productivity_change = -50 }
		405 = { state_flat_productivity_change_effect = yes }
		407 = { state_flat_productivity_change_effect = yes }
		976 = { state_flat_productivity_change_effect = yes }
		400 = { state_flat_productivity_change_effect = yes }
		newline = yes
		set_temp_variable = { temp_opinion = -5 }
		change_small_medium_business_owners_opinion = yes
		ai_chance = {
			base = 1
		}
	}
}
# International Students Begin Returning
country_event = {
	id = iranian_focus.7
	title = iranian_focus.7.t
	desc = iranian_focus.7.d
	is_triggered_only = yes
	picture = GFX_tehran_university
	# Keep you and your dangerous ideas back where you came from
	option = {
		name = iranian_focus.7.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.7.a executed"
		set_temp_variable = { PER_research_speed_factor_change = 0.05 }
		update_PER_research_speed_factor = yes
		ai_chance = {
			base = 1
		}
	}
	# We welcome you with open arms
	option = {
		name = iranian_focus.7.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.7.b executed"
		set_temp_variable = { PER_migration_rate_value_factor_change = 0.1 }
		update_PER_migration_rate_value_factor = yes
		ai_chance = {
			base = 1
		}
	}
}
# Stance on Alcohol
country_event = {
	id = iranian_focus.8
	title = iranian_focus.8.t
	desc = iranian_focus.8.d
	is_triggered_only = yes
	picture = GFX_iranian_alcohol
	# Establish a taskforce to root out these corrupt few
	option = {
		name = iranian_focus.8.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.8.a executed"
		set_temp_variable = { PER_drift_defence_factor_change = 0.05 }
		update_PER_drift_defence_factor = yes
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = 0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = 0.075
		}
		ai_chance = {
			base = 1
		}
	}
	# Loosen the regulations
	option = {
		name = iranian_focus.8.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.8.b executed"
		set_temp_variable = { PER_drift_defence_factor_change = -0.05 }
		update_PER_drift_defence_factor = yes
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = -0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = -0.10
		}
		ai_chance = {
			base = 1
		}
	}
}
# Hijab Conduct
country_event = {
	id = iranian_focus.9
	title = iranian_focus.9.t
	desc = iranian_focus.9.d
	is_triggered_only = yes
	picture = GFX_iran_hijab_law
	# Establish a taskforce to root out these corrupt few
	option = {
		name = iranian_focus.9.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.9.a executed"
		set_temp_variable = { PER_communism_drift_change = 0.05 }
		update_PER_communism_drift = yes
		newline = yes
		set_temp_variable = { PER_propaganda_campaign_cost_modifier_change = -0.10 }
		update_PER_propaganda_campaign_cost_modifier = yes
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = 0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = 0.1
		}
		ai_chance = {
			base = 1
		}
	}
	# Loosen the regulations
	option = {
		name = iranian_focus.9.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.9.b executed"
		set_temp_variable = { PER_centralization_cost_change = -0.05 }
		update_PER_centralization_cost = yes
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = -0.1 }
		update_PER_police_cost_multiplier_modifier = yes
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = -0.10
		}
		ai_chance = {
			base = 1
		}
	}
}
# Illegal Oil Smuggling Operation Busted
country_event = {
	id = iranian_focus.10
	title = iranian_focus.10.t
	desc = iranian_focus.10.d
	is_triggered_only = yes
	picture = GFX_oil_truck_smuggler
	# Establish a taskforce to root out these corrupt few
	option = {
		name = iranian_focus.10.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.10.a executed"
		978 = {
			add_resource = {
				type = oil
				amount = 5
			}
		}
		newline = yes
		set_temp_variable = { PER_oil_export_multiplier_modifier_change = 0.03 }
		update_PER_oil_export_multiplier_modifier = yes
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = 0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		ai_chance = {
			base = 1
		}
	}
	# Loosen the regulations
	option = {
		name = iranian_focus.10.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.10.b executed"
		978 = {
			add_resource = {
				type = oil
				amount = -2
			}
		}
		newline = yes
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = -0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		ai_chance = {
			base = 1
		}
	}
}
# Oil Shale in Jordan
country_event = {
	id = iranian_focus.11
	title = iranian_focus.11.t
	desc = iranian_focus.11.d
	is_triggered_only = yes

	# A great idea
	option = {
		name = iranian_focus.11.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.11.a executed"
		custom_effect_tooltip = PER_oil_shale2_TT
		PER = {
			country_event = {
				id = iranian_focus.12
				days = 1
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				add = 20
				has_opinion = {
					target = PER
					value > 19
				}
			}
		}
	}
	# Never!
	option = {
		name = iranian_focus.11.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.11.b executed"
		PER = {
			country_event = {
				id = iranian_focus.13
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
# FROM Agrees
country_event = {
	id = iranian_focus.12
	title = iranian_focus.12.t
	desc = iranian_focus.12.d
	is_triggered_only = yes

	# Great, lets start
	option = {
		name = iranian_focus.12.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.12.a executed"
		if = {
			limit = {
				JOR = {
					NOT = {
						has_country_flag = JOR_agreed_oil_shale
					}
				}
			}
			210 = {
				add_resource = {
					type = oil
					amount = 12
				}
			}
			JOR = {
				give_resource_rights = { receiver = PER state = 210 }
			}
			JOR = {
				set_country_flag = JOR_agreed_oil_shale
			}
		}
		else_if = {
			limit = {
				JOR = {
					has_country_flag = JOR_asked_for_oil
				}
			}
			custom_effect_tooltip = PER_extra_year_TT
		}
		else_if = {
			limit = {
				JOR = {
					has_country_flag = JOR_asked_for_oil
				}
			}
			add_to_variable = { var = PER_shale_contract value = 24 }
			clamp_variable = { var = PER_shale_contract min = 0 max = 120 }
			custom_effect_tooltip = PER_shortened_year_TT
		}
		ai_chance = {
			base = 1
		}
	}
}

# FROM Rejects
country_event = {
	id = iranian_focus.13
	title = iranian_focus.13.t
	desc = iranian_focus.13.d
	is_triggered_only = yes

	# Their loss
	option = {
		name = iranian_focus.13.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.13.a executed"

		ai_chance = {
			base = 1
		}
	}
}

# Our Options
country_event = {
	id = iranian_focus.14
	title = iranian_focus.14.t
	desc = iranian_focus.14.d
	is_triggered_only = yes

	# Ask for more oil
	option = {
		name = iranian_focus.14.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.14.a executed"
		set_country_flag = JOR_asked_for_oil
		PER = {
			country_event = iranian_focus.15
		}
		ai_chance = {
			base = 1
		}
	}
	# Ask for a shorter contract
	option = {
		name = iranian_focus.14.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.14.b executed"
		set_country_flag = JOR_asked_for_time
		PER = {
			country_event = iranian_focus.16
		}
		ai_chance = {
			base = 0
		}
	}
}

# Jordan Requests More Oil
country_event = {
	id = iranian_focus.15
	title = iranian_focus.15.t
	desc = iranian_focus.15.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.15.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.15.a executed"
		210 = {
			add_resource = {
				type = oil
				amount = 5
			}
		}
		JOR = {
			country_event = {
				id = iranian_focus.12
				days = 1
			}
		}
		custom_effect_tooltip = PER_extra_year_TT
		add_to_variable = { var = PER_shale_contract value = -12 }
		clamp_variable = { var = PER_shale_contract min = 0 max = 120 }
		ai_chance = {
			base = 1
		}
	}
	# No
	option = {
		name = iranian_focus.15.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.15.b executed"
		custom_effect_tooltip = PER_likely_backout_TT
		JOR = {
			set_country_flag = PER_rejected
			country_event = {
				id = iranian_focus.13
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Jordan Requests Shorter Contract
country_event = {
	id = iranian_focus.16
	title = iranian_focus.16.t
	desc = iranian_focus.16.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.16.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.16.a executed"
		JOR = {
			country_event = {
				id = iranian_focus.12
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
	# No
	option = {
		name = iranian_focus.16.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.16.b executed"
		custom_effect_tooltip = PER_likely_backout_TT
		JOR = {
			set_country_flag = PER_rejected
			country_event = {
				id = iranian_focus.13
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# End of Contract
country_event = {
	id = iranian_focus.17
	title = iranian_focus.17.t
	desc = iranian_focus.17.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.17.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.17.a executed"
		PER = { remove_resource_rights = 210 }
		JOR = {
			clr_country_flag = JOR_agreed_oil_shale
		}
		ai_chance = {
			base = 1
		}
	}
}

# Jordan Backs Out of the Contract Early
country_event = {
	id = iranian_focus.18
	title = iranian_focus.18.t
	desc = iranian_focus.18.d
	is_triggered_only = yes

	# They did what?
	option = {
		name = iranian_focus.18.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.18.a executed"
		PER = {
			add_opinion_modifier = {
				target = JOR
				modifier = major_breach_of_trust
			}
			send_embargo = JOR
		}
		ai_chance = {
			base = 1
		}
	}
	# Just let it go
	option = {
		name = iranian_focus.18.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.18.b executed"

		ai_chance = {
			base = 0
		}
	}
}

# Iran Offers Support in Combatting Terrorism in Central Asia

country_event = {
	id = iranian_focus.19
	title = iranian_focus.19.t
	desc = iranian_focus.19.d
	is_triggered_only = yes

	# Sure
	option = {
		name = iranian_focus.19.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.19.a executed"
		PER = {
			country_event = {
				id = iranian_focus.20
				days = 2
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 20
				has_opinion = {
					target = PER
					value > 19
				}
			}
		}
	}
	# No
	option = {
		name = iranian_focus.19.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.19.b executed"
		PER = {
			country_event = {
				id = iranian_focus.21
				days = 2
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
# United States Agrees
country_event = {
	id = iranian_focus.20
	title = iranian_focus.20.t
	desc = iranian_focus.20.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.20.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.20.a executed"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_intel = {
				target = AFG
				civilian_intel = 70
				army_intel = 70
			}
			newline = yes
			add_intel = {
				target = TAJ
				civilian_intel = 55
				army_intel = 55
			}
			newline = yes
			add_intel = {
				target = KYR
				civilian_intel = 60
				army_intel = 60
			}
			newline = yes
			add_intel = {
				target = UZB
				civilian_intel = 45
				army_intel = 45
			}
			newline = yes
			add_doctrine_cost_reduction = {
				name = CAT_land_doctrine
				cost_reduction = 1.0
				uses = 2
				category = CAT_land_doctrine
			}
		}
		else = {
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = PER }
			set_temp_variable = { influence_target = AFG }
			change_influence_percentage = yes
			newline = yes
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = PER }
			set_temp_variable = { influence_target = TAJ }
			change_influence_percentage = yes
			newline = yes
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = PER }
			set_temp_variable = { influence_target = KYR }
			change_influence_percentage = yes
		}
		newline = yes
		add_manpower = -5000
		ai_chance = {
			base = 1
		}
	}
}
# United States Rejects
country_event = {
	id = iranian_focus.21
	title = iranian_focus.21.t
	desc = iranian_focus.21.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.21.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.21.a executed"

		ai_chance = {
			base = 1
		}
	}
}

# Iran Offers Kamikaze Drones
country_event = {
	id = iranian_focus.22
	title = iranian_focus.22.t
	desc = iranian_focus.22.d
	is_triggered_only = yes

	# Sure
	option = {
		name = iranian_focus.22.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.22.a executed"
		PER = {
			country_event = {
				id = iranian_focus.23
				days = 2
			}
		}
		effect_tooltip = {
			send_equipment = {
				equipment = Kamikaze_drone_equipment
				amount = 3000
				target = SOV
			}
			newline = yes
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = PER }
			set_temp_variable = { influence_target = SOV }
			change_influence_percentage = yes
			newline = yes
			add_doctrine_cost_reduction = {
				name = CAT_air_doctrine
				cost_reduction = 1.0
				uses = 2
				category = CAT_air_doctrine
			}
			newline = yes
			set_temp_variable = { treasury_change = 140.5 }
			modify_treasury_effect = yes
		}
		ai_chance = {
			base = 5
			modifier = {
				add = 20
				has_opinion = {
					target = PER
					value > 19
				}
			}
		}
	}
	# No
	option = {
		name = iranian_focus.22.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.22.b executed"
		PER = {
			country_event = {
				id = iranian_focus.24
				days = 2
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.23
	title = iranian_focus.23.t
	desc = iranian_focus.23.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.23.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.23.a executed"
		send_equipment = {
			equipment = Kamikaze_drone_equipment
			amount = 3000
			target = SOV
		}
		newline = yes
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = PER }
		set_temp_variable = { influence_target = SOV }
		change_influence_percentage = yes
		newline = yes
		add_doctrine_cost_reduction = {
			name = CAT_air_doctrine
			cost_reduction = 1.0
			uses = 2
			category = CAT_air_doctrine
		}
		newline = yes
		set_temp_variable = { treasury_change = 140.5 }
		modify_treasury_effect = yes
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.24
	title = iranian_focus.24.t
	desc = iranian_focus.24.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.24.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.24.a executed"
		ai_chance = {
			base = 1
		}
	}
}
# Our Suppliers
country_event = {
	id = iranian_focus.25
	title = iranian_focus.25.t
	desc = iranian_focus.25.d
	is_triggered_only = yes

	# Russia - Ground Force
	option = {
		name = iranian_focus.25.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.25.a executed"
		SOV = {
			country_event = {
				id = iranian_focus.26
				days = 2
			}
		}
		custom_effect_tooltip = PER_willingness_to_accept_TT
		custom_effect_tooltip = PER_willingness_to_accept_strong_TT
		ai_chance = {
			base = 5
		}
	}
	# United States - Air Force
	option = {
		name = iranian_focus.25.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.25.b executed"
		USA = {
			country_event = {
				id = iranian_focus.26
				days = 2
			}
		}
		custom_effect_tooltip = PER_willingness_to_accept_TT
		custom_effect_tooltip = PER_willingness_to_accept_low_TT
		ai_chance = {
			base = 1
		}
	}
	# Germany - Armored Forces
	option = {
		name = iranian_focus.25.c
		log = "[GetDateText]: [This.GetName]: iranian_focus.25.c executed"
		GER = {
			country_event = {
				id = iranian_focus.26
				days = 2
			}
		}
		custom_effect_tooltip = PER_willingness_to_accept_TT
		custom_effect_tooltip = PER_willingness_to_accept_low_TT
		ai_chance = {
			base = 1
		}
	}
}
# Iran Asks for Military Assistance
country_event = {
	id = iranian_focus.26
	title = iranian_focus.26.t
	desc = iranian_focus.26.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.26.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.26.a executed"
		PER = {
			country_event = {
				id = iranian_focus.27
				days = 2
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				has_opinion = {
					target = PER
					value > 39
				}
			}
		}
	}
	# No
	option = {
		name = iranian_focus.26.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.26.b executed"
		PER = {
			country_event = {
				id = iranian_focus.28
				days = 2
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 20
				OR = {
					original_tag = GER
					original_tag = USA
				}
				PER = {
					has_dynamic_modifier = {
						modifier = PER_us_sanctions
					}
				}
			}
		}
	}
}

# [FROM] Accepts!
country_event = {
	id = iranian_focus.27
	title = iranian_focus.27.t
	desc = iranian_focus.27.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.27.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.27.a executed"
		if = {
			limit = {
				FROM = {
					original_tag = SOV
				}
			}
			add_tech_bonus = {
				name = CAT_artillery
				bonus = 0.5
				uses = 2
				category = CAT_artillery
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_util
				bonus = 0.5
				uses = 2
				category = CAT_util
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_inf_wep
				bonus = 0.5
				uses = 2
				category = CAT_inf_wep
			}
		}
		if = {
			limit = {
				FROM = {
					original_tag = USA
				}
			}
			add_tech_bonus = {
				name = CAT_air_engine
				bonus = 1
				uses = 1
				category = CAT_air_engine
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_air_ground_weapons
				bonus = 1
				uses = 1
				category = CAT_air_ground_weapons
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_air_countermeasures
				bonus = 1
				uses = 1
				category = CAT_air_countermeasures
			}
		}
		if = {
			limit = {
				FROM = {
					original_tag = GER
				}
			}
			add_tech_bonus = {
				name = CAT_tanks
				bonus = 2
				uses = 1
				category = CAT_tanks
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_apc
				bonus = 2
				uses = 1
				category = CAT_apc
			}
			newline = yes
			add_tech_bonus = {
				name = CAT_ifv
				bonus = 2
				uses = 1
				category = CAT_ifv
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.28
	title = iranian_focus.28.t
	desc = iranian_focus.28.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.28.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.28.a executed"
		ai_chance = {
			base = 1
		}
	}
}

# Prominent Commander Rises
country_event = {
	id = iranian_focus.29
	title = iranian_focus.29.t
	desc = iranian_focus.29.d
	is_triggered_only = yes

	# Great
	option = {
		name = iranian_focus.29.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.29.a executed"
		custom_effect_tooltip = PER_samadi_is_promoted_TT
		set_country_flag = PER_samadi
		ai_chance = {
			base = 1
		}
	}
	# He might cause us problems
	option = {
		name = iranian_focus.29.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.29.b executed"
		navy_experience = 200
		ai_chance = {
			base = 1
		}
	}
}
# Iran Would Like to Purchase Su-35's
country_event = {
	id = iranian_focus.30
	title = iranian_focus.30.t
	desc = iranian_focus.30.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.30.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.30.a executed"
		custom_effect_tooltip = PER_effect_if_we_accept_TT
		effect_tooltip = {
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = PER }
			change_influence_percentage = yes
			newline = yes
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_2
					variant_name = "Su-30"
					producer = SOV
					amount = -40
				}
				PER = {
					add_equipment_to_stockpile = {
						type = medium_plane_airframe_2
						variant_name = "Su-30"
						amount = 40
						producer = SOV
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MR_Fighter2
					producer = SOV
					amount = -40
				}
				PER = {
					add_equipment_to_stockpile = {
						type = MR_Fighter2
						amount = 40
						producer = SOV
					}
				}
			}
			newline = yes
			set_temp_variable = { treasury_change = 54.65 }
			modify_treasury_effect = yes
		}
		PER = {
			country_event = {
				id = iranian_focus.31
				days = 1
			}
		}
		ai_chance = {
			base = 3
			modifier = {
				add = 20
				has_opinion = {
					target = PER
					value > 19
				}
			}
		}
	}
	# No
	option = {
		name = iranian_focus.30.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.30.b executed"
		PER = {
			country_event = {
				id = iranian_focus.32
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = -20
				has_war_with = PER
			}
		}
	}
}
# Russia Accepts
country_event = {
	id = iranian_focus.31
	title = iranian_focus.31.t
	desc = iranian_focus.31.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.31.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.31.a executed"
		set_temp_variable = { percent_change = 5 }
		set_temp_variable = { tag_index = SOV }
		set_temp_variable = { influence_target = PER }
		change_influence_percentage = yes
		newline = yes
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			SOV = {
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_2
					variant_name = "Su-30"
					producer = SOV
					amount = -40
				}
			}
			add_equipment_to_stockpile = {
				type = medium_plane_airframe_2
				variant_name = "Su-30"
				amount = 40
				producer = SOV
			}
		}
		else = {
			SOV = {
				add_equipment_to_stockpile = {
					type = MR_Fighter2
					producer = SOV
					amount = -40
				}
			}
			add_equipment_to_stockpile = {
				type = MR_Fighter2
				amount = 40
				producer = SOV
			}
		}
		newline = yes
		set_temp_variable = { treasury_change = -54.65 }
		modify_treasury_effect = yes
		hidden_effect = {
			SOV = {
				set_temp_variable = { treasury_change = 54.65 }
				modify_treasury_effect = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
# Russia Rejects
country_event = {
	id = iranian_focus.32
	title = iranian_focus.32.t
	desc = iranian_focus.32.d
	is_triggered_only = yes

	# Okay
	option = {
		name = iranian_focus.32.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.32.a executed"

		ai_chance = {
			base = 1
		}
	}
}

# Science & Islam

country_event = {
	id = iranian_focus.33
	title = iranian_focus.33.t
	desc = iranian_focus.33.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.33.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.33.a executed"
		add_tech_bonus = {
			name = CAT_genes
			bonus = 0.5
			uses = 2
			category = CAT_genes
		}
		newline = yes
		set_temp_variable = { PER_health_cost_change = -0.05 }
		update_PER_healthcare_cost = yes
		ai_chance = {
			base = 1
		}
	}

	option = {
		name = iranian_focus.33.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.33.b executed"
		add_tech_bonus = {
			name = CAT_industry
			bonus = 0.5
			uses = 2
			category = CAT_industry
		}
		newline = yes
		set_temp_variable = { PER_production_speed_buildings_factor_change = 0.05 }
		update_PER_production_speed_buildings_factor = yes
		ai_chance = {
			base = 1
		}
	}

	option = {
		name = iranian_focus.33.c
		log = "[GetDateText]: [This.GetName]: iranian_focus.33.c executed"
		set_temp_variable = { PER_welfare_cost_change = -0.05 }
		update_PER_welfare_cost = yes
		ai_chance = {
			base = 1
		}
	}
}

# Rudba PT1

country_event = {
	id = iranian_focus.34
	title = iranian_focus.34.t
	desc = iranian_focus.34.d
	is_triggered_only = yes

	picture = GFX_PER_Iranian_police_loom_event

	option = {
		name = iranian_focus.34.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.34.a executed"
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.35
	title = iranian_focus.35.t
	desc = iranian_focus.35.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.35.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.35.a executed"
		set_temp_variable = { party_index = 8 }
		set_temp_variable = { party_popularity_increase = 0.1 }
		add_relative_party_popularity = yes
		PER_scripted_effect_update_principalists_popularity_variable = yes
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = iranian_focus.35.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.35.b executed"
		set_temp_variable = { party_index = 9 }
		set_temp_variable = { party_popularity_increase = 0.1 }
		add_relative_party_popularity = yes
		PER_scripted_effect_update_principalists_popularity_variable = yes
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.36
	title = iranian_focus.36.t
	desc = iranian_focus.36.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.36.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.36.a executed"
		set_temp_variable = { party_index = 8 }
		set_temp_variable = { party_popularity_increase = 0.2 }
		add_relative_party_popularity = yes
		PER_scripted_effect_update_principalists_popularity_variable = yes
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = iranian_focus.36.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.36.b executed"
		set_temp_variable = { party_index = 9 }
		set_temp_variable = { party_popularity_increase = 0.2 }
		add_relative_party_popularity = yes
		PER_scripted_effect_update_principalists_popularity_variable = yes
		ai_chance = {
			base = 1
		}
	}
}

# Participation of Loyal-Opposition Groups in the Majles
country_event = {
	id = iranian_focus.37
	title = iranian_focus.37.t
	desc = iranian_focus.37.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.37.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.37.a executed"
		custom_effect_tooltip = PER_unban_loyal_groups_TT
		clr_country_flag = party13_banned
		clr_country_flag = party16_banned
		clr_country_flag = party17_banned
		clr_country_flag = party18_banned
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = iranian_focus.37.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.37.b executed"
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = 0.05
		}
		ai_chance = {
			base = 1
		}
	}
}

# Managing Student Opposition
country_event = {
	id = iranian_focus.38
	title = iranian_focus.38.t
	desc = iranian_focus.38.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.38.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.38.a executed"
		set_temp_variable = { PER_police_cost_multiplier_modifier_change = -0.05 }
		update_PER_police_cost_multiplier_modifier = yes
		newline = yes
		set_temp_variable = { PER_education_cost_multiplier_modifier_change = -0.05 }
		update_PER_education_cost_multiplier_modifier = yes
		newline = yes
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
		newline = yes
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = -0.05
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = iranian_focus.38.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.38.b executed"
		set_temp_variable = { PER_research_speed_factor_change = 0.05 }
		update_PER_research_speed_factor = yes
		newline = yes
		set_temp_variable = { PER_productivity_cost_change = 0.05 }
		update_PER_productivity_cost = yes
		newline = yes
		set_temp_variable = { PER_education_cost_multiplier_modifier_change = 0.05 }
		update_PER_education_cost_multiplier_modifier = yes
		newline = yes
		add_power_balance_value = {
			id = PER_clergy_balance_of_power_category
			value = 0.05
		}
		ai_chance = {
			base = 1
		}
	}
}

# A New Era of Iranian Politics
country_event = {
	id = iranian_focus.39
	title = iranian_focus.39.t
	desc = iranian_focus.39.d
	is_triggered_only = yes
	picture = GFX_ayatollah_dictatorship

	option = {
		name = iranian_focus.39.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.39.a executed"
		custom_effect_tooltip = PER_ayatollah_TT
		hidden_effect = {
			news_event = {
				id = iranian_focus.391
				days = 1
			}
		}
		ai_chance = {
			base = 1
		}
	}
}
news_event = {
	id = iranian_focus.391
	title = iranian_focus.391.t
	desc = iranian_focus.391.d
	is_triggered_only = yes
	major = yes
	picture = GFX_ayatollah_dictatorship_world

	option = {
		name = iranian_focus.391.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.39.a executed"
		ai_chance = {
			base = 1
		}
	}
}

#IRGC Coup FMI tree
country_event = {
	id = iranian_focus.40
	title = iranian_focus.40.t
	desc = iranian_focus.40.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.40.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.40.a executed"
		hidden_effect = {
			set_temp_variable = { rul_party_temp = 6 }
			set_temp_variable = { enable_elections = 0 }
			change_ruling_party_effect = yes
			set_temp_variable = { party_index = 6 }
			set_temp_variable = { party_popularity_increase = 0.15 }
			set_temp_variable = { temp_outlook_increase = 0.15 }
			add_relative_party_popularity = yes
		}
		custom_effect_tooltip = ruling_party_changed_tt
		ai_chance = {
			base = 1
		}
	}
}

# Iran Wants to Normalize Relations
country_event = {
	id = iranian_focus.41
	title = iranian_focus.41.t
	desc = iranian_focus.41.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.41.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.41.a executed"
		set_country_flag = SAU_rejected_peace
		PER = {
			country_event = {
				id = iranian_focus.42
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 20
				PER = {
					has_completed_focus = PER_ansar_allah
				}
			}
		}
	}
	option = {
		name = iranian_focus.41.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.41.b executed"
		remove_opinion_modifier = {
			target = PER
			modifier = hostile_status
		}
		remove_opinion_modifier = {
			target = PER
			modifier = oppresses_sunni
		}
		remove_opinion_modifier = {
			target = PER
			modifier = strategic_rivals
		}
		PER = {
			country_event = {
				id = iranian_focus.43
				days = 1
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = iranian_focus.42
	title = iranian_focus.42.t
	desc = iranian_focus.42.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.42.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.42.a executed"
		complete_national_focus = PER_usurpers_of_mecca
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.43
	title = iranian_focus.43.t
	desc = iranian_focus.43.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.43.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.43.a executed"
		add_opinion_modifier = {
			target = SAU
			modifier = recent_actions_very_positive
		}
		remove_opinion_modifier = {
			target = SAU
			modifier = hostile_status
		}
		remove_opinion_modifier = {
			target = SAU
			modifier = oppresses_shiites
		}
		remove_opinion_modifier = {
			target = SAU
			modifier = strategic_rivals
		}
		ai_chance = {
			base = 1
		}
	}
}

# Iran Wants to Formalize a Non-Aggro Pact
country_event = {
	id = iranian_focus.44
	title = iranian_focus.44.t
	desc = iranian_focus.44.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.44.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.44.a executed"
		PER = {
			country_event = {
				id = iranian_focus.45
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 20
				PER = {
					has_completed_focus = PER_ansar_allah
				}
			}
		}
	}
	option = {
		name = iranian_focus.44.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.44.b executed"
		set_country_flag = SAU_be_nice_to_iran
		PER = {
			country_event = {
				id = iranian_focus.46
				days = 1
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = iranian_focus.45
	title = iranian_focus.45.t
	desc = iranian_focus.45.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.45.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.45.a executed"

		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.46
	title = iranian_focus.46.t
	desc = iranian_focus.46.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.46.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.46.a executed"
		diplomatic_relation = {
			country = SAU
			relation = non_aggression_pact
			active = yes
		}
		ai_chance = {
			base = 1
		}
	}
}

# Iran Wants to Form a Mutual Defense Pact
country_event = {
	id = iranian_focus.47
	title = iranian_focus.47.t
	desc = iranian_focus.47.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.47.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.47.a executed"
		PER = {
			country_event = {
				id = iranian_focus.48
				days = 1
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 20
				PER = {
					has_completed_focus = PER_ansar_allah
				}
			}
		}
	}
	option = {
		name = iranian_focus.47.b
		log = "[GetDateText]: [This.GetName]: iranian_focus.47.b executed"
		diplomatic_relation = {
			country = PER
			relation = guarantee
			active = yes
		}
		PER = {
			country_event = {
				id = iranian_focus.49
				days = 1
			}
		}
		ai_chance = {
			base = 5
		}
	}
}

country_event = {
	id = iranian_focus.48
	title = iranian_focus.48.t
	desc = iranian_focus.48.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.48.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.48.a executed"

		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = iranian_focus.49
	title = iranian_focus.49.t
	desc = iranian_focus.49.d
	is_triggered_only = yes

	option = {
		name = iranian_focus.49.a
		log = "[GetDateText]: [This.GetName]: iranian_focus.49.a executed"
		diplomatic_relation = {
			country = SAU
			relation = guarantee
			active = yes
		}
		ai_chance = {
			base = 1
		}
	}
}
