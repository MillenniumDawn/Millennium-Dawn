NKO_1_bureau_materiel_manufacturer = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Arms
	name = NKO_1_bureau_materiel_manufacturer
	include = generic_infantry_equipment_organization
}

NKO_6_bureau_naval_manufacturer = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Navy
	name = NKO_6_bureau_naval_manufacturer
	include = generic_sub_equipment_organization
}

NKO_2_bureau_tank_manufacturer = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Tanks
	name = NKO_2_bureau_tank_manufacturer
	include = generic_tank_equipment_organization
}

NKO_6_bureau_naval_manufacturer2 = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Navy
	name = NKO_6_bureau_naval_manufacturer2
	include = generic_naval_equipment_organization
}

NKO_armored_manufacturer_facility = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Tanks
	name = NKO_armored_manufacturer_facility

	equipment_type = {
		medium_tank_amphibious_chassis
		medium_tank_flame_chassis
	}

	research_categories = {
		CAT_armor
	}
	research_bonus = 0.10

	initial_trait = {
		name = tank_facility_foundry
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		equipment_bonus = {
			maximum_speed = 0.15
			reliability = 0.10
		}
	}

	trait = {
		token = NKO_armored_production_trait1
		icon = GFX_generic_mio_department_icon_tank_light_tank_spg
		position = { x = 2 y = 0 }
		equipment_bonus = {
			soft_attack = 0.08
			maximum_speed = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait1A
		icon = GFX_generic_mio_department_icon_anti_tank
		position = { x = 1 y = 1 }
		any_parent = {  NKO_armored_production_trait1 }
		equipment_bonus = {
			breakthrough = 0.08
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait1B
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = 2 y = 2 }
		any_parent = {  NKO_armored_production_trait1A }
		equipment_bonus = {
			breakthrough = 0.10
			build_cost_ic = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait1C
		icon = GFX_generic_mio_trait_icon_hard_attack
		position = { x = 0 y = 3 }
		any_parent = {  NKO_armored_production_trait1B }
		equipment_bonus = {
			ap_attack = 0.02
		}
		production_bonus = {
			production_cost_factor = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait1D
		icon = GFX_generic_mio_trait_icon_ap_attack
		position = { x = 2 y = 3 }
		any_parent = {  NKO_armored_production_trait1C }
		equipment_bonus = {
			hard_attack = 0.05
			soft_attack = 0.05
			air_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.07
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait4
		icon = GFX_generic_mio_department_icon_tank_general_spg
		position = { x = 3 y = 1 }
		all_parents = { NKO_armored_production_trait2A NKO_armored_production_trait1A }
		equipment_bonus = {
			hard_attack = 0.10
			soft_attack = 0.05
			air_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.08
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
			military_industrial_organization_research_bonus = 0.1
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait4A
		icon = GFX_generic_mio_department_icon_tank_light_tank_conversion
		position = { x = 3 y = 3 }
		all_parents = { NKO_armored_production_trait2B NKO_armored_production_trait1B }
		equipment_bonus = {
			reliability = 0.15
		}
		production_bonus = {
			production_conversion_speed_factor = 0.25
			production_efficiency_cap_factor = 0.25
			production_efficiency_gain_factor = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_armored_production_trait2
		icon = GFX_generic_mio_department_icon_tank_light_tank_armor
		position = { x = 4 y = 0 }

		equipment_bonus = {
			defense = 0.15
			hardness = 0.10
			fuel_consumption = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait2A
		icon = GFX_generic_mio_department_icon_tank_general_armor
		position = { x = 5 y = 1 }
		any_parent = {  NKO_armored_production_trait2 }
		equipment_bonus = {
			armor_value = 0.15
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait2B
		icon = GFX_generic_mio_department_icon_tank_general_materials
		position = { x = 4 y = 2 }
		any_parent = {  NKO_armored_production_trait2A }
		equipment_bonus = {
			fuel_consumption = -0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait2C
		icon = GFX_generic_mio_department_icon_tank_medium_tank_production
		position = { x = 5 y = 3 }
		any_parent = {  NKO_armored_production_trait2B }
		equipment_bonus = {
			ap_attack = 0.05
			hardness = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_armored_production_trait3
		icon = GFX_generic_mio_department_icon_motorized_mechanized_engine
		position = { x = 7 y = 0 }
		production_bonus = {
			production_resource_need_factor = -0.15
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}
		equipment_bonus = {
			build_cost_ic = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait3A
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 6 y = 1 }
		any_parent = {  NKO_armored_production_trait3 }
		production_bonus = {
			production_conversion_speed_factor = 0.10
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 3
			military_industrial_organization_research_bonus = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait3B
		icon = GFX_generic_mio_department_icon_mechanized_engine
		position = { x = 6 y = 2 }
		any_parent = {  NKO_armored_production_trait3A }

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.03
			military_industrial_organization_design_team_assign_cost = -0.05
		}
		equipment_bonus = {
			build_cost_ic = -0.07
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait3C
		icon = GFX_generic_mio_department_icon_armored_car_engine
		position = { x = 8 y = 3 }
		any_parent = {  NKO_armored_production_trait3B }

		production_bonus = {
			production_capacity_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_armored_production_trait3D
		icon = GFX_generic_mio_department_icon_motorized_production
		position = { x = 6 y = 3 }
		any_parent = {  NKO_armored_production_trait3C }

		production_bonus = {
			production_efficiency_cap_factor = 0.20
			production_efficiency_gain_factor = 0.10
		}
		equipment_bonus = {
			reliability = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	}

NKO_tank_manufacturer_facility = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Tanks
	name = NKO_tank_manufacturer_facility

	equipment_type = {
		medium_tank_chassis
	}

	research_categories = {
		CAT_armor
	}
	research_bonus = 0.05

	initial_trait = {
		name = tank_facility_foundry
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		equipment_bonus = {
			maximum_speed = 0.1
			reliability = 0.05
		}
	}

	trait = {
		token = NKO_tank_production_trait1
		icon = GFX_generic_mio_department_icon_tank_light_tank_spg
		position = { x = 1 y = 0 }
		equipment_bonus = {
			soft_attack = 0.05
			maximum_speed = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait1A
		icon = GFX_generic_mio_department_icon_anti_tank
		position = { x = 1 y = 1 }
		any_parent = {  NKO_tank_production_trait1 }
		equipment_bonus = {
			hard_attack = 0.10
			ap_attack = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait1B
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = 2 y = 2 }
		any_parent = {  NKO_tank_production_trait1A }
		equipment_bonus = {
			breakthrough = 0.10
			build_cost_ic = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait1C
		icon = GFX_generic_mio_trait_icon_hard_attack
		position = { x = 0 y = 2 }
		any_parent = {  NKO_tank_production_trait1B }
		equipment_bonus = {
			ap_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait1D
		icon = GFX_generic_mio_trait_icon_ap_attack
		position = { x = 1 y = 3 }
		any_parent = {  NKO_tank_production_trait1C }
		equipment_bonus = {
			hard_attack = 0.05
			soft_attack = 0.05
			air_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait4
		icon = GFX_generic_mio_department_icon_tank_general_spg
		position = { x = 3 y = 1 }
		all_parents = { NKO_tank_production_trait2A NKO_tank_production_trait1A }
		equipment_bonus = {
			hard_attack = 0.06
			soft_attack = 0.07
			air_attack = 0.10
		}
		production_bonus = {
			production_cost_factor = -0.08
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
			military_industrial_organization_research_bonus = 0.1
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait4A
		icon = GFX_generic_mio_department_icon_tank_light_tank_conversion
		position = { x = 3 y = 3 }
		all_parents = { NKO_tank_production_trait2B NKO_tank_production_trait1B }
		equipment_bonus = {
			reliability = 0.15
		}
		production_bonus = {
			production_conversion_speed_factor = 0.25
			production_efficiency_cap_factor = 0.20
			production_efficiency_gain_factor = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_tank_production_trait2
		icon = GFX_generic_mio_department_icon_tank_light_tank_armor
		position = { x = 5 y = 0 }

		equipment_bonus = {
			defense = 0.15
			hardness = 0.10
			entrenchment = 2
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait2A
		icon = GFX_generic_mio_department_icon_tank_general_armor
		position = { x = 5 y = 1 }
		any_parent = {  NKO_tank_production_trait2 }
		equipment_bonus = {
			armor_value = 0.15
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait2B
		icon = GFX_generic_mio_department_icon_tank_general_materials
		position = { x = 4 y = 2 }
		any_parent = {  NKO_tank_production_trait2A }
		equipment_bonus = {
			air_attack = 0.05
			fuel_consumption = -0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait2C
		icon = GFX_generic_mio_department_icon_tank_medium_tank_production
		position = { x = 5 y = 3 }
		any_parent = {  NKO_tank_production_trait2B }
		equipment_bonus = {
			ap_attack = 0.05
			hardness = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_tank_production_trait3
		icon = GFX_generic_mio_department_icon_tank_general_quality
		position = { x = 7 y = 0 }
		production_bonus = {
			production_resource_need_factor = -0.15
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}
		equipment_bonus = {
			build_cost_ic = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait3A
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 6 y = 1 }
		any_parent = {  NKO_tank_production_trait3 }
		production_bonus = {
			production_conversion_speed_factor = 0.10
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 3
			military_industrial_organization_research_bonus = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait3B
		icon = GFX_generic_mio_department_icon_tank_general_technology
		position = { x = 6 y = 2 }
		any_parent = {  NKO_tank_production_trait3A }

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.03
			military_industrial_organization_design_team_assign_cost = -0.05
		}
		equipment_bonus = {
			build_cost_ic = -0.07
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait3C
		icon = GFX_generic_mio_department_icon_tank_general_engine
		position = { x = 8 y = 3 }
		any_parent = {  NKO_tank_production_trait3B }

		production_bonus = {
			production_capacity_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_tank_production_trait3D
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 6 y = 3 }
		any_parent = {  NKO_tank_production_trait3C }

		production_bonus = {
			production_efficiency_cap_factor = 0.20
			production_efficiency_gain_factor = 0.10
		}
		equipment_bonus = {
			reliability = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	}


NKO_artillary_manufacturer_facility = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Tanks
	name = NKO_artillary_manufacturer_facility

	equipment_type = {
		medium_tank_artillery_chassis
	}

	research_categories = {
		CAT_sp_arty
		CAT_artillery
		CAT_arty
	}
	research_bonus = 0.15

	initial_trait = {
		name = tank_facility_foundry
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		equipment_bonus = {
			maximum_speed = 0.1
			reliability = 0.05
		}
	}

	trait = {
		token = NKO_artillary_production_trait1
		icon = GFX_generic_mio_trait_icon_detection
		position = { x = 1 y = 0 }
		equipment_bonus = {
			soft_attack = 0.05
			maximum_speed = 0.10
			reliability = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait1A
		icon = GFX_generic_mio_department_icon_anti_tank
		position = { x = 1 y = 1 }
		any_parent = {  NKO_artillary_production_trait1 }
		production_bonus = {
			production_resource_need_factor = 0.05
			production_conversion_speed_factor = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait1B
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = 2 y = 2 }
		any_parent = {  NKO_artillary_production_trait1A }
		equipment_bonus = {
			breakthrough = 0.10
			build_cost_ic = -0.07
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait1C
		icon = GFX_generic_mio_trait_icon_hard_attack
		position = { x = 0 y = 2 }
		any_parent = {  NKO_artillary_production_trait1B }
		equipment_bonus = {
			soft_attack = 0.07
		}
		production_bonus = {
			production_cost_factor = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait1D
		icon = GFX_generic_mio_trait_icon_ap_attack
		position = { x = 1 y = 3 }
		any_parent = {  NKO_artillary_production_trait1C }
		equipment_bonus = {
			hard_attack = 0.08
			soft_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait4
		icon = GFX_generic_mio_department_icon_tank_general_spg
		position = { x = 3 y = 1 }
		all_parents = { NKO_artillary_production_trait2A NKO_artillary_production_trait1A }
		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.08
		}
		production_bonus = {
			production_cost_factor = -0.10
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
			military_industrial_organization_research_bonus = 0.1
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait4A
		icon = GFX_generic_mio_department_icon_anti_air_conversion
		position = { x = 3 y = 3 }
		all_parents = { NKO_artillary_production_trait2B NKO_artillary_production_trait1B }
		equipment_bonus = {
			reliability = 0.25
		}
		production_bonus = {
			production_conversion_speed_factor = 0.30
			production_efficiency_cap_factor = 0.30
			production_efficiency_gain_factor = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_artillary_production_trait2
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 5 y = 0 }

		equipment_bonus = {
			defense = 0.15
			armor_value = 0.07
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait2A
		icon = GFX_generic_mio_department_icon_tank_general_armor
		position = { x = 5 y = 1 }
		any_parent = {  NKO_artillary_production_trait2 }
		equipment_bonus = {
			armor_value = 0.15
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait2B
		icon = GFX_generic_mio_department_icon_tank_general_materials
		position = { x = 4 y = 2 }
		any_parent = {  NKO_artillary_production_trait2A }
		equipment_bonus = {
			fuel_consumption = -0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait2C
		icon = GFX_generic_mio_department_icon_tank_medium_tank_production
		position = { x = 5 y = 3 }
		any_parent = {  NKO_artillary_production_trait2B }
		equipment_bonus = {
			soft_attack = 0.10
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	trait = {
		token = NKO_artillary_production_trait3
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		position = { x = 7 y = 0 }
		production_bonus = {
			production_resource_need_factor = -0.15
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}
		equipment_bonus = {
			build_cost_ic = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait3A
		icon = GFX_generic_mio_trait_icon_night_penalty
		position = { x = 6 y = 1 }
		any_parent = {  NKO_artillary_production_trait3 }
		production_bonus = {
			production_conversion_speed_factor = 0.10
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 3
			military_industrial_organization_research_bonus = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait3B
		icon = GFX_generic_mio_department_icon_facilities
		position = { x = 7 y = 2 }
		any_parent = {  NKO_artillary_production_trait3A }

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.03
			military_industrial_organization_design_team_assign_cost = -0.05
		}
		equipment_bonus = {
			build_cost_ic = -0.08
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait3C
		icon = GFX_generic_mio_trait_icon_air_agility
		position = { x = 8 y = 3 }
		any_parent = {  NKO_artillary_production_trait3B }

		production_bonus = {
			production_capacity_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}

	trait = {
		token = NKO_artillary_production_trait3D
		icon = GFX_generic_mio_trait_icon_defense
		position = { x = 6 y = 3 }
		any_parent = {  NKO_artillary_production_trait3C }

		production_bonus = {
			production_efficiency_cap_factor = 0.20
			production_efficiency_gain_factor = 0.10
		}
		equipment_bonus = {
			reliability = 0.05
		}

			on_complete = {
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}

			ai_will_do = {
				base = 10
				modifier = {
					factor = 0
					check_variable = { FROM.interest_rate > 8 }
				}
			}
		}


	}

NKO_Infantry_manufacturer_facility = {
	allowed = { original_tag = NKO }
	icon = GFX_idea_NK_Arms
	name = NKO_infantry_manufacturer_facility

	equipment_type = {
		Inf_equipment
		cnc_equipment
		L_AT_Equipment
		AA_Equipment
	}

	research_categories = {
		CAT_inf
	}
	research_bonus = 0.15

	initial_trait = {
		name = tank_facility_foundry
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		equipment_bonus = {
			maximum_speed = 0.1
			reliability = 0.05
		}
	}
}


