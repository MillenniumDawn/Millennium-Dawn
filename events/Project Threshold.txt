add_namespace = project_threshold
add_namespace = EH_focus_event # Event Horizon focus tree

#Num 300 events are event chain before full invasion

news_event = { #convergence event, CERN have created an atom sized bridge between dimensions.
	id = project_threshold.300
	major = yes
	title = project_threshold.300.t
	desc = project_threshold.300.d
	picture = GFX_convergence_event

	is_triggered_only = yes

	option = {
		name = project_threshold.300.a
		log = "[GetDateText]: [This.GetName]: project_threshold.300.a executed"
	}
}
news_event = { #UN convoy attacked in Africa
	id = project_threshold.301
	major = yes
	title = project_threshold.301.t
	desc = project_threshold.301.d
	picture = GFX_UN_convoy_attack_event

	is_triggered_only = yes

	option = {
		name = project_threshold.301.a
		log = "[GetDateText]: [This.GetName]: project_threshold.301.a executed"
	}
}
news_event = { #weird seismic activity in China
	id = project_threshold.302
	major = yes
	title = project_threshold.302.t
	desc = project_threshold.302.d
	picture = GFX_tarim_earthquake_event

	is_triggered_only = yes

	option = {
		name = project_threshold.302.a
		log = "[GetDateText]: [This.GetName]: project_threshold.302.a executed"
	}
}
news_event = { #China Pamir outpost radio silence
	id = project_threshold.303
	major = yes
	title = project_threshold.303.t
	desc = project_threshold.303.d
	picture = GFX_pamir_attack_event

	is_triggered_only = yes

	option = {
		name = project_threshold.303.a
		log = "[GetDateText]: [This.GetName]: project_threshold.303.a executed"
	}
}
news_event = { #Alaska park rangers goes missing
	id = project_threshold.304
	major = yes
	title = project_threshold.304.t
	desc = project_threshold.304.d
	picture = GFX_alaska_attack_event

	is_triggered_only = yes

	option = {
		name = project_threshold.304.a
		log = "[GetDateText]: [This.GetName]: project_threshold.304.a executed"
	}
}
news_event = { #Peruvian village strange happenings
	id = project_threshold.305
	major = yes
	title = project_threshold.305.t
	desc = project_threshold.305.d
	picture = GFX_peru_outbreak_event

	is_triggered_only = yes

	option = {
		name = project_threshold.305.a
		log = "[GetDateText]: [This.GetName]: project_threshold.305.a executed"
	}
}
news_event = { #PLA base attacked, armed response+RU reinforcement
	id = project_threshold.306
	major = yes
	title = project_threshold.306.t
	desc = project_threshold.306.d
	picture = GFX_kashgar_attack_event

	is_triggered_only = yes

	option = {
		name = project_threshold.306.a
		log = "[GetDateText]: [This.GetName]: project_threshold.306.a executed"
	}
}
news_event = { #Russian tactical nuke dropped in Kashgar
	id = project_threshold.307
	major = yes
	title = project_threshold.307.t
	desc = project_threshold.307.d
	picture = GFX_kashgar_nuke_portal_event

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			launch_nuke = {
				province = 5016
				use_nuke = no
			}
		}
	}

	option = {
		name = project_threshold.307.a
		log = "[GetDateText]: [This.GetName]: project_threshold.307.a executed"
	}
}
news_event = { #portals open fully after nuke
	id = project_threshold.308
	major = yes
	title = project_threshold.308.t
	desc = project_threshold.308.d
	picture = GFX_portal_opening_event

	is_triggered_only = yes

	option = {
		name = project_threshold.308.a
		log = "[GetDateText]: [This.GetName]: project_threshold.308.a executed"
	}
}
news_event = { #UN Emergency session
	id = project_threshold.309
	major = yes
	title = project_threshold.309.t
	desc = project_threshold.309.d
	picture = GFX_UN_emergency_meeting_event

	is_triggered_only = yes

	option = {
		name = project_threshold.309.a
		log = "[GetDateText]: [This.GetName]: project_threshold.309.a executed"
	}
}
news_event = { #UN Joint Commander created, also first mention of states thinking about joining together
	id = project_threshold.310
	major = yes
	title = project_threshold.310.t
	desc = project_threshold.310.d
	picture = GFX_UN_joint_command_event

	is_triggered_only = yes

	option = {
		name = project_threshold.310.a
		log = "[GetDateText]: [This.GetName]: project_threshold.310.a executed"
	}
}
#Num 400 events are post invasion events such as unifications, alliances, and megastates
news_event = { #EU Megastate
	id = project_threshold.400
	major = yes
	title = project_threshold.400.t
	desc = project_threshold.400.d
	picture = GFX_united_EU_event

	is_triggered_only = yes

	option = {
		name = project_threshold.400.a
		log = "[GetDateText]: [This.GetName]: project_threshold.400.a executed"
	}
}
#Num 500 events are post invasion tech event leading to first proto HACS
news_event = { #Dr. Lisa Randall discovers Randallite
	id = project_threshold.500
	major = yes
	title = project_threshold.500.t
	desc = project_threshold.500.d
	picture = GFX_randallite_discovery_event

	is_triggered_only = yes

	option = {
		name = project_threshold.500.a
		log = "[GetDateText]: [This.GetName]: project_threshold.500.a executed"
	}
}
news_event = { #Proto HACS event
	id = project_threshold.501
	major = yes
	title = project_threshold.501.t
	desc = project_threshold.501.d
	picture = GFX_proto_HACS_event

	is_triggered_only = yes

	option = {
		name = project_threshold.501.a
		log = "[GetDateText]: [This.GetName]: project_threshold.501.a executed"
	}
}
news_event = { #Bosphorus counter attack HACS
	id = project_threshold.511
	major = yes
	title = project_threshold.511.t
	desc = project_threshold.511.d
	picture = GFX_counter_attack_bosphorus_event

	is_triggered_only = yes

	option = {
		name = project_threshold.511.a
		log = "[GetDateText]: [This.GetName]: project_threshold.511.a executed"
	}
}
#Num 800 events are defense lines and their fall
news_event = {
	id = project_threshold.800
	major = yes
	title = project_threshold.800.t
	desc = project_threshold.800.d
	picture = GFX_zenobia_line_event

	is_triggered_only = yes

	option = {
		name = project_threshold.800.a
		log = "[GetDateText]: [This.GetName]: project_threshold.800.a executed"
		
		217 = {
			add_building_construction = {
				type = landmark_zenobia_wall
				level = 1
				instant_build = yes
				province = 3871
			}
		}
	}
}
news_event = {
	id = project_threshold.801 #Zenobia and Saladin line fall
	major = yes
	title = project_threshold.801.t
	desc = project_threshold.801.d
	picture = GFX_defense_line_suez_fallen_event

	is_triggered_only = yes

	option = {
		name = project_threshold.801.a
		log = "[GetDateText]: [This.GetName]: project_threshold.801.a executed"
		
		217 = {
			damage_building = {
				type = landmark_zenobia_wall
				damage = 1 # levels of damage
				province = 3871
				repair_speed_modifier = -0.9
			}
		}
	}
}
news_event = {
	id = project_threshold.802 #Bosphorus line
	major = yes
	title = project_threshold.802.t
	desc = project_threshold.802.d
	picture = GFX_defense_line_suez_fallen_event

	is_triggered_only = yes

	option = {
		name = project_threshold.802.a
		log = "[GetDateText]: [This.GetName]: project_threshold.802.a executed"
	}
}
news_event = {
	id = project_threshold.803 #Bosphorus line fall
	major = yes
	title = project_threshold.803.t
	desc = project_threshold.803.d
	picture = GFX_defense_line_suez_fallen_event

	is_triggered_only = yes

	option = {
		name = project_threshold.803.a
		log = "[GetDateText]: [This.GetName]: project_threshold.803.a executed"
	}
}
#Num 900 events are the fall of famous cities
news_event = { #Washington DC fall
	id = project_threshold.900
	major = yes
	title = project_threshold.900.t
	desc = project_threshold.900.d
	picture = GFX_convergence_event_event

	is_triggered_only = yes

	option = {
		name = project_threshold.900.a
		log = "[GetDateText]: [This.GetName]: project_threshold.900.a executed"
	}
}
news_event = { #NY fall
	id = project_threshold.901
	major = yes
	title = project_threshold.901.t
	desc = project_threshold.901.d
	picture = GFX_convergence_event_event

	is_triggered_only = yes

	option = {
		name = project_threshold.901.a
		log = "[GetDateText]: [This.GetName]: project_threshold.901.a executed"
	}
}
news_event = { #LA fall
	id = project_threshold.902
	major = yes
	title = project_threshold.902.t
	desc = project_threshold.902.d
	picture = GFX_convergence_event_event

	is_triggered_only = yes

	option = {
		name = project_threshold.902.a
		log = "[GetDateText]: [This.GetName]: project_threshold.902.a executed"
	}
}
news_event = { #San Francisco fall
	id = project_threshold.903
	major = yes
	title = project_threshold.903.t
	desc = project_threshold.903.d
	picture = GFX_city_lost_sanfrancisco_global_event

	is_triggered_only = yes

	option = {
		name = project_threshold.903.a
		log = "[GetDateText]: [This.GetName]: project_threshold.903.a executed"
	}
}
news_event = { #Moscow fall
	id = project_threshold.904
	major = yes
	title = project_threshold.904.t
	desc = project_threshold.904.d
	picture = GFX_convergence_event_event

	is_triggered_only = yes

	option = {
		name = project_threshold.904.a
		log = "[GetDateText]: [This.GetName]: project_threshold.904.a executed"
	}
}
news_event = { #Shanghai fall
	id = project_threshold.905
	major = yes
	title = project_threshold.905.t
	desc = project_threshold.905.d
	picture = GFX_city_lost_shanghai_global_event

	is_triggered_only = yes

	option = {
		name = project_threshold.905.a
		log = "[GetDateText]: [This.GetName]: project_threshold.905.a executed"
	}
}


# Country Events

country_event = { # Formation of USN
 	id = project_threshold.1
	title = project_threshold.1.t
	desc = project_threshold.1.d
	picture = GFX_convergence_event

	is_triggered_only = yes

	option = {
		name = project_threshold.1.a
		log = "[GetDateText]: [This.GetName]: project_threshold.1.a executed"
		# FORMING NORTH AMERICA
		every_country = {
			limit = {
				is_in_north_america = yes
			}
			country_event = {
				id = project_threshold.2
			}
		}
	}
}

country_event = { # Formation of USN
 	id = project_threshold.2
	title = project_threshold.2.t
	desc = project_threshold.2.d
	picture = GFX_convergence_event

	is_triggered_only = yes

	option = {
		name = project_threshold.2.a
		log = "[GetDateText]: [This.GetName]: project_threshold.2.a executed"
		# FORMING NORTH AMERICA
		USN = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
		ROOT = {
			every_owned_state = {
				add_core_of = USN
			}
		}
	}
}

# FOCUS TREE EVENTS
country_event = {
 	id = EH_focus_event.1
	title = EH_focus_event.1.t
	desc = EH_focus_event.1.d
	picture = GFX_afghan_army_training

	is_triggered_only = yes

	option = {
		name = EH_focus_event.1.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.1.a executed"
		add_ideas = EH_massive_mobilization_idea
		custom_effect_tooltip = EH_spirits_lasts_until_war_is_active_TT
	}

	option = {
		name = EH_focus_event.1.b
		log = "[GetDateText]: [This.GetName]: EH_focus_event.1.b executed"
		add_ideas = EH_professional_military_idea
		custom_effect_tooltip = EH_spirits_lasts_until_war_is_active_TT
	}
}

country_event = {
 	id = EH_focus_event.2
	title = EH_focus_event.2.t
	desc = EH_focus_event.2.d
	picture = GFX_afghan_army_training

	is_triggered_only = yes

	option = {
		name = EH_focus_event.2.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.2.a executed"
		army_experience = 20
		add_war_support = 0.05
	}
}

country_event = {
 	id = EH_focus_event.3
	title = EH_focus_event.3.t
	desc = EH_focus_event.3.d
	picture = GFX_AFG_Drone_Event

	is_triggered_only = yes

	option = {
		name = EH_focus_event.3.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.3.a executed"
		add_war_support = 0.1
	}
}

country_event = {
 	id = EH_focus_event.4
	title = EH_focus_event.4.t
	desc = EH_focus_event.4.d
	picture = GFX_rocket_explosion

	is_triggered_only = yes

	option = {
		name = EH_focus_event.4.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.4.a executed"
		add_war_support = -0.03
	}
}

country_event = {
 	id = EH_focus_event.5
	title = EH_focus_event.5.t
	desc = EH_focus_event.5.d
	picture = GFX_terrorist_attack

	is_triggered_only = yes

	option = {
		name = EH_focus_event.5.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.5.a executed"
		add_manpower = -50
		ALN = {
			add_manpower = -120
		}
		set_variable_to_random = {
    		var = EH_breakthrough_lost_var
			min = -0.25
    		max = -0.1
		}
		add_breakthrough_progress = {
 			specialization = specialization_land
  			value = EH_breakthrough_lost_var
		}
		clear_variable = EH_breakthrough_lost_var
	}
}

country_event = {
 	id = EH_focus_event.6
	title = EH_focus_event.6.t
	desc = EH_focus_event.6.d
	picture = GFX_raid_retaliation

	is_triggered_only = yes

	option = {
		name = EH_focus_event.6.a
		log = "[GetDateText]: [This.GetName]: EH_focus_event.6.a executed"
		add_manpower = -15
		ALN = {
			add_manpower = -240
		}
	}
}